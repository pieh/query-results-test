{
  "path": "/blog/2019-01-29-themes-update-child-theming-and-component-shadowing/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Themes Update: Child Theming and Component Shadowing\",\n  \"date\": \"2019-01-29T00:00:00.000Z\",\n  \"author\": \"Chris Biscardi\",\n  \"excerpt\": \"Making it easier to abstract themes into reusable modules\",\n  \"tags\": [\"themes\", \"content-mesh\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Updated July 9, 2019 to reflect using the \", mdx(\"inlineCode\", {\n    parentName: \"em\"\n  }, \"gatsby-plugin-mdx\"), \" package instead of the (now deprecated) gatsby-mdx package.\"))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If you aren\\u2019t familiar with Gatsby themes yet, then check out \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2018-11-11-introducing-gatsby-themes/\"\n  }), \"Introducing\\nGatsby\\nThemes\"), \"\\nfor a written introduction and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.youtube.com/watch?v=wX84vXBpMR8\"\n  }), \"my Gatsby Days\\ntalk\"), \" for a more audio/visual\\napproach.\")), mdx(\"h1\", {\n    \"id\": \"child-theming\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#child-theming\",\n    \"aria-label\": \"child theming permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Child Theming\"), mdx(\"p\", null, \"We\\u2019ve merged \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/10787\"\n  }), \"a PR\"), \" into Gatsby\\ncore to support Child theming. Child theming is an extension of the core theming\\nalgorithm to support a \\u201Cparent/child\\u201D style relationship where child themes can\\nrely on parent themes in the same way sites rely on themes. This means you can\\nnow add a child theme using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"plugins\"), \" gatsby-config key in a theme as well as your\\nsites.\"), mdx(\"p\", null, \"This change is being made to make it easier for theme authors to produce themes\\nthat rely on complex behavior while enabling users who have different skill sets\\nto consume and modify those themes. Theme authors will benefit from the ability\\nto abstract logic, UI elements, and other Gatsby idioms into multiple packages\\nwhich can be consumed as a single theme. Child themes (and themes as a whole)\\nwill improve the ability of people with different skill sets to create\\naccessible, performant, beautiful sites. A few that I had in mind while building\\nout child theming are:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A designer who wants to change a set of design tokens to create a whole new\\nlook for a theme\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Someone who is more familiar with HTML and CSS than React and GraphQL and\\nwants to create a set of child blog themes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Someone familiar with GraphQL wants to enable new functionality by writing\\ntheir own queries for page templates\")), mdx(\"p\", null, \"We also want child themes to enable an ecosystem to build on top of and compose\\nwith each other. The 80% use case for a blog should be capable of being built on\\na similar data model encapsulated in a parent theme so that users can swap out\\nchild themes to try out new sites or new looks. This will take some more effort\\nto achieve, so more on that at a later date.\"), mdx(\"h2\", {\n    \"id\": \"a-concrete-example\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#a-concrete-example\",\n    \"aria-label\": \"a concrete example permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"A Concrete Example\"), mdx(\"p\", null, \"Taking advantage of child theming requires some familiarity with theming itself\\nto be used effectively. If you\\u2019re already experienced with themes and want to\\nsee how one possible way to upgrade your themes to use this feature, the\\ncorresponding PR in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ChristopherBiscardi/gatsby-theme-examples\"\n  }), \"gatsby-theme-examples\\nrepo\"), \" has \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ChristopherBiscardi/gatsby-theme-examples/pull/13\"\n  }), \"also\\nbeen\\nmerged\"), \".\"), mdx(\"p\", null, \"Let\\u2019s say you have a theme that contains a blog data model and some logic\\nrelating to how to render blog posts at specific pages, we\\u2019ll call it\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-theme-blog-core\"), \". This theme renders JSON representations of blog posts\\nat the relevant page locations instead of full UI because it\\u2019s only meant to\\nencapsulate the data model. We\\u2019ll skip going over page creation logic in\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \" and instead focus on the following possible \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \"\\nfor the core theme.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-theme-blog-core/gatsby-config.js\"\n  }), \"module.exports = {\\n  plugins: [`gatsby-plugin-mdx`],\\n}\\n\")), mdx(\"p\", null, \"Then we have another theme that handles applying a UI layer using to the core\\ndata model, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-theme-blog\"), \". This theme is a child theme of\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-theme-blog-core\"), \" and shadows the core theme\\u2019s modules to render\\nbeautiful posts on each blog using any styling technology we want, like\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://emotion.sh/\"\n  }), \"Emotion\"), \" or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://sass-lang.com/\"\n  }), \"Sass\"), \". Again, since\\nthis is a post on child theming itself we\\u2019ll skip looking at how shadowing is\\napplied to the parent and focus on one possible child theme \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-theme-blog/gatsby-config.js\"\n  }), \"module.exports = {\\n  plugins: [`gatsby-theme-blog-core`, `gatsby-plugin-emotion`],\\n}\\n\")), mdx(\"p\", null, \"Now that we\\u2019ve composed the original data model (with page creation logic) with\\nthe plugins and shadowed components to build the UI, any user can use our theme\\nby specifying only the child in their \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=my-site/gatsby-config.js\"\n  }), \"module.exports = {\\n  plugins: [`gatsby-theme-blog`],\\n}\\n\")), mdx(\"p\", null, \"The end result from a theme\\u2019s composition view is that we apply the parent, then\\nthe child, then the user\\u2019s site. This opens up a whole host of additional\\npossibilities as child themes can have multiple parents or compose with each\\nother. Data models for blogging and ecommerce can be combined into a usable\\nchild theme and distributed as a single npm package. Users don\\u2019t need to know\\nyour theme is made up of multiple parents.\"), mdx(\"p\", null, \"If we go back to our list of use cases, we can map each of them to a layer in\\nthis theme stack. The designer uses the child theme to make their own site\\n(passing tokens into the theme config), the person proficient in HTML and CSS\\ncan shadow components from the core theme (using minimal React), and the Gatsby\\nexpert can craft custom data models for their specific use cases to compose with\\nother models. Each link in the chain supports the next, allowing us to reveal\\ncomplexity for people with different skillsets when they need it and not before.\"), mdx(\"h2\", {\n    \"id\": \"component-shadowing\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#component-shadowing\",\n    \"aria-label\": \"component shadowing permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Component Shadowing\"), mdx(\"p\", null, \"The other major change that has landed is the only breaking change to themes so\\nfar. Based on feedback from the early adopters who have been authoring themes,\\nwe\\u2019ve changed Component Shadowing so that it now applies to the entire \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/\"), \"\\ndirectory instead of just the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/components\"), \" directory. This change was made\\nbecause of two key points of feedback:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"people had trouble remembering which folders got shadowed\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"people who did remember, also wanted shadowing on templates and other, new\\ndirectories (for example one for design tokens) that didn\\u2019t belong in\\ncomponents\")), mdx(\"p\", null, \"The fix for any currently existing theme users is to move any shadowed\\ncomponents from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/components/<theme-name>\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/<theme-name>/components\"), \".\"), mdx(\"h2\", {\n    \"id\": \"whats-next\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#whats-next\",\n    \"aria-label\": \"whats next permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What\\u2019s next?\"), mdx(\"p\", null, \"We are working on a roadmap post for themes which will give more insight into\\nthe future of theming, how we\\u2019re approaching stability, and what we\\u2019re working\\non next. Check back on the Gatsby blog to know when that is published.\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Making it easier to abstract themes into reusable modules",
        "timeToRead": 3,
        "fields": {
          "slug": "/blog/2019-01-29-themes-update-child-theming-and-component-shadowing/",
          "publishedAt": null
        },
        "frontmatter": {
          "title": "Themes Update: Child Theming and Component Shadowing",
          "excerpt": "Making it easier to abstract themes into reusable modules",
          "date": "January 29th 2019",
          "rawDate": "2019-01-29T00:00:00.000Z",
          "canonicalLink": null,
          "tags": [
            "themes",
            "content-mesh"
          ],
          "image": null,
          "imageAuthor": null,
          "imageAuthorLink": null,
          "imageTitle": null,
          "showImageInArticle": null,
          "author": {
            "id": "Chris Biscardi",
            "bio": "Early stage software product consultant. React*, Go, GraphQL, Containers, k8s.",
            "twitter": "@chrisbiscardi",
            "avatar": {
              "childImageSharp": {
                "fixed": {
                  "tracedSVG": "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%3e%3crect%20width='100%25'%20height='100%25'%20fill='%23f6f2f8'/%3e%3cpath%20d='M13%205c-3%203-3%203-2%208%200%202%200%204%201%203h4l3-1-3-1c-5%200-4-3%202-5%207-2%2010-1%209%204v2c2-2%201-8-2-10-4-4-9-4-12%200m9%2010c-1%201%200%201%202%201%201%200%202%200%201-1l-1-2-2%202m-4%206c0%203-2%204-4%202l-1-2v2c0%201-1%202-6%204-10%205-9%205%209%205l16-1c2-1-1-5-4-6-2-1-3-1-5%202-1%202-2%202-4%201s-2-3%200-5c4-2%204-3%201-3l-2%201'%20fill='%23e0d6eb'%20fill-rule='evenodd'/%3e%3c/svg%3e",
                  "width": 64,
                  "height": 64,
                  "src": "/static/6fc6a0322c6603376211bf5eacc8897e/56502/chris-biscardi.png",
                  "srcSet": "/static/6fc6a0322c6603376211bf5eacc8897e/56502/chris-biscardi.png 1x,\n/static/6fc6a0322c6603376211bf5eacc8897e/e32fc/chris-biscardi.png 1.5x,\n/static/6fc6a0322c6603376211bf5eacc8897e/4cb43/chris-biscardi.png 2x"
                }
              }
            },
            "fields": {
              "slug": "/contributors/chris-biscardi/"
            }
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/blog/2019-01-29-themes-update-child-theming-and-component-shadowing/",
      "prev": {
        "fields": {
          "slug": "/blog/2019-01-28-building-a-large-ecommerce-website-with-gatsby-at-daniel-wellington/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Building a large, internationalized e-commerce website with Gatsby at Daniel Wellington",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "case-studies",
            "large-sites",
            "i18n"
          ]
        }
      },
      "next": {
        "fields": {
          "slug": "/blog/2019-01-30-flamingo-case-study/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Flamingo, women’s body care brand from Harry’s, chooses Gatsby for critical ecommerce launch, 5X faster page loads",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "ecommerce",
            "case-studies",
            "marketing"
          ]
        }
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateBlogPostJs2991924798(\n  $slug: String!\n) {\n  mdx(fields: {slug: {eq: $slug}}) {\n    body\n    excerpt\n    timeToRead\n    fields {\n      slug\n      publishedAt\n    }\n    frontmatter {\n      title\n      excerpt\n      date(formatString: \"MMMM Do YYYY\")\n      rawDate: date\n      canonicalLink\n      tags\n      image {\n        childImageSharp {\n          resize(width: 1500, height: 1500) {\n            src\n          }\n          fluid(maxWidth: 786) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n      imageAuthor\n      imageAuthorLink\n      imageTitle\n      showImageInArticle\n      author {\n        id\n        bio\n        twitter\n        avatar {\n          childImageSharp {\n            fixed(width: 64, height: 64, quality: 75, traceSVG: {turdSize: 10, background: \"#f6f2f8\", color: \"#e0d6eb\"}) {\n              ...GatsbyImageSharpFixed_tracedSVG\n            }\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n\nfragment GatsbyImageSharpFluid on ImageSharpFluid {\n  base64\n  aspectRatio\n  src\n  srcSet\n  sizes\n}\n\nfragment GatsbyImageSharpFixed_tracedSVG on ImageSharpFixed {\n  tracedSVG\n  width\n  height\n  src\n  srcSet\n}\n"
}