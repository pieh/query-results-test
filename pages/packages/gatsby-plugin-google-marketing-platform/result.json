{
  "path": "/packages/gatsby-plugin-google-marketing-platform/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "gatsby-plugin-google-marketing-platform",
        "description": "Gatsby plugin to add different components of the Google Marketing Platform: Tag Manager, Analytics, Optimize",
        "keywords": [
          "gatsby",
          "gatsby-plugin",
          "google analytics",
          "google tagmanager",
          "google optimize"
        ],
        "lastPublisher": {
          "name": "colbyfayock",
          "avatar": "https://gravatar.com/avatar/a96fc540fd68ed9888330852f5cf82e9"
        },
        "repository": {
          "url": "https://github.com/colbyfayock/gatsby-plugin-google-marketing-platform"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<h1 id=\"google-marketing-platform-for-gatsby\"><a href=\"#google-marketing-platform-for-gatsby\" aria-label=\"google marketing platform for gatsby permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Google Marketing Platform for Gatsby</h1>\n<p>Easily add these GMP products in a cohesive way to your Gatsby site:</p>\n<ul>\n<li>Google Tag Manager</li>\n<li>Google Analytics</li>\n<li>Google Optimize</li>\n</ul>\n<p>The installation is based on Googleâ€™s recommendations and best practices.</p>\n<h3 id=\"what-this-does\"><a href=\"#what-this-does\" aria-label=\"what this does permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What This Does</h3>\n<p>This provides the ability to configure the Google Marketing Platform base tools, including Google Analytics, Google Optimize, and Google Tag Manager.</p>\n<p>This plugin also allows the ability to preset <code class=\"language-text\">dataLayer</code> variables. This is useful in cases where you need GA, configured within GTM, to fire with particular variables on the initial pageview, such as dynamically setting your Google Analytics Property ID, instead of requiring to maintain it in multiple locations.</p>\n<h3 id=\"what-this-does-not-do\"><a href=\"#what-this-does-not-do\" aria-label=\"what this does not do permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What this does NOT do</h3>\n<p>This will not provide any functionality around specific tracking or conversion tags. <strong>These responsibilities should be handled in Google Tag Manager</strong>.</p>\n<h2 id=\"getting-started\"><a href=\"#getting-started\" aria-label=\"getting started permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn install gatsby-plugin-google-marketing-platform</code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-plugin-google-marketing-platform</code></pre></div>\n<h2 id=\"setup\"><a href=\"#setup\" aria-label=\"setup permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setup</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-google-marketing-platform'</span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      dataLayer<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Preset dataLayer values</span>\n        gaPropertyId<span class=\"token punctuation\">:</span> <span class=\"token string\">'[Google Analytics ID]'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      tagmanager<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">:</span> <span class=\"token string\">'[Google Tag Manager ID]'</span><span class=\"token punctuation\">,</span>\n        params<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// GTM URL Parameters</span>\n          <span class=\"token comment\">// Ex: https://www.googletagmanager.com/gtm.js?id=[ID]&amp;gtm_cookies_win=x</span>\n          gtm_cookies_win<span class=\"token punctuation\">:</span> <span class=\"token string\">'x'</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      analytics<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">:</span> <span class=\"token string\">'[Google Analytics ID]'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      optimize<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">:</span> <span class=\"token string\">'[Google Optimize ID]'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      includeInDevelopment<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"what-that-will-add\"><a href=\"#what-that-will-add\" aria-label=\"what that will add permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What That Will Add</h2>\n<p>Note: the below will be minified along with the rest of the code and not include comments</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\n&lt;head&gt;\n  ...\n\n  &lt;!-- Set up dataLayer with data if provided --&gt;\n  &lt;script&gt;\n  window.dataLayer = window.dataLayer || [{&quot;gaPropertyId&quot;:&quot;TEST-1234&quot;}];\n  &lt;/script&gt;\n  \n  &lt;!-- Initialized GTM via gtag --&gt;\n  &lt;script&gt;\n  function gtag(){dataLayer.push(arguments);}\n  gtag(&#39;js&#39;, new Date());\n  &lt;/script&gt;\n  \n  &lt;!-- Google Optimize async hide class --&gt;\n  &lt;style&gt;.async-hide { opacity: 0 !important }&lt;/style&gt;\n  \n  &lt;!-- Google Optimize async hide script --&gt;\n  &lt;script&gt;\n  (function(a,s,y,n,c,h,i,d,e){s.className+=&#39; &#39;+y;h.start=1*new Date;\n  h.end=i=function(){s.className=s.className.replace(RegExp(&#39; ?&#39;+y),&#39;&#39;)};\n  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;\n  })(window,document.documentElement,&#39;async-hide&#39;,&#39;dataLayer&#39;,500,{&#39;ASDF-4321&#39;:true});\n  &lt;/script&gt;\n  \n  &lt;!-- Configure GTM given GA and GO IDs --&gt;\n  &lt;script&gt;\n  gtag(&#39;config&#39;, &#39;TEST-1234&#39;, {&quot;optimize_id&quot;:&quot;ASDF-4321&quot;});\n  &lt;/script&gt;\n\n  &lt;!-- Configure and initialize GTM --&gt;\n  &lt;script&gt;\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({&#39;gtm.start&#39;:\n  new Date().getTime(),event:&#39;gtm.js&#39;});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!=&#39;dataLayer&#39;?&#39;&amp;l=&#39;+l:&#39;&#39;;j.async=true;j.src=\n  &#39;https://www.googletagmanager.com/gtm.js?id=&#39;+i+dl+&#39;&amp;gtm_cookies_win=x&#39;;f.parentNode.insertBefore(j,f);\n  })(window,document,&#39;script&#39;,&#39;dataLayer&#39;, &#39;TESTASDF-12345678&#39;);\n  &lt;/script&gt;\n  ...\n&lt;/head&gt;\n...\n&lt;body&gt;\n  &lt;!-- GTM noscript for when JS isn&#39;t available --&gt;\n  &lt;noscript&gt;&lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=TESTASDF-12345678&amp;gtm_cookies_win=x&quot; height=&quot;0&quot; width=&quot;0&quot; style=&quot;display: none; visibility: hidden &gt;&lt;/iframe&gt;&lt;/noscript&gt;</code></pre></div>",
            "timeToRead": 2
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/gatsby-plugin-google-marketing-platform/",
      "id": "eae31cdd-7943-5685-9d9a-331959f307e0",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}