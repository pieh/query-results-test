{
  "path": "/blog/2019-05-02-how-to-build-a-blog-with-wordpress-and-gatsby-part-3/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How To Build A Blog with Wordpress and Gatsby.js - Part 3\",\n  \"date\": \"2019-05-02T00:00:00.000Z\",\n  \"author\": \"Tim Smith\",\n  \"excerpt\": \"In the third part of this series about WordPress and Gatsby.js, you will be creating pages using templates and components using data from WordPress.\",\n  \"tags\": [\"wordpress\", \"apis\", \"blogs\", \"headless-cms\", \"react\"],\n  \"canonicalLink\": \"https://www.iamtimsmith.com/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-3/\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Note: This is part two in a series of posts about Gatsby.js and WordPress. You can find \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-26-how-to-build-a-blog-with-wordpress-and-gatsby-part-1\"\n  }), \"Part One here\"), \", and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-30-how-to-build-a-blog-with-wordpress-and-gatsby-part-2\"\n  }), \"Part Two here\"), \".\")), mdx(\"p\", null, \"In the third part of this series about WordPress and Gatsby.js, you will be creating pages using templates and components with data from WordPress.\"), mdx(\"p\", null, \"So far, I\\u2019ve talked about what themes and plugins to use for a WordPress backend and why. You have also created a new Gatsby site and set it up to create routes for your blog posts programmatically. You will be using the same skills for some of the things in this post since you probably want to have a default template for your static pages. After that, you\\u2019ll create React.js components in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/pages\"), \" directory which will replace the default template for the desired pages, in this case your home page.\"), mdx(\"h2\", {\n    \"id\": \"creating-a-page-template\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-a-page-template\",\n    \"aria-label\": \"creating a page template permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating a page template\"), mdx(\"p\", null, \"As you\\u2019ll recall from the last post, you should create a page template before adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createPages\"), \" API to the gatsby-node.js file so it has something to call. To do this, you\\u2019ll create a file in the templates directory called PageTemplate.js using the code below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"touch ./src/templates/Page.js\\n\")), mdx(\"p\", null, \"Just like with the blog post template, you can probably just use a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.iamtimsmith.com/blog/class-components-vs-stateless-functional-components/\"\n  }), \"stateless functional component\"), \" for this. Like before, you won\\u2019t cover how to create a component in this article, but you can read about \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.iamtimsmith.com/blog/how-to-create-a-component/\"\n  }), \"creating a React.js component here\"), \".\"), mdx(\"p\", null, \"I will go ahead and start off with a generic template again and then fill it out later with the appropriate data. The code below will get a simple template created for us to use for pages for now:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/templates/Page.js\\nimport React from \\\"react\\\"\\nimport Layout from \\\"../components/layout\\\"\\n\\nconst PageTemplate = () => (\\n  <Layout>\\n    <h1>Page Template</h1>\\n  </Layout>\\n)\\n\\nexport default PageTemplate\\n\")), mdx(\"h2\", {\n    \"id\": \"adding-pages-to-gatsby-nodejs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#adding-pages-to-gatsby-nodejs\",\n    \"aria-label\": \"adding pages to gatsby nodejs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding pages to gatsby-node.js\"), mdx(\"p\", null, \"Awesome! Now that you have your page template created, you can add pages to the gatsby-node.js file. First, you will import the template just like you did for the BlogPostTemplate. Then you will add the allWordpressPage piece to the GraphQL query. Finally, you will use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createPage\"), \" API to create pages based on the information retrieved from the GraphQL query and use the Page template to build the pages automatically. Below is the finished gatsby-node.js file. See if you can spot the things I mentioned for the pages.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// gatsby-node.js\\n\\n/**\\n * Implement Gatsby's Node APIs in this file.\\n *\\n * See: https://www.gatsbyjs.org/docs/node-apis/\\n */\\n\\n// You can delete this file if you're not using it\\nconst path = require(`path`)\\n\\nexports.createPages = async ({ graphql, actions, reporter }) => {\\n  const { createPage } = actions\\n  const BlogPostTemplate = path.resolve(\\\"./src/templates/BlogPost.js\\\")\\n  const PageTemplate = path.resolve(\\\"./src/templates/Page.js\\\")\\n\\n  const result = await graphql(`\\n    {\\n      allWordpressPost {\\n        edges {\\n          node {\\n            slug\\n            wordpress_id\\n          }\\n        }\\n      }\\n      allWordpressPage {\\n        edges {\\n          node {\\n            slug\\n            wordpress_id\\n          }\\n        }\\n      }\\n    }\\n  `)\\n\\n  if (result.errors) {\\n    reporter.panicOnBuild(`Error while running GraphQL query.`)\\n    return\\n  }\\n\\n  const BlogPosts = result.data.allWordpressPost.edges\\n  BlogPosts.forEach(post => {\\n    createPage({\\n      path: `/post/${post.node.slug}`,\\n      component: BlogPostTemplate,\\n      context: {\\n        id: post.node.wordpress_id,\\n      },\\n    })\\n\\n    const Pages = result.data.allWordpressPage.edges\\n    Pages.forEach(page => {\\n      createPage({\\n        path: `/${page.node.slug}`,\\n        component: PageTemplate,\\n        context: {\\n          id: page.node.wordpress_id,\\n        },\\n      })\\n    })\\n  })\\n}\\n\")), mdx(\"p\", null, \"Just like before, you can test this to make sure the pages were created as expected by starting your development server and visiting \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/stuff\"\n  }), \"localhost:8000/stuff\"), \" to get a list of all of the available pages. Again, this is only available in a development environment since a live site will show a different 404 page. You should see an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/about\"), \" page and a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/sample-page\"), \" page in there. If so, your gatsby-node.js file worked and you can update the template to show the data you want.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4fd290679c03fff8956938069cfc5ab9/8d0ff/gatsby1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.833333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAA7klEQVQoz6WSW4+DIBSE+f+/0PtDH6TWuwKKwpkVtrYxTVZ3d5IvICGTOQ4sDEMkSYI0TRHHMaIoQpZlniAIwDmHExH9yH6HtW2Lqqo81lr8Vbsp67oOjrquMY4jhBCevu/9t1LqhZTSr9M0Hc611u+ETdPApdyNdlO3OgNjzCn7ZN6Q5znKsvzXuIeRhQRmn5hOf/ylUspCYdGf6ejV7DHBmVjzGNCVElotGxqTmKHG+Wn5Tn5V7H5fkMQreL7iURgMvYGeDZaFsK7HcS4ZFsWK281uTdP2dGh7LrQ1TBiG770xvzS0luC40uAVfQEWB2A43sadngAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"See a list of available pages\",\n    \"title\": \"See a list of available pages\",\n    \"src\": \"/static/4fd290679c03fff8956938069cfc5ab9/73d01/gatsby1.png\",\n    \"srcSet\": [\"/static/4fd290679c03fff8956938069cfc5ab9/a3b1f/gatsby1.png 197w\", \"/static/4fd290679c03fff8956938069cfc5ab9/07137/gatsby1.png 393w\", \"/static/4fd290679c03fff8956938069cfc5ab9/73d01/gatsby1.png 786w\", \"/static/4fd290679c03fff8956938069cfc5ab9/a5918/gatsby1.png 1179w\", \"/static/4fd290679c03fff8956938069cfc5ab9/8d0ff/gatsby1.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"updating-the-page-template\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#updating-the-page-template\",\n    \"aria-label\": \"updating the page template permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Updating the page template\"), mdx(\"p\", null, \"Since you have your page routes set up, you can start adding to the template. This will look very similar to the BlogPost.js file with only a few differences. In your blog, you aren\\u2019t going to have a featured image for static pages, so you can go ahead and leave that piece out of the query. You also don\\u2019t need a date or author for the pages since they don\\u2019t change. Essentially all you\\u2019ll need is a title and content along with an excerpt for the SEO component.\"), mdx(\"p\", null, \"The end result is a basic component as shown below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/templates/Page.js\\nimport React from \\\"react\\\"\\nimport { graphql } from \\\"gatsby\\\"\\nimport Layout from \\\"../components/layout.js\\\"\\nimport SEO from \\\"../components/seo\\\"\\n\\nconst PageTemplate = ({ data }) => (\\n  <Layout>\\n    <SEO\\n      title={data.wordpressPage.title}\\n      description={data.wordpressPage.excerpt}\\n    />\\n    <h1>{data.wordpressPage.title}</h1>\\n    <div dangerouslySetInnerHTML={{ __html: data.wordpressPage.content }} />\\n  </Layout>\\n)\\n\\nexport default PageTemplate\\n\\nexport const query = graphql`\\n  query($id: Int!) {\\n    wordpressPage(wordpress_id: { eq: $id }) {\\n      title\\n      excerpt\\n      content\\n    }\\n  }\\n`\\n\")), mdx(\"p\", null, \"I mentioned at the end of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-30-how-to-build-a-blog-with-wordpress-and-gatsby-part-2\"\n  }), \"part two\"), \" that configuring the gatsby-node.js file is probably the most difficult part of this whole thing. Since you worked your way through that already and understand how it works, setting up another content type was cake, right?\"), mdx(\"figure\", null, mdx(\"video\", {\n    autoPlay: true,\n    muted: true,\n    loop: true,\n    width: \"400\"\n  }, mdx(\"source\", {\n    src: \"https://media.giphy.com/media/zcCGBRQshGdt6/giphy.mp4\"\n  })), mdx(\"figcaption\", null, \"...That was easy\")), mdx(\"p\", null, \"Now if you visit the about page at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/about\"\n  }), \"http://localhost:8000/about\"), \", you can see the data coming in from WordPress. If you inspect the page and look at the head, you can also see that the title and meta tags are being updated in the head because of the SEO component!\"), mdx(\"h2\", {\n    \"id\": \"creating-pages-in-the-pages-directory\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-pages-in-the-pages-directory\",\n    \"aria-label\": \"creating pages in the pages directory permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating pages in the pages directory\"), mdx(\"p\", null, \"Gatsby provides some awesome out-of-the-box routing. Anything you create in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/pages\"), \" directory will automatically create a route for you. For instance, if you were to create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-is-awesome.js\"), \", Gatsby.js would see that and create a route called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/gatsby-is-awesome\"\n  }), \"http://localhost:8000/gatsby-is-awesome\"), \".\"), mdx(\"p\", null, \"You can also see that the starter default comes with a few pages already in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/pages\"), \" directory. The index page is what will show when a user visits \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/\"\n  }), \"http://localhost:8000/\"), \". There is also a file called page-2.js which is just a simple page to show how linking works. Finally, there is a 404.js available which is the 404 page that shows when your Gatsby site is live.\"), mdx(\"p\", null, \"Since you want your blog to show up on the homepage, you can edit the file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \" to do this. Let\\u2019s take a look at this file before you make any changes:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/pages/index.js\\nimport React from \\\"react\\\"\\nimport { Link } from \\\"gatsby\\\"\\n\\nimport Layout from \\\"../components/layout\\\"\\nimport Image from \\\"../components/image\\\"\\nimport SEO from \\\"../components/seo\\\"\\n\\nconst IndexPage = () => (\\n  <Layout>\\n    <SEO title=\\\"Home\\\" keywords={[`gatsby`, `application`, `react`]} />\\n    <h1>Hi people</h1>\\n    <p>Welcome to your new Gatsby site.</p>\\n    <p>Now go build something great.</p>\\n    <div style={{ maxWidth: `300px`, marginBottom: `1.45rem` }}>\\n      <Image />\\n    </div>\\n    <Link to=\\\"/page-2/\\\">Go to page 2</Link>\\n  </Layout>\\n)\\n\\nexport default IndexPage\\n\")), mdx(\"p\", null, \"You are going to remove everything after the SEO tag but before the closing Layout tag and replace it with your own stuff. You can also use a query pretty similar to the one in the blog post template except for the content piece. You can just use the excerpt provided by the WordPress API.\"), mdx(\"p\", null, \"To keep things basic, you\\u2019ll just create a list of recent blog posts with an image, title, author, date, and excerpt. Each of the items in this list should link to the individual blog post for readers. Below is the code to create this layout. It\\u2019s pretty straightforward and looks very similar to your blog post template with the exception of the map function which iterates over the items in an array.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/pages/index.js\\nimport React from \\\"react\\\"\\nimport { graphql, Link } from \\\"gatsby\\\"\\nimport Img from \\\"gatsby-image\\\"\\n\\nimport Layout from \\\"../components/layout\\\"\\nimport SEO from \\\"../components/seo\\\"\\n\\nconst IndexPage = ({ data }) => (\\n  <Layout>\\n    <SEO title=\\\"Home\\\" keywords={[`gatsby`, `application`, `react`]} />\\n    <ul style={{ listStyle: \\\"none\\\" }}>\\n      {data.allWordpressPost.edges.map(post => (\\n        <li style={{ padding: \\\"20px 0\\\", borderBottom: \\\"1px solid #ccc\\\" }}>\\n          <Link\\n            to={`/post/${post.node.slug}`}\\n            style={{ display: \\\"flex\\\", color: \\\"black\\\", textDecoration: \\\"none\\\" }}\\n          >\\n            <Img\\n              sizes={post.node.acf.feat_img.localFile.childImageSharp.sizes}\\n              alt={post.node.title}\\n              style={{ width: \\\"25%\\\", marginRight: 20 }}\\n            />\\n            <div style={{ width: \\\"75%\\\" }}>\\n              <h3\\n                dangerouslySetInnerHTML={{ __html: post.node.title }}\\n                style={{ marginBottom: 0 }}\\n              />\\n              <p style={{ margin: 0, color: \\\"grey\\\" }}>\\n                Written by {post.node.author.name} on {post.node.date}\\n              </p>\\n              <div dangerouslySetInnerHTML={{ __html: post.node.excerpt }} />\\n            </div>\\n          </Link>\\n        </li>\\n      ))}\\n    </ul>\\n  </Layout>\\n)\\n\\nexport default IndexPage\\n\\nexport const query = graphql`\\n  query {\\n    allWordpressPost {\\n      edges {\\n        node {\\n          title\\n          excerpt\\n          slug\\n          author {\\n            name\\n          }\\n          date(formatString: \\\"MMMM DD, YYYY\\\")\\n          acf {\\n            feat_img {\\n              localFile {\\n                childImageSharp {\\n                  sizes(maxWidth: 600) {\\n                    ...GatsbyImageSharpSizes\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n`\\n\")), mdx(\"p\", null, \"And here\\u2019s what it looks like when you visit the homepage of your blog:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/3f887c362141374a087a1fa0107660d3/8d0ff/gatsby2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.13888888888889%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACE0lEQVQoz3WRS2sTYRSG83M01a3SX6BFKW5EKGqsC0FaFBdVG8SFG1eiYhuQdKPWuLMuihTrQhNHsSCteAmZTJ1M5p7bTKchc+nMvH7fJxMmVQ88nLmc83LOezK57AIujC3i3IFHmBlfwq3JEuYnniJ/Yhk3JpYxf7KEy0eLyB1cwPShwpBcdhG0dz+ZT6s1JHxeq+PjuojKWxUcyRtv6gQe3GoV5Vc/UCGUV74zWP3rOtL9lAxSsUfIf41x/QOP299iNFsGJHkbsiZB0SVopgzVaJJ3EbsDm1RH2B+ZMIwQ7pEfUQTLjXHxnY/plxwuvfch6R0oUhPNpgypIUFVVJiGCUM3oesGFFmF53qIwphpUC02YRzHTD0IQ2z8klEWTJbtnR3Ytg3LstDr9eA4DgaDAVzXZQRBgKQ/0RgR9P0Bnt87jQczR1C6fwbV6k9sbm2RXIWiKGi32zBNE51OB61WC/1+/3+Cf7ywrTbOH89i7tRhksewLdTQIKs2RBGyTPxTVWiaxsR1XWfPvu8jPdTIhI6zi2eFx6isvMCT4hJp0Nk0dDJKt9tlKyd4njfs/adgELi4W7yJ/MNZFO5cha6pMAyDQSeiaya16Uh/GxHsEfPPzh7DlWvjmJuaQp0XUKvVwPM8BEEg6zeGSJIEkViR9vEvQdfz8aXMQSyvg+M2yZUdduEEuiK9LIV6R4miaETwN8XjBbgvKT6zAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Finished blog home page\",\n    \"title\": \"Finished blog home page\",\n    \"src\": \"/static/3f887c362141374a087a1fa0107660d3/73d01/gatsby2.png\",\n    \"srcSet\": [\"/static/3f887c362141374a087a1fa0107660d3/a3b1f/gatsby2.png 197w\", \"/static/3f887c362141374a087a1fa0107660d3/07137/gatsby2.png 393w\", \"/static/3f887c362141374a087a1fa0107660d3/73d01/gatsby2.png 786w\", \"/static/3f887c362141374a087a1fa0107660d3/a5918/gatsby2.png 1179w\", \"/static/3f887c362141374a087a1fa0107660d3/8d0ff/gatsby2.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"It\\u2019s looking pretty good so far. You\\u2019re getting pretty close to being done, you just have a few more things to change and you\\u2019re ready to start blogging!\"), mdx(\"figure\", null, mdx(\"video\", {\n    autoPlay: true,\n    muted: true,\n    loop: true\n  }, mdx(\"source\", {\n    src: \"https://media.giphy.com/media/qLWdMYX1NYF2g/giphy.mp4\"\n  })), mdx(\"figcaption\", null, \"So close...\")), mdx(\"h2\", {\n    \"id\": \"changing-the-header-component\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#changing-the-header-component\",\n    \"aria-label\": \"changing the header component permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Changing the header component\"), mdx(\"p\", null, \"One of the first things I notice about the blog pictured above is the header. It doesn\\u2019t look bad, but you probably don\\u2019t want your blog to say \\u201CGatsby Default Starter\\u201D. There are a few ways you can change this, which I\\u2019ll go over real quick.\"), mdx(\"h3\", {\n    \"id\": \"in-the-gatsby-configjs-file\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#in-the-gatsby-configjs-file\",\n    \"aria-label\": \"in the gatsby configjs file permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"In the gatsby-config.js file\"), mdx(\"p\", null, \"In the gatsby-config.js file, you can see a piece at the top called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"siteMetaData\"), \" with a title, description, and author. This is where some basic information is kept about the project for the SEO component, but also for the site name.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// gatsby-config.js\\nmodule.exports = {\\n  siteMetadata: {\\n    title: `Gatsby Default Starter`,\\n    description: `Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.`,\\n    author: `@gatsbyjs`,\\n  },\\n  plugins: [ ... ],\\n}\\n\")), mdx(\"p\", null, \"The title you\\u2019re seeing in the header comes from the title listed here. You can change it to whatever you\\u2019d like your site to be called. Usually when building a WordPress site, I get all of my data for this from WordPress but in the case of a site using markdown or something different you may want to use the stuff located here.\"), mdx(\"h3\", {\n    \"id\": \"in-the-header-component\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#in-the-header-component\",\n    \"aria-label\": \"in the header component permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"In the header component\"), mdx(\"p\", null, \"Since you are building a blog using WordPress and want your users to have full control over the data, you should get your site name from WordPress so if it ever changes the user can update it. Fortunately, WordPress makes this available to us through the API, so you can query it in GraphQL like so:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4c44510a02636cd6249be5c0e49b4a60/8d0ff/gatsby3.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.13888888888889%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2ElEQVQoz7WT6w6CMAxGef/HNEJAdmc3QPa5IQozkBASS062H+tpga4oywpN80BLKAghEEJAKZUhI4wySCniXoLHMxlcgDGOpqUoOm3QCAtle0whIEVY1k+E+NCW41ZR1HcKJToYbVesm7HOo7DO4TlNa/JGFjYFhNKoqQInCpp10LxbVg1j3rIkLYZh+CbtkWKKBbUx8L6H63tY73MW2aFwr0Nt0qutib8cdph9u6xDm3WS9ntcEh7J/ic8+iGXhOM44kycFs43Qco4S2ks/C4uzmoamzPCF8etW5bMSBuNAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Graphql query to get siteName from WordPress\",\n    \"title\": \"Graphql query to get siteName from WordPress\",\n    \"src\": \"/static/4c44510a02636cd6249be5c0e49b4a60/73d01/gatsby3.png\",\n    \"srcSet\": [\"/static/4c44510a02636cd6249be5c0e49b4a60/a3b1f/gatsby3.png 197w\", \"/static/4c44510a02636cd6249be5c0e49b4a60/07137/gatsby3.png 393w\", \"/static/4c44510a02636cd6249be5c0e49b4a60/73d01/gatsby3.png 786w\", \"/static/4c44510a02636cd6249be5c0e49b4a60/a5918/gatsby3.png 1179w\", \"/static/4c44510a02636cd6249be5c0e49b4a60/8d0ff/gatsby3.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Using queries works a bit differently inside of components. Rather than just writing a query which drops data into your page or template, you have to use a new component called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"StaticQuery\"), \" which is designed specifically for using queries inside of components.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/components/header.js\\nimport { Link } from \\\"gatsby\\\"\\nimport PropTypes from \\\"prop-types\\\"\\nimport React from \\\"react\\\"\\n\\nconst Header = ({ siteTitle }) => (\\n  <header\\n    style={{\\n      background: `rebeccapurple`,\\n      marginBottom: `1.45rem`,\\n    }}\\n  >\\n    <div\\n      style={{\\n        margin: `0 auto`,\\n        maxWidth: 960,\\n        padding: `1.45rem 1.0875rem`,\\n      }}\\n    >\\n      <h1 style={{ margin: 0 }}>\\n        <Link\\n          to=\\\"/\\\"\\n          style={{\\n            color: `white`,\\n            textDecoration: `none`,\\n          }}\\n        >\\n          {siteTitle}\\n        </Link>\\n      </h1>\\n    </div>\\n  </header>\\n)\\n\\nHeader.propTypes = {\\n  siteTitle: PropTypes.string,\\n}\\n\\nHeader.defaultProps = {\\n  siteTitle: ``,\\n}\\n\\nexport default Header\\n\")), mdx(\"p\", null, \"If you take a quick look at the existing header component, you will see that a site-title is being passed in as a prop which is then used to display the site title from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" in the header. What you are going to do is use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"StaticQuery\"), \" component provided by Gatsby and use a query prop to run your query and then a render prop to actually render out your component like you normally would. You can see below how you do this in code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/components/header.js\\nimport { StaticQuery, graphql, Link } from \\\"gatsby\\\"\\nimport React from \\\"react\\\"\\n\\nconst Header = () => (\\n  <StaticQuery\\n    query={graphql`\\n      query {\\n        wordpressSiteMetadata {\\n          name\\n        }\\n      }\\n    `}\\n    render={data => (\\n      <header\\n        style={{\\n          background: `rebeccapurple`,\\n          marginBottom: `1.45rem`,\\n        }}\\n      >\\n        <div\\n          style={{\\n            margin: `0 auto`,\\n            maxWidth: 960,\\n            padding: `1.45rem 1.0875rem`,\\n            display: `flex`,\\n            justifyContent: `space-between`,\\n            alignItems: `center`,\\n          }}\\n        >\\n          <h1 style={{ margin: 0 }}>\\n            <Link\\n              to=\\\"/\\\"\\n              style={{\\n                color: `white`,\\n                textDecoration: `none`,\\n              }}\\n            >\\n              {data.wordpressSiteMetadata.name}\\n            </Link>\\n          </h1>\\n        </div>\\n      </header>\\n    )}\\n  />\\n)\\n\\nexport default Header\\n\")), mdx(\"p\", null, \"The header component above looks a little different than it originally did, but as you start to dig into it a bit more you can see it hasn\\u2019t changed much. You essentially just wrapped your header in the StaticQuery component and then ran your query inside of that component to give the header the necessary data.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a028b4271a078e09c245549d1204a402/8d0ff/gatsby4.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.13888888888889%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/ElEQVQoz32RzWvTcBjH+1949G/w7eDRi+JBPHlxIB7my0EQD6I33WHbZXoTiqCIL6DInA60TIuda8FN+kLRQbq0tE3SdMmSvqy2tFuTj/klRrrq/MGH50nI8833+3silw5HCZk8FOXWqafcPfuC6XMvvf4Zl4885MrRvYh34tvR2ZDIRlZHUMjoFL2ay2yytGoT/9YgvaaQWZbIrsjkkgGZLwXyqRKlvIGc22QjE8yHRBg7ny2Y+LDOZLzEx2qXuiqj1KooWgVNV1C9XtRm28Zhd3yciDN0EOwOXe/RIb0Fs7kBc/kdsvUdOg0Lc8vCMExsu0G7vU27tU2j0aTb7eE6LqGG4I9D13H8amjfWXo1Q+LtPYrSGqVShWqlgmmatFotT7BNp9PxxLrBnOvudRg2w2FgPxF7ztWTB7h+5iCxd08oeoKFgoSiKNRqNTRN86uu675wKBoKjwgO/ZpMLPN4dopHc9OkkinPyU8sy/JpNpu+w5DBYLC/oPM78g8pzVT0Jg/u3yb7dQXTE6rXdd+ViDx+/hM5cBj7tMjEtWPcuHCa+OJ7KkoVSZKQZZlyuYyqqn5scQW2be/vUGxLHEXVWV9OkEmuUlbqXrRgEb1ez//pKCJVKPSPOwyW8mZhgTvnjzNz8QSv5+f9qIZh+AsQCGGxYUG/3//L4S/DNg1q28hZowAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Your Gatsby.js blog after updating the header component\",\n    \"title\": \"Your Gatsby.js blog after updating the header component\",\n    \"src\": \"/static/a028b4271a078e09c245549d1204a402/73d01/gatsby4.png\",\n    \"srcSet\": [\"/static/a028b4271a078e09c245549d1204a402/a3b1f/gatsby4.png 197w\", \"/static/a028b4271a078e09c245549d1204a402/07137/gatsby4.png 393w\", \"/static/a028b4271a078e09c245549d1204a402/73d01/gatsby4.png 786w\", \"/static/a028b4271a078e09c245549d1204a402/a5918/gatsby4.png 1179w\", \"/static/a028b4271a078e09c245549d1204a402/8d0ff/gatsby4.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h3\", {\n    \"id\": \"adding-a-menu-to-the-header\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#adding-a-menu-to-the-header\",\n    \"aria-label\": \"adding a menu to the header permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding a Menu to the Header\"), mdx(\"p\", null, \"Let\\u2019s take it a step further and say your user wants a menu in the header that he or she can update from WordPress. If you\\u2019ll recall in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-26-how-to-build-a-blog-with-wordpress-and-gatsby-part-1\"\n  }), \"first part of this series\"), \", I mentioned a plugin called WP API Menus which will make your menus available in the Rest API.\"), mdx(\"p\", null, \"When you were setting your gatsby-config.js file in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-30-how-to-build-a-blog-with-wordpress-and-gatsby-part-2\"\n  }), \"second part of the series\"), \", you just stuck with the default routes provided in the gatsby-source-wordpress docs. The WP API Menus plugin creates a few new routes for those endpoints, so the first thing you need to do is add these endpoints to the gatsby-config.js file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// gatsby-config.js\\nmodule.exports = {\\n  siteMetadata: {\\n    title: `Gatsby Default Starter`,\\n    description: `Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.`,\\n    author: `@gatsbyjs`,\\n  },\\n  plugins: [\\n    `gatsby-plugin-react-helmet`,\\n    {\\n      resolve: `gatsby-source-filesystem`,\\n      options: {\\n        name: `images`,\\n        path: `${__dirname}/src/images`,\\n      },\\n    },\\n    `gatsby-transformer-sharp`,\\n    `gatsby-plugin-sharp`,\\n    {\\n      resolve: `gatsby-plugin-manifest`,\\n      options: {\\n        name: `gatsby-starter-default`,\\n        short_name: `starter`,\\n        start_url: `/`,\\n        background_color: `#663399`,\\n        theme_color: `#663399`,\\n        display: `minimal-ui`,\\n        icon: `src/images/gatsby-icon.png`, // This path is relative to the root of the site.\\n      },\\n    },\\n    {\\n      resolve: \\\"gatsby-source-wordpress\\\",\\n      options: {\\n        // I have created a dummy site for us to use with the plugins we discussed\\n        baseUrl: \\\"using-wordpress-with-gatsby.iamtimsmith.com\\\",\\n        protocol: \\\"https\\\",\\n        hostingWPCOM: false,\\n        // We will be using some advanced custom fields\\n        useACF: true,\\n        acfOptionPageIds: [],\\n        verboseOutput: false,\\n        perPage: 100,\\n        searchAndReplaceContentUrls: {\\n          sourceUrl: \\\"https://www.using-wordpress-with-gatsby.iamtimsmith.com\\\",\\n          replacementUrl: \\\"https://localhost:8000\\\",\\n        },\\n        // Set how many simultaneous requests are sent at once.\\n        concurrentRequests: 10,\\n        includedRoutes: [\\n          \\\"**/categories\\\",\\n          \\\"**/posts\\\",\\n          \\\"**/pages\\\",\\n          \\\"**/media\\\",\\n          \\\"**/tags\\\",\\n          \\\"**/taxonomies\\\",\\n          \\\"**/users\\\",\\n          \\\"**/*/*/menus\\\", // <== Menu api endpoint\\n          \\\"**/*/*/menu-locations\\\", // <== Menu api endpoint\\n        ],\\n        excludedRoutes: [],\\n        normalizer: function({ entities }) {\\n          return entities\\n        },\\n      },\\n    },\\n    `gatsby-plugin-sitemap`,\\n    // this (optional) plugin enables Progressive Web App + Offline functionality\\n    // To learn more, visit: https://gatsby.dev/offline\\n    // 'gatsby-plugin-offline',\\n  ],\\n}\\n\")), mdx(\"p\", null, \"If you look at the code above, you\\u2019ll notice you have added two new routes to the gatsby-source-wordpress. These routes are created automatically by the plugin inside of WordPress without any additional configuration. Remember, after making changes to files outside of the src folder, you need to restart your development server by running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby develop\"), \". After restarting, you can visit \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/___graphql\"\n  }), \"http://localhost:8000/\", \"_\", \"_\", \"_\", \"graphql\"), \" and query for the menu information, which will look like the screenshot below.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/b67ad819a89f248f60e647db2ded39c2/8d0ff/gatsby6.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.13888888888889%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABGUlEQVQoz42TW26DMBBF2f9CupP+dgetWjVRlDiMH8E2YMzt2MSRS0mFpaMRoDm6jO3mcDxCXC6Q1EIIAWoljNLQWsMYk9EMtQStFJRmuEqZkHcUiCTOokVjncOH8PikALIBow+Y3IgpBJQ1zzNaQfg+ES50w1V16KyD8z2s8w/Sc+NY+Pqu8PKm8SWnRVCJSk2Cg1A4s9SQgeVm5/osKSRpMwwDt0Qm5JocSVBIK3K11nI6w+NR6E4StvubMAvHccyJYhYt+e6eXwm1uXFKjy412oUirFNmYWmqBXWNMT5mtv7F9btNIZ7McGsTdiVcC+uEtWyLZYbVJqzZEj6TZWGoztt/a7cw3wS+FelY9H2/ife8u/x9j/AHeUxZqZ4DFV4AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"GraphiQL query to get menu items from WordPress\",\n    \"title\": \"GraphiQL query to get menu items from WordPress\",\n    \"src\": \"/static/b67ad819a89f248f60e647db2ded39c2/73d01/gatsby6.png\",\n    \"srcSet\": [\"/static/b67ad819a89f248f60e647db2ded39c2/a3b1f/gatsby6.png 197w\", \"/static/b67ad819a89f248f60e647db2ded39c2/07137/gatsby6.png 393w\", \"/static/b67ad819a89f248f60e647db2ded39c2/73d01/gatsby6.png 786w\", \"/static/b67ad819a89f248f60e647db2ded39c2/a5918/gatsby6.png 1179w\", \"/static/b67ad819a89f248f60e647db2ded39c2/8d0ff/gatsby6.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The final step is to add this query into your static query and create the menu itself in the header component. You can just drop this in under the wordpressSiteMetadata piece. Once you have it added into the query, you can just use a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"map()\"), \" function to iterate over the menu items and create it dynamically, allowing the user to update it through WordPress. Doing it this way does require us to specify which menu you want, so you need the name of the menu which is set in WordPress. In this case, your menu is called Main Menu so you will use that in your query.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/components/header.js\\nimport { StaticQuery, graphql, Link } from \\\"gatsby\\\"\\nimport React from \\\"react\\\"\\n\\nconst Header = () => (\\n  <StaticQuery\\n    query={graphql`\\n      query {\\n        wordpressSiteMetadata {\\n          name\\n        }\\n        wordpressWpApiMenusMenusItems(name: { eq: \\\"Main Menu\\\" }) {\\n          items {\\n            title\\n            object_slug\\n          }\\n        }\\n      }\\n    `}\\n    render={data => (\\n      <header\\n        style={{\\n          background: `rebeccapurple`,\\n          marginBottom: `1.45rem`,\\n        }}\\n      >\\n        <div\\n          style={{\\n            margin: `0 auto`,\\n            maxWidth: 960,\\n            padding: `1.45rem 1.0875rem`,\\n            display: `flex`,\\n            justifyContent: `space-between`,\\n            alignItems: `center`,\\n          }}\\n        >\\n          <h1 style={{ margin: 0 }}>\\n            <Link\\n              to=\\\"/\\\"\\n              style={{\\n                color: `white`,\\n                textDecoration: `none`,\\n              }}\\n            >\\n              {data.wordpressSiteMetadata.name}\\n            </Link>\\n          </h1>\\n          <ul style={{ listStyle: `none`, display: `flex`, margin: 0 }}>\\n            {data.wordpressWpApiMenusMenusItems.items.map(item => (\\n              <li key={item.object_slug} style={{ margin: `0 10px` }}>\\n                <Link\\n                  to={`/${item.object_slug}`}\\n                  style={{\\n                    color: `white`,\\n                    textDecoration: `none`,\\n                    fontFamily: `sans-serif`,\\n                  }}\\n                >\\n                  {item.title}\\n                </Link>\\n              </li>\\n            ))}\\n          </ul>\\n        </div>\\n      </header>\\n    )}\\n  />\\n)\\n\\nexport default Header\\n\")), mdx(\"p\", null, \"That\\u2019s a good looking component! Let\\u2019s see what it looks like when you visit the site:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c9a3761bf130b14a5e780795acb4fe0f/8d0ff/gatsby7.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.13888888888889%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQoz3WRy2sTURTG8+doo90oSv8CFTfdiFCkNRUCalFcVEpAF25ciYo1EtKNz+5aF1aUdqGJqVWRFq3GTKedTCbzymumY8w8OjOf916dMvFx4ce593LOx3fOSYwNTON08i5G99zB2cN5ZI4/wtSxB7gyPItzQzMY2zuN1L4sy0klf8Uzg/eQPpBD+mAO44NZUI2IxNtnFUS8e7GB0qKA4pKM5SUBywvfUHj6BcXf0Hthfp3Edaw85/Dh5SZWFjjENRKInR1C5lOIy284XP0cQmrqkOQt1FWRUIWiS5C1GmqKAOuHQbJ9/HkSvh/A3wmAIIBhhxh/5SI1V0L6tQtRbUESRdRqEsSqCLkuQ9d0aCpFQ528HdtB4IdMg2oxh2EYMnXP9/F+S0KB11k0t7dhmiYMw0Cn04FlWej1erBtm+F5HqL6SKNP0HV7eHzjBG6dP4QnN0+iXP6K1bU1EsvETR3NZhO6rqPVaqHRaKDb7f5PMGAP02hi9OgAJof3k5jEJl9BlbRaFQRIEpmfLENRFCauqiq7u66LuKk+h5b1HQ+zORTnZ3E/P0MKVOaGOqO0223WcoTjOLu1/xT0PBvX81PI3J5A9tpFqIoMTdMY1BFtM8qNn/hfn2CHDP/UxBFcuDSEyZERbHA8KpUKOI4Dz/Ok/eouItm+QEYRn+Nfgrbj4mOhBKGwiFJplWzZYhuOoC3SzVLo7ChBEPQJ/gRdYAVNzavdhQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Blog after adding menu to header\",\n    \"title\": \"Blog after adding menu to header\",\n    \"src\": \"/static/c9a3761bf130b14a5e780795acb4fe0f/73d01/gatsby7.png\",\n    \"srcSet\": [\"/static/c9a3761bf130b14a5e780795acb4fe0f/a3b1f/gatsby7.png 197w\", \"/static/c9a3761bf130b14a5e780795acb4fe0f/07137/gatsby7.png 393w\", \"/static/c9a3761bf130b14a5e780795acb4fe0f/73d01/gatsby7.png 786w\", \"/static/c9a3761bf130b14a5e780795acb4fe0f/a5918/gatsby7.png 1179w\", \"/static/c9a3761bf130b14a5e780795acb4fe0f/8d0ff/gatsby7.png 1440w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"wrapping-up\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#wrapping-up\",\n    \"aria-label\": \"wrapping up permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Wrapping up\"), mdx(\"p\", null, \"Well done! You now have a functioning blog using WordPress and Gatsby. There are more things you can do to add custom functionality such as custom post types, galleries, and more, but this is enough to get you started for now. As you\\u2019ve seen, this stack is the best of both worlds since clients and users get the awesome experience of content creating with WordPress and as a developer you can leverage the amazing capabilities of Gatsby. As usual, go forth and make the internet a better place to be!\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/iamtimsmith/building-a-blog-with-wordpress-and-gatsby\"\n  }), \"code for this post\"), \" can be found on GitHub.\"), mdx(\"p\", null, \"If you have any thoughts or questions, you can find me on twitter at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/iam_timsmith\"\n  }), \"@iam_timsmith\"), \"!\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "In the third part of this series about WordPress and Gatsby.js, you will be creating pages using templates and components using data from WordPress.",
        "timeToRead": 7,
        "fields": {
          "slug": "/blog/2019-05-02-how-to-build-a-blog-with-wordpress-and-gatsby-part-3/",
          "publishedAt": "www.iamtimsmith.com"
        },
        "frontmatter": {
          "title": "How To Build A Blog with Wordpress and Gatsby.js - Part 3",
          "excerpt": "In the third part of this series about WordPress and Gatsby.js, you will be creating pages using templates and components using data from WordPress.",
          "date": "May 2nd 2019",
          "rawDate": "2019-05-02T00:00:00.000Z",
          "canonicalLink": "https://www.iamtimsmith.com/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-3/",
          "tags": [
            "wordpress",
            "apis",
            "blogs",
            "headless-cms",
            "react"
          ],
          "image": null,
          "imageAuthor": null,
          "imageAuthorLink": null,
          "imageTitle": null,
          "showImageInArticle": null,
          "author": {
            "id": "Tim Smith",
            "bio": "Programmer Analyst @HonCompany. Freelance Web Developer. Person.",
            "twitter": "@iam_timsmith",
            "avatar": {
              "childImageSharp": {
                "fixed": {
                  "tracedSVG": "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%3e%3crect%20width='100%25'%20height='100%25'%20fill='%23f6f2f8'/%3e%3cpath%20d='M11%205l-1%206c1%205%200%206-1%207-2%201-5%2012-4%2013l11%201c12%200%2013-1%208-6l-2-4%202-4c1-4-4-4-7%200-4%204-4%202%200-4%203-7%202-10-2-10l-4%201'%20fill='%23e0d6eb'%20fill-rule='evenodd'/%3e%3c/svg%3e",
                  "width": 64,
                  "height": 64,
                  "src": "/static/6ca8c8158509abcfbedf3442428a178b/88ae8/tim-smith.jpg",
                  "srcSet": "/static/6ca8c8158509abcfbedf3442428a178b/88ae8/tim-smith.jpg 1x,\n/static/6ca8c8158509abcfbedf3442428a178b/0740f/tim-smith.jpg 1.5x,\n/static/6ca8c8158509abcfbedf3442428a178b/c9264/tim-smith.jpg 2x"
                }
              }
            },
            "fields": {
              "slug": "/contributors/tim-smith/"
            }
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/blog/2019-05-02-how-to-build-a-blog-with-wordpress-and-gatsby-part-3/",
      "prev": {
        "fields": {
          "slug": "/blog/2019-04-30-how-to-build-a-blog-with-wordpress-and-gatsby-part-2/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "How To Build A Blog with Wordpress and Gatsby.js - Part 2",
          "draft": null,
          "canonicalLink": "https://www.iamtimsmith.com/blog/how-to-build-a-blog-with-wordpress-and-gatsby-part-2/",
          "publishedAt": null,
          "issue": null,
          "tags": [
            "wordpress",
            "apis",
            "blogs",
            "headless-cms",
            "react"
          ]
        }
      },
      "next": {
        "fields": {
          "slug": "/blog/2019-05-02-growing-housecall-pro-by-973-percent/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Growing Housecall Pro by 973% with Gatsby",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "contentful",
            "react",
            "netlify",
            "case-studies",
            "gatsby-for-teams"
          ]
        }
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateBlogPostJs2991924798(\n  $slug: String!\n) {\n  mdx(fields: {slug: {eq: $slug}}) {\n    body\n    excerpt\n    timeToRead\n    fields {\n      slug\n      publishedAt\n    }\n    frontmatter {\n      title\n      excerpt\n      date(formatString: \"MMMM Do YYYY\")\n      rawDate: date\n      canonicalLink\n      tags\n      image {\n        childImageSharp {\n          resize(width: 1500, height: 1500) {\n            src\n          }\n          fluid(maxWidth: 786) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n      imageAuthor\n      imageAuthorLink\n      imageTitle\n      showImageInArticle\n      author {\n        id\n        bio\n        twitter\n        avatar {\n          childImageSharp {\n            fixed(width: 64, height: 64, quality: 75, traceSVG: {turdSize: 10, background: \"#f6f2f8\", color: \"#e0d6eb\"}) {\n              ...GatsbyImageSharpFixed_tracedSVG\n            }\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n\nfragment GatsbyImageSharpFluid on ImageSharpFluid {\n  base64\n  aspectRatio\n  src\n  srcSet\n  sizes\n}\n\nfragment GatsbyImageSharpFixed_tracedSVG on ImageSharpFixed {\n  tracedSVG\n  width\n  height\n  src\n  srcSet\n}\n"
}