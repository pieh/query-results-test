{
  "path": "/docs/production-app/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Building the JavaScript App\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Gatsby is a static site generator. It generates your site\\u2019s HTML pages, but also creates a JavaScript runtime that takes over in the browser once the initial HTML has loaded. This enables other pages to load instantaneously. Read on to find out how that runtime is generated.\"), mdx(\"h2\", {\n    \"id\": \"webpack-config\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#webpack-config\",\n    \"aria-label\": \"webpack config permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Webpack config\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/commands/build-javascript.js\"\n  }), \"build-javascript.js\"), \" Gatsby file is the entrypoint to this section. It dynamically creates a webpack configuration by calling \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js\"\n  }), \"webpack.config.js\"), \". This can produce radically different configs depending on the stage. E.g \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build-javascript\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build-html\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"develop\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"develop-html\"), \". This section deals with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build-javascript\"), \" stage.\"), mdx(\"p\", null, \"The config is quite large, but here are some of the important values in the final output.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"{\\n  entry: {\\n    app: \\\".cache/production-app\\\"\\n  },\\n  output: {\\n    // e.g app-2e49587d85e03a033f58.js\\n    filename: `[name]-[contenthash].js`,\\n    // e.g component---src-blog-2-js-cebc3ae7596cbb5b0951.js\\n    chunkFilename: `[name]-[contenthash].js`,\\n    path: `/public`,\\n    publicPath: `/`\\n  },\\n  target: `web`,\\n  mode: `production`,\\n  node: {\\n    ___filename: true\\n  },\\n  optimization: {\\n    runtimeChunk: {\\n      // e.g webpack-runtime-e402cdceeae5fad2aa61.js\\n      name: `webpack-runtime`\\n    },\\n    splitChunks: false\\n  }\\n  plugins: [\\n    // A custom webpack plugin that implements logic to write out chunk-map.json and webpack.stats.json\\n    plugins.extractStats(),\\n  ]\\n}\\n\")), mdx(\"p\", null, \"There\\u2019s a lot going on here. And this is just a sample of the output that doesn\\u2019t include the loaders, rules, etc. We won\\u2019t go over everything here, but most of it is geared towards proper code splitting of your application.\"), mdx(\"p\", null, \"Once Webpack has finished compilation, it will have produced a few key types of bundles:\"), mdx(\"h5\", {\n    \"id\": \"app-contenthashjs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#app-contenthashjs\",\n    \"aria-label\": \"app contenthashjs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"app-\", \"[contenthash]\", \".js\"), mdx(\"p\", null, \"This is bundle produced from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/production-app.js\"\n  }), \"production-app.js\"), \" which we\\u2019ll mostly be discussing in this section. It is configured in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/utils/webpack.config.js#L130\"\n  }), \"webpack entry\")), mdx(\"h5\", {\n    \"id\": \"webpack-runtime-contenthashjs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#webpack-runtime-contenthashjs\",\n    \"aria-label\": \"webpack runtime contenthashjs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"webpack-runtime-\", \"[contenthash]\", \".js\"), mdx(\"p\", null, \"This contains the small \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://webpack.js.org/concepts/manifest/#runtime\"\n  }), \"webpack-runtime\"), \" as a separate bundle (configured in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"optimization\"), \" section). In practice, the app and webpack-runtime are always needed together.\"), mdx(\"h5\", {\n    \"id\": \"component---name-contenthashjs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#component---name-contenthashjs\",\n    \"aria-label\": \"component   name contenthashjs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"component---\", \"[name]\", \"-\", \"[contenthash]\", \".js\"), mdx(\"p\", null, \"This is a separate bundle for each page. The mechanics for how these are split off from the main production app are covered in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/how-code-splitting-works/\"\n  }), \"Code Splitting\"), \".\"), mdx(\"h2\", {\n    \"id\": \"production-appjs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#production-appjs\",\n    \"aria-label\": \"production appjs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"production-app.js\"), mdx(\"p\", null, \"This is the entrypoint to webpack that outputs \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app-[contenthash].js\"), \" bundle. It is responsible for navigation and page loading once the initial HTML has been loaded.\"), mdx(\"h3\", {\n    \"id\": \"first-load\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#first-load\",\n    \"aria-label\": \"first load permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"First load\"), mdx(\"p\", null, \"To show how \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"production-app\"), \" works, let\\u2019s imagine that we\\u2019ve just refreshed the browser on our site\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog/2\"), \" page. The HTML loads immediately, painting our page quickly. It includes a CDATA section which injects page information into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"window\"), \" object so it\\u2019s available in our JavaScript code (inserted during \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/html-generation/#6-inject-page-info-to-cdata\"\n  }), \"Page HTML Generation\"), \").\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"/*\\n<![\\n  CDATA[ */\\n    window.page={\\n      \\\"path\\\": \\\"/blog/2.js\\\",\\n      \\\"componentChunkName\\\": \\\"component---src-blog-2-js\\\",\\n      jsonName\\\": \\\"blog-2-995\\\"\\n    };\\n    window.dataPath=\\\"621/path---blog-2-995-a74-dwfQIanOJGe2gi27a9CLKHjamc\\\";\\n  */ ]\\n]>\\n*/\\n\")), mdx(\"p\", null, \"Then, the app, webpack-runtime, component, and data json bundles are loaded via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<link>\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<script>\"), \" (see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/html-generation/#5-add-preload-link-and-script-tags\"\n  }), \"HTML tag generation\"), \"). Now, our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"production-app\"), \" code starts running.\"), mdx(\"h3\", {\n    \"id\": \"oncliententry-api-runner-browser\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#oncliententry-api-runner-browser\",\n    \"aria-label\": \"oncliententry api runner browser permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"onClientEntry (api-runner-browser)\"), mdx(\"p\", null, \"The first thing our app does is run the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/browser-apis/#onClientEntry\"\n  }), \"onClientEntry\"), \" browser API. This allows plugins to perform any operations before we hit the rest of the page loading logic. For example \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-glamor/\"\n  }), \"gatsby-plugin-glamor\"), \" will call rehydrate.\"), mdx(\"p\", null, \"It\\u2019s worth noting that the browser API runner is completely different to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api-runner-node\"), \" which is explained in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/how-plugins-apis-are-run/\"\n  }), \"How APIs/Plugins Are Run\"), \". \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api-runner-node\"), \" runs in Node.js and has to deal with complex server based execution paths. Whereas running APIs on the browser is simply a matter of iterating through the site\\u2019s registered browser plugins and running them one after the other (see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/api-runner-browser.js#L9\"\n  }), \"api-runner-browser.js\"), \").\"), mdx(\"p\", null, \"One thing to note is that it gets the list of plugins from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./cache/api-runner-browser-plugins.js\"), \", which is generated \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/bootstrap/index.js#L338\"\n  }), \"early in bootstrap\"), \".\"), mdx(\"h3\", {\n    \"id\": \"dom-hydration\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#dom-hydration\",\n    \"aria-label\": \"dom hydration permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"DOM Hydration\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-dom.html#hydrate\"\n  }), \"hydrate()\"), \" is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-dom.html\"\n  }), \"ReactDOM\"), \" function which is the same as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"render()\"), \", except that instead of generating a new DOM tree and inserting it into the document, it expects that a React DOM already exists with exactly the same structure as the React Model. It therefore descends this tree and attaches the appropriate event listeners to it so that it becomes a live React DOM. Since our HTML was rendered with exactly the same code as we\\u2019re running in our browser, these will (and have to) match perfectly. The hydration occurs on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<div id=\\\"___gatsby\\\">...</div>\"), \" element defined in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/default-html.js#L21\"\n  }), \"default-html.js\"), \".\"), mdx(\"h3\", {\n    \"id\": \"page-rendering\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#page-rendering\",\n    \"aria-label\": \"page rendering permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Page Rendering\"), mdx(\"p\", null, \"The hydration requires a new React component to \\u201Creplace\\u201D the existing DOM with. Gatsby uses \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/reach/router\"\n  }), \"reach router\"), \" for this. Within it, we provide a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/production-app.js#L38\"\n  }), \"RouteHandler\"), \" component that uses \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/page-renderer.js\"\n  }), \"PageRenderer\"), \" to create the navigated to page.\"), mdx(\"p\", null, \"PageRenderer\\u2019s constructor \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/production-app/#load-page-resources\"\n  }), \"loads the page resources\"), \" for the path. On first load though, these will have already been requested from the server by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<link rel=\\\"preload\\\" ... />\"), \" in the page\\u2019s original HTML (see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/how-code-splitting-works/#construct-link-and-script-tags-for-current-page\"\n  }), \"Link Preloads\"), \" in HTML Generation Docs). The loaded page resources includes the imported component, with which we create the actual page component using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-api.html\"\n  }), \"React.createElement()\"), \". This element is returned to our RouteHandler which hands it off to Reach Router for rendering.\"), mdx(\"h3\", {\n    \"id\": \"load-page-resources\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#load-page-resources\",\n    \"aria-label\": \"load page resources permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Load Page Resources\"), mdx(\"p\", null, \"Before hydration occurs, we kick off the loading of resources in the background. As mentioned above, the current page\\u2019s resources will have already been requested by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"link\"), \" tags in the HTML. So, technically, there\\u2019s nothing more required for this page load. But we can start loading resources required to navigate to other pages.\"), mdx(\"p\", null, \"This occurs in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js\"\n  }), \"loader.js\"), \". The main function here is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L314\"\n  }), \"getResourcesForPathname()\"), \". Given a path, it will find its page, and import its component module json query results. But to do this, it needs access to that information. This is provided by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/write-pages/#async-requiresjs\"\n  }), \"async-requires.js\"), \" which contains the list of all pages in the site, and all their dataPaths. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L33\"\n  }), \"fetchPageResourcesMap()\"), \" takes care of requesting that file, which occurs the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L292\"\n  }), \"first time\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getResourcesForPathname()\"), \" is called.\"), mdx(\"h3\", {\n    \"id\": \"window-variables\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#window-variables\",\n    \"aria-label\": \"window variables permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"window variables\"), mdx(\"p\", null, \"Gatsby attaches global state to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"window\"), \" object via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"window.___somevar\"), \" variables so they can be used by plugins (though this is technically unsupported). Here are a few:\"), mdx(\"h5\", {\n    \"id\": \"___loader\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#___loader\",\n    \"aria-label\": \"___loader permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___loader\")), mdx(\"p\", null, \"This is a reference to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js\"\n  }), \"loader.js\"), \" object that can be used for getting page resources and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/loader.js#L188\"\n  }), \"enqueueing prefetch\"), \" commands. It is used by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-link/src/index.js#L60\"\n  }), \"gatsby-link\"), \" to prefetch pages. And by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-plugin-guess-js/src/gatsby-browser.js#L60\"\n  }), \"gatsby-plugin-guess-js\"), \" to implement its own prefetching algorithm.\"), mdx(\"h5\", {\n    \"id\": \"___emitter\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#___emitter\",\n    \"aria-label\": \"___emitter permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___emitter\")), mdx(\"p\", null, \"Only used during \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby develop\"), \" lifecycle\"), mdx(\"h5\", {\n    \"id\": \"___chunkmapping\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#___chunkmapping\",\n    \"aria-label\": \"___chunkmapping permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___chunkMapping\")), mdx(\"p\", null, \"Contents of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"chunk-map.json\"), \". See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/how-code-splitting-works/#chunk-mapjson\"\n  }), \"Code Splitting\"), \" for more.\"), mdx(\"h5\", {\n    \"id\": \"___push-___replace-and-___navigate\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#___push-___replace-and-___navigate\",\n    \"aria-label\": \"___push ___replace and ___navigate permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___push\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___replace\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"h5\"\n  }, \"___navigate\")), mdx(\"p\", null, \"These are set in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/cache-dir/navigation.js#L128\"\n  }), \"init navigation\"), \". Used by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-link\"), \" to override navigation behavior so that it \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-link/src/index.js#L185\"\n  }), \"loads pages\"), \" before using reach to navigate.\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Gatsby is a static site generator. It generates your site's HTML pages, but also creates a JavaScript runtime that takes over in the browserâ€¦",
        "timeToRead": 3,
        "tableOfContents": {
          "items": [
            {
              "url": "#webpack-config",
              "title": "Webpack config",
              "items": [
                {
                  "items": [
                    {
                      "items": [
                        {
                          "url": "#app-contenthashjs",
                          "title": "app-contenthash.js"
                        },
                        {
                          "url": "#webpack-runtime-contenthashjs",
                          "title": "webpack-runtime-contenthash.js"
                        },
                        {
                          "url": "#component---name-contenthashjs",
                          "title": "component---name-contenthash.js"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "url": "#production-appjs",
              "title": "production-app.js",
              "items": [
                {
                  "url": "#first-load",
                  "title": "First load"
                },
                {
                  "url": "#oncliententry-api-runner-browser",
                  "title": "onClientEntry (api-runner-browser)"
                },
                {
                  "url": "#dom-hydration",
                  "title": "DOM Hydration"
                },
                {
                  "url": "#page-rendering",
                  "title": "Page Rendering"
                },
                {
                  "url": "#load-page-resources",
                  "title": "Load Page Resources"
                },
                {
                  "url": "#window-variables",
                  "title": "window variables",
                  "items": [
                    {
                      "items": [
                        {
                          "url": "#___loader",
                          "title": "___loader"
                        },
                        {
                          "url": "#___emitter",
                          "title": "___emitter"
                        },
                        {
                          "url": "#___chunkmapping",
                          "title": "___chunkMapping"
                        },
                        {
                          "url": "#___push-___replace-and-___navigate",
                          "title": "___push, ___replace and ___navigate"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        "fields": {
          "slug": "/docs/production-app/",
          "anchor": "production-app"
        },
        "frontmatter": {
          "title": "Building the JavaScript App",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/production-app.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/production-app/",
      "prev": {
        "title": "Webpack and SSR",
        "link": "/docs/webpack-and-ssr/"
      },
      "next": {
        "title": "Page HTML Generation",
        "link": "/docs/html-generation/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}