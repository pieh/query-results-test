{
  "path": "/packages/stemmlerjs-gatsby-plugin-mailchimp/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "stemmlerjs-gatsby-plugin-mailchimp",
        "description": "A simple, lightweight Gatsby plugin to subscribe email addresses to your Mailchimp list",
        "keywords": [
          "gatsby",
          "gatsby-plugin",
          "gatsbyjs",
          "mailchimp",
          "mailchimp api"
        ],
        "lastPublisher": {
          "name": "stemmlerjs",
          "avatar": "https://gravatar.com/avatar/6f5391ea85214101b16b0dd81065a629"
        },
        "repository": {
          "url": "https://github.com/benjaminhoffman/gatsby-plugin-mailchimp"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<h2 id=\"subscribe-emails-to-your-mailchimp-list\"><a href=\"#subscribe-emails-to-your-mailchimp-list\" aria-label=\"subscribe emails to your mailchimp list permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Subscribe emails to your Mailchimp list</h2>\n<p>This Gatsby plugin helps you subscribe new email addresses to a Mailchimp email list. Mailchimp does\nnot provide much direction on making clientside requests so the setup to achieve this with a static\nwebsite (i.e. Gatsby) can be cumbersome.</p>\n<h2 id=\"-we-now-support-multiple-mailchimp-lists-\"><a href=\"#-we-now-support-multiple-mailchimp-lists-\" aria-label=\" we now support multiple mailchimp lists  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>üçæ We now support multiple Mailchimp lists! üéâ</h2>\n<p>See below for details.</p>\n<h2 id=\"how-it-works-under-the-hood\"><a href=\"#how-it-works-under-the-hood\" aria-label=\"how it works under the hood permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How It Works Under The Hood</h2>\n<p>First we scan your <code class=\"language-text\">gatsby-config</code> for your MC endpoint. Then, once you import and invoke the\n<code class=\"language-text\">addToMailchimp</code> method in your React component, it makes a jsonp request to your endpoint with the\nemail, attributes, and any group fields you include in the request.</p>\n<h2 id=\"getting-started\"><a href=\"#getting-started\" aria-label=\"getting started permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<p>There are three steps involved to getting started:</p>\n<ol>\n<li>\n<p>add this plugin to your repo</p>\n<ul>\n<li>In the root directory of your Gatsby project, run the following command in your terminal:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># npm\n$ npm install gatsby-plugin-mailchimp\n\n# yarn\n$ yarn add gatsby-plugin-mailchimp</code></pre></div>\n</li>\n<li>add your Mailchimp endpoint to your <code class=\"language-text\">gatsby-config.js</code> file (see below for instructions)</li>\n<li>import &#x26; invoke the <code class=\"language-text\">addToMailchimp</code> method exported by this plugin</li>\n</ol>\n<h2 id=\"using-gatsby-v1\"><a href=\"#using-gatsby-v1\" aria-label=\"using gatsby v1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Gatsby v1?</h2>\n<p>If you are still on Gatsby v1.x, you need to use an old version of this plugin. There were a lot of\nchanges made in Gatsby v2 that will cause this plugin to break so make sure to use the correct\nversion of this plugin if you are still on Gatsby v1.</p>\n<p>We no longer maintain this version.</p>\n<p>Simply update your <code class=\"language-text\">package.json</code> to:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">```\n# npm\n$ npm install https://github.com/benjaminhoffman/gatsby-plugin-mailchimp.git#gatsby-v1\n\n# yarn\n$ yarn add https://github.com/benjaminhoffman/gatsby-plugin-mailchimp.git#gatsby-v1\n```</code></pre></div>\n<h2 id=\"gatsby-config-instructions\"><a href=\"#gatsby-config-instructions\" aria-label=\"gatsby config instructions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby Config Instructions</h2>\n<p>You need to provide this plugin with your Mailchimp account and list details in order for it to know\nwhich endpoint to save the email address to. Follow these directions:</p>\n<p>In your <code class=\"language-text\">gatsby-config.js</code> file, add the following code to the plugin section:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">{</span>\n        resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-mailchimp'</span><span class=\"token punctuation\">,</span>\n        options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            endpoint<span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// add your MC list endpoint here; see instructions below</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"mailchimp-endpoint\"><a href=\"#mailchimp-endpoint\" aria-label=\"mailchimp endpoint permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mailchimp Endpoint</h3>\n<p>Your Mailchimp endpoint will look something like this:\n<em><a href=\"https://example.us10.list-manage.com/subscribe/post?u=b9ef2fdd3edofhec04ba9b930&#x26;id=3l948gkt1d\">https://example.us10.list-manage.com/subscribe/post?u=b9ef2fdd3edofhec04ba9b930&#x26;id=3l948gkt1d</a></em></p>\n<p>Here is how you can locate your Mailchimp endpoint.</p>\n<ol>\n<li>Login to your Mailchimp account</li>\n<li>Click ‚ÄúLists‚Äù tab at the top</li>\n<li>Locate the Mailchimp list you want to save email addresses to</li>\n<li>Click that list</li>\n<li>Click the subtab ‚ÄúSignup forms‚Äù</li>\n<li>Click ‚ÄúEmbedded forms‚Äù</li>\n</ol>\n<p><img src=\"https://raw.githubusercontent.com/benjaminhoffman/gatsby-plugin-mailchimp/master/img/mailchimp_list.png\" alt=\"screenshot of how to locate your Mailchimp &#x60;u&#x60; settings\"></p>\n<ol start=\"7\">\n<li>Scroll down to the section with all the HTML code</li>\n<li>Locate the HTML form element. Copy the entire URL listed under the form ‚Äúaction‚Äù attribute*</li>\n<li>Paste that URL into your <code class=\"language-text\">gatsby-config</code> ºs <code class=\"language-text\">option.endpoint</code> field</li>\n</ol>\n<p><img src=\"https://raw.githubusercontent.com/benjaminhoffman/gatsby-plugin-mailchimp/master/img/mailchimp_form_action.png\" alt=\"screenshot of how to copy/paste your list settings URL\"></p>\n<p>‚Ä¶ that‚Äôs all!</p>\n<h2 id=\"gatsby-import-plugin-instructions\"><a href=\"#gatsby-import-plugin-instructions\" aria-label=\"gatsby import plugin instructions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby Import Plugin Instructions</h2>\n<p>This plugin exports one method ‚Äî <code class=\"language-text\">addToMailchimp</code> ‚Äî that accepts one required argument (<code class=\"language-text\">email</code>)\nand two optional fields (<code class=\"language-text\">fields</code> and <code class=\"language-text\">endpointOverride</code>).</p>\n<ul>\n<li><code class=\"language-text\">email</code> is a valid email string</li>\n<li><code class=\"language-text\">fields</code> is an object of attributes you ºd like to save with the email address. More detailed\ninstructions below.</li>\n<li><code class=\"language-text\">endpointOverride</code> is if you want to pass in a custom MC endpoint (one that is different than\nthe one listed in your config file. See below for details)</li>\n</ul>\n<p>Navigate to the file where you collect email addresses (ie, the file you want to import this plugin\ninto). When a user submits a form and includes at least their email address, invoke the\n<code class=\"language-text\">addToMailchimp</code> method like you would any other method. Here is an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> addToMailchimp <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-mailchimp'</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyGatsbyComponent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Since `addToMailchimp` returns a promise, you</span>\n  <span class=\"token comment\">// can handle the response in two different ways:</span>\n\n  <span class=\"token comment\">// Note that you need to send an email &amp; optionally, listFields</span>\n  <span class=\"token comment\">// these values can be pulled from React state, form fields,</span>\n  <span class=\"token comment\">// or wherever.  (Personally, I recommend storing in state).</span>\n\n  <span class=\"token comment\">// 1. via `.then`</span>\n  <span class=\"token function-variable function\">_handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">addToMailchimp</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> listFields<span class=\"token punctuation\">)</span> <span class=\"token comment\">// listFields are optional if you are only capturing the email address.</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// I recommend setting data to React state</span>\n      <span class=\"token comment\">// but you can do whatever you want (including ignoring this `then()` altogether)</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// unnecessary because Mailchimp only ever</span>\n      <span class=\"token comment\">// returns a 200 status code</span>\n      <span class=\"token comment\">// see below for how to handle errors</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 2. via `async/await`</span>\n  <span class=\"token function-variable function\">_handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">addToMailchimp</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> listFields<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// I recommend setting `result` to React state</span>\n    <span class=\"token comment\">// but you can do whatever you want</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_handleSubmit</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>listFields<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"returns\"><a href=\"#returns\" aria-label=\"returns permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Returns</h2>\n<p>This plugin returns a promise that resolves to the object that is returned by Mailchimp ºs API. The\nMailchimp API will always return a status of 200. In order to know if your submission was a success\nor error, you must read the returned object, which has a <code class=\"language-text\">result</code> and <code class=\"language-text\">msg</code> property:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n    result<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">;</span> <span class=\"token comment\">// either `success` or `error` (helpful to use this key to update your state)</span>\n    msg<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">;</span> <span class=\"token comment\">// a user-friendly message indicating details of your submissions (usually something like \"thanks for subscribing!\" or \"this email has already been added\")</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"mailchimp-list-fields\"><a href=\"#mailchimp-list-fields\" aria-label=\"mailchimp list fields permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mailchimp List Fields</h2>\n<p>Sometimes you want to send to Mailchimp more than just an email address. It ºs very common to also\nsend a first name, last name, pathname, etc. Honestly, you can send whatever you want to store\nalongside the email address. Instructions below on how to create new list fields but once you ºve set\nthem up in Mailchimp, you send them alongside the email like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">addToMailchimp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'email@example.com'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">PATHNAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'/blog-post-1'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">FNAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Ben'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">LNAME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Coder'</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"mailchimp-groups\"><a href=\"#mailchimp-groups\" aria-label=\"mailchimp groups permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mailchimp Groups</h2>\n<p>Mailchimp offers the concept of list groups. It‚Äôs a bit tricky to implement here because you <em>must</em>\nuse the exact key and value as defined in your MC Embedded Form for those fields.</p>\n<p>To add these you must go back to your ‚ÄúEmbedded Forms‚Äù (where you got your endpoint from) and find\nthe form field that represents the group you want to add this user to. Next, copy the name and use\nthat as your key in the <code class=\"language-text\">addToMailchimp</code> field param. The name field will have weird values like\n<code class=\"language-text\">group[21265][2]</code> or <code class=\"language-text\">group[21269]</code>.</p>\n<p>Similarly, the <code class=\"language-text\">input</code> field <code class=\"language-text\">value</code> must also be the same as you see. This means you must either\nset the name and value fields manually in your form or keep a mapping in your JS file.</p>\n<p>Why do we need to use these weird structure for name and value field? Because this is what Mailchimp\nexpects. ü§∑üèΩ‚Äç‚ôÇÔ∏è</p>\n<p>For example, here is a screenshot of what this looks like:</p>\n<p><img src=\"https://raw.githubusercontent.com/benjaminhoffman/gatsby-plugin-mailchimp/master/img/mc_groups.png\" alt=\"screenshot of Mailchimp Groups\"></p>\n<p>And the code would be:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># HTML\n/*\n  Here we chose to name the input field the same as what&#39;s in\n  our embedded form.  But you can name it whatever you want and keep\n  a field name map in your JS. Mailchimp expects the name and value\n  to match what&#39;s in its Embedded Form\n*/\n&lt;input value=&quot;2&quot; name=&quot;group[21265][2]&quot;&gt;\n\n# JS\naddToMailchimp(&#39;email@example.com&#39;, {\n  PATHNAME: &#39;/blog-post-1&#39;,\n  FNAME: &#39;Ben&#39;,\n  LNAME: &#39;Coder&#39;,\n  &#39;group[21265][2]&#39;: &#39;2&#39;,\n  ...\n})</code></pre></div>\n<p>See here for <a href=\"https://github.com/benjaminhoffman/gatsby-plugin-mailchimp/pull/31\">thread</a>.</p>\n<h2 id=\"multiple-mailchimp-lists\"><a href=\"#multiple-mailchimp-lists\" aria-label=\"multiple mailchimp lists permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multiple Mailchimp lists</h2>\n<p>Many people asked for the ability to send users to different Mailchimp lists. We added that\ncapability! How we added this capability without a breaking change is by allowing you to <em>override</em>\nthe endpoint that‚Äôs listed in your <code class=\"language-text\">gatsby-config.js</code> file. When you invoke <code class=\"language-text\">addToMailchimp</code>, pass\nin a third argument of the list you‚Äôd like to subscribe this email address to. That will override\nthe default one listed in your config.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">addToMailchimp</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'ben@gatsby-plugin-mailchimp.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/* list fields here*/</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'https://example.us10.list-manage.com/subscribe/post?u=b9ef2fdd3ed'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"example\"><a href=\"#example\" aria-label=\"example permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h2>\n<p>See directory in this repo called <code class=\"language-text\">/examples</code>.</p>\n<h2 id=\"gotchas\"><a href=\"#gotchas\" aria-label=\"gotchas permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gotchas</h2>\n<ol>\n<li><em>email address</em>: pass in the email as normal (ie, <code class=\"language-text\">you@gmail.com</code>). Do <em>not</em> encode or transform\nthe email, as our plugin will do that for you!</li>\n<li><em>listFields</em>: many times you want to collect more than just an email address (first/last name,\nbirthday, page pathname). I like to store this info in React state and pass it in as list fields.\nSee below.</li>\n<li>I like to save the returned data to React state so I can then display a success/error message to\nthe user.</li>\n<li>There is a\n<a href=\"https://github.com/benjaminhoffman/gatsby-plugin-mailchimp/issues/15\">current known issue (#15)</a>\nwhere this plugin does <em>not work</em> if the Mailchimp List has\n<a href=\"https://mailchimp.com/help/about-recaptcha-for-signup-forms/#Enable-reCAPTCHA/\">reCAPTCHA enabled</a>.\nThis setting should be turned off for everything to function properly.</li>\n</ol>\n<h3 id=\"create-remove-or-edit-mailchimp-list-fields\"><a href=\"#create-remove-or-edit-mailchimp-list-fields\" aria-label=\"create remove or edit mailchimp list fields permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create, Remove, or Edit Mailchimp List Fields</h3>\n<p>To setup or modify Mailchimp list fields, navigate to your MC list, click ‚ÄúSettings‚Äù, then click\n‚ÄúList fields‚Äù. Then add, remove, or edit fields as you wish. Make sure to update your\n<code class=\"language-text\">addToMailchimp</code> listFields object after you ºve made changes in Mailchimp.</p>\n<p><img src=\"https://raw.githubusercontent.com/benjaminhoffman/gatsby-plugin-mailchimp/master/img/mailchimp_list_fields.png\" alt=\"screenshot of Mailchimp list fields settings screen\"></p>\n<h2 id=\"contributing\"><a href=\"#contributing\" aria-label=\"contributing permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contributing</h2>\n<p>If you‚Äôd like to contribute, simply open a PR or open an issue!</p>",
            "timeToRead": 7
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/stemmlerjs-gatsby-plugin-mailchimp/",
      "id": "8fca6a33-9a15-5519-8249-49ea18e7342e",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}