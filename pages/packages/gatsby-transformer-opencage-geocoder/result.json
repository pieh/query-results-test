{
  "path": "/packages/gatsby-transformer-opencage-geocoder/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "gatsby-transformer-opencage-geocoder",
        "description": "A transformer plugin for GatsbyJS to forward- and reverse-geocode content nodes",
        "keywords": [
          "opencage",
          "geocoder",
          "geospatial",
          "geo",
          "maps",
          "mapping",
          "gatsby-plugin",
          "gatsby"
        ],
        "lastPublisher": {
          "name": "4ndrewl",
          "avatar": "https://gravatar.com/avatar/b4ad354c359195c7385b36e7f96dda81"
        },
        "repository": {
          "url": "https://github.com/andrewl/gatsby-transformer-opencage-geocoder"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<h1 id=\"gatsby-transformer-opencage-geocoder\"><a href=\"#gatsby-transformer-opencage-geocoder\" aria-label=\"gatsby transformer opencage geocoder permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-transformer-opencage-geocoder</h1>\n<p>Uses the <a href=\"https://www.opencagedata.com\">OpenCage Geocoder</a> to do the following:</p>\n<ol>\n<li>Adds geospatial coordinates to nodes that just contain address information, so you can eg display them on a map. (aka Forward Geocoding)</li>\n<li>Adds address information to nodes that contain just coordinates (ie lat/lon). (aka Reverse Geocoding)</li>\n</ol>\n<p>So, this means, for example, that if you have a bunch of nodes in a CSV file that contain address information, but you want to display them on a map, you can add the lat-long coordinates to each node using this transformer plugin.</p>\n<p>Or, if you’ve got some nodes in an Excel file that just contain lat-long coordinates, but you want to display address information alongside them, this transformer plugin can do that as well.</p>\n<p>Development of this transformer plugin has been kindly sponsored by OpenCage Data - you can read more about their geocoding service at <a href=\"https://opencagedata.com\">https://opencagedata.com</a> - including details of their <a href=\"https://opencagedata.com/pricing\">generous free tier,</a> no credit card required. The free trial allows 2,500 requests per day.</p>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p>You’ll need to install both this module and the opencage-api-client module.</p>\n<p><code class=\"language-text\">npm i gatsby-transformer-opencage-geocoder opencage-api-client</code></p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-label=\"how to use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<p>In your gatsby-config.js add:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-opencage-geocoder</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// Your OpenCage API key      </span>\n        api_key<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;YOUR OPENCAGE API KEY></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        \n<span class=\"token comment\">// An array of configurations per node type to geocode        </span>\n        nodeTypes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n<span class=\"token comment\">// Forward Geocoding</span>\n          <span class=\"token punctuation\">{</span> nodeType<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">NodeTypeToBeGeocoded</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            addressFields<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token string\">'Address1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Address2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Address3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Town'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Country'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Postcode'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            addFullResult<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          \n<span class=\"token comment\">// Reverse Geocoding</span>\n          <span class=\"token punctuation\">{</span> nodeType<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">NodeTypeToBeReverseGeocoded</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            positionFields<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              lat<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lat</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n              lon<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lon</span><span class=\"token template-punctuation string\">`</span></span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            addFullResult<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span>\n          \n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"options\"><a href=\"#options\" aria-label=\"options permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<p>api_key: Your OpenCage API Key. Get one over at <a href=\"https://opencagedata.com/api\">https://opencagedata.com/api</a></p>\n<p>nodeTypes: An array of geocoding configurations, one for each node type that you want to geocode (or reverse geocode). Each element in the array is an object which needs to contain the following elements, depending on whether you want to forward- or reverse-geocode.</p>\n<h3 id=\"forward-geocoding-an-node-type\"><a href=\"#forward-geocoding-an-node-type\" aria-label=\"forward geocoding an node type permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Forward geocoding an node type</h3>\n<p>nodeType: the name of the node type to forward geocode</p>\n<p>addressFields: an array of fields that contain the node’s address. The address to be geocoded will be determined by concatenating all the fields in this array, in order. Some tips on how to format addresses can be found at <a href=\"https://github.com/OpenCageData/opencagedata-misc-docs/blob/master/query-formatting.md\">https://github.com/OpenCageData/opencagedata-misc-docs/blob/master/query-formatting.md</a></p>\n<p>addFullResult: if set to true, this will request and add the ‘annotations’ section of the geocoder result, as a field ‘geocoderFullResult’ which contains extended information (see <a href=\"https://opencagedata.com/api#response\">https://opencagedata.com/api#response</a>)</p>\n<p>Forward geocoding will add a new field ‘geocoderGeometry’ which contains a lat and lon pair. eg</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;node&quot;: {\n  &quot;id&quot;: &quot;8351ce9c-d0b5-5393-9ac6-aaa049a1d2c7&quot;,\n  &quot;AppNo&quot;: &quot;AR 003&quot;,\n  &quot;fields&quot;: {\n    &quot;geocoderGeometry&quot;: {\n      &quot;lat&quot;: 50.831528,\n      &quot;lng&quot;: -0.240344\n    }\n  }\n}</code></pre></div>\n<h3 id=\"reverse-geocoding-an-node-type\"><a href=\"#reverse-geocoding-an-node-type\" aria-label=\"reverse geocoding an node type permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reverse geocoding an node type</h3>\n<p>nodeType: the name of the node type to forward geocode</p>\n<p>locationFields: an object containing two elements - ‘lat’ - the name of the field containing the latitude of the node, and ‘lon’ - the name of the field containing the longitude of the node</p>\n<p>addFullResult: if set to true, this will request and add the ‘annotations’ section of the geocoder result, as a field ‘geocoderFullResult’ which contains extended information (see <a href=\"https://opencagedata.com/api#response\">https://opencagedata.com/api#response</a>)</p>\n<p>Reverse geocoding will add a two new fields:\n‘geocoderAddress’ - a string containing the formatted address of the location specified by the lat-lon pair, and\n‘geocoderAddressFields’ - which contains an object containing the components of the address of the location specified by the lat-lon pair (NB please dont rely on any specific field being in the components that are returned, as they may not be. The world is a big place, and very diverse), eg</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;node&quot;: {\n            &quot;id&quot;: &quot;65879725-c151-5abf-8524-0dcdad0bb614&quot;,\n            &quot;fields&quot;: {\n              &quot;geocoderAddress&quot;: &quot;163 Rue Jeanne d&#39;Arc, 54000 Nancy, France&quot;,\n              &quot;geocoderAddressFields&quot;: {\n                &quot;ISO_3166_1_alpha_2&quot;: &quot;FR&quot;,\n                &quot;ISO_3166_1_alpha_3&quot;: &quot;FRA&quot;,\n                &quot;_type&quot;: &quot;building&quot;,\n                &quot;city&quot;: &quot;Nancy&quot;,\n                &quot;country&quot;: &quot;France&quot;,\n                &quot;country_code&quot;: &quot;fr&quot;,\n                &quot;county&quot;: &quot;Nancy&quot;,\n                &quot;house_number&quot;: &quot;163&quot;,\n                &quot;political_union&quot;: &quot;European Union&quot;,\n                &quot;postcode&quot;: &quot;54000&quot;,\n                &quot;road&quot;: &quot;Rue Jeanne d&#39;Arc&quot;,\n                &quot;state&quot;: &quot;Grand Est&quot;,\n                &quot;suburb&quot;: &quot;Poincaré - Foch - Anatole France - Croix de Bourgogne&quot;,\n                &quot;road_type&quot;: null,\n                &quot;state_district&quot;: null\n              }\n            }</code></pre></div>\n<p>However, please dont rely on any specific field being in the components that are returned, as they may not be. The world is a big place, and very diverse.</p>\n<h3 id=\"api-limits\"><a href=\"#api-limits\" aria-label=\"api limits permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Limits</h3>\n<p>The OpenCage Geocoder uses a rate limiting mechanism to ensure that the service stays available to all users. Free usage is limited to 2,500 requests per day. If you reach that limit the API returns a 402, and this plugin will terminate the gatsby process. This is to prevent you from hammering the API whilst over your limit which might result in you being blocked.</p>\n<p>If however you are a paying customer, when you reach your everything keeps working, there is no additional surge or usage based pricing. The OpenCage Geocoder limits are “soft”. If you need more requests on a given day, that is fine, you can keep geocoding. If you cross the limit repeatedly then the following month you will be asked to move to a higher tier.</p>\n<p>More details can be found at <a href=\"https://opencagedata.com/pricing\">https://opencagedata.com/pricing</a></p>",
            "timeToRead": 4
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/gatsby-transformer-opencage-geocoder/",
      "id": "893194db-aaa8-5485-9790-65437a638bd2",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}