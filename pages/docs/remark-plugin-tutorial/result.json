{
  "path": "/docs/remark-plugin-tutorial/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Remark Plugin Tutorial\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-transformer-remark\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-transformer-remark\")), \" empowers developers to translate Markdown into HTML to be consumed via Gatsby\\u2019s GraphQL API. Blogs and other content based sites can highly benefit from functionality enabled with this plugin. With this plugin, authors of content for the site don\\u2019t need to worry about how the site is written or structured but can rather focus on writing engaging posts and content!\"), mdx(\"p\", null, \"In certain instances, a developer may want to customize the content of the Markdown file and extend it functionally in useful ways; for example, use cases such as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-remark-prismjs/\"\n  }), \"adding syntax highlighting\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-remark-images\"\n  }), \"parsing and creating responsive images\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-remark-embed-video\"\n  }), \"embedding videos\"), \", and many others. In each of these examples, a plugin will be injected with the Markdown Abstract Syntax Tree (AST) and manipulate content based on certain node types or content in particular nodes.\"), mdx(\"h2\", {\n    \"id\": \"what-you-will-learn-in-this-tutorial\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-you-will-learn-in-this-tutorial\",\n    \"aria-label\": \"what you will learn in this tutorial permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What you will learn in this tutorial\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Further understanding of the remark Abstract Syntax Tree (AST)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to create a plugin that is injected with an AST via \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby-transformer-remark\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to manipulate the remark AST to add additional functionality\")), mdx(\"h2\", {\n    \"id\": \"prerequisites\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#prerequisites\",\n    \"aria-label\": \"prerequisites permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prerequisites\"), mdx(\"p\", null, \"There a few things that you should have some understanding with:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to work with Remark in Gatsby as described in \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/tutorial/part-six/\"\n  }), \"Part Six\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/tutorial/part-seven/\"\n  }), \"Part Seven\"), \" of the Gatsby Tutorial.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Understanding of the Markdown Syntax.\")), mdx(\"h2\", {\n    \"id\": \"understanding-the-abstract-syntax-tree\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#understanding-the-abstract-syntax-tree\",\n    \"aria-label\": \"understanding the abstract syntax tree permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Understanding the Abstract Syntax Tree\"), mdx(\"p\", null, \"To get an understanding at what is available in the Markdown AST, take a look at the Markdown AST spec that is used in remark and other unist projects: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/mdast\"\n  }), \"syntax-tree/mdast\"), \".\"), mdx(\"p\", null, \"Starting out with a Markdown file as below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-markdown\"\n  }), \"# Hello World!\\n\\nThis is a [Real page](https://google.com)\\n\")), mdx(\"p\", null, \"Remark would translate this into an AST made available to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-transformer-remark\"), \" plugins. The AST would appear as the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-JSON\"\n  }), \"{\\n  \\\"type\\\": \\\"root\\\",\\n  \\\"children\\\": [\\n    {\\n      \\\"type\\\": \\\"heading\\\",\\n      \\\"depth\\\": 1,\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"value\\\": \\\"Hello World!\\\",\\n          \\\"position\\\": {\\n            \\\"start\\\": { \\\"line\\\": 1, \\\"column\\\": 3, \\\"offset\\\": 2 },\\n            \\\"end\\\": { \\\"line\\\": 1, \\\"column\\\": 15, \\\"offset\\\": 14 },\\n            \\\"indent\\\": []\\n          }\\n        }\\n      ],\\n      \\\"position\\\": {\\n        \\\"start\\\": { \\\"line\\\": 1, \\\"column\\\": 1, \\\"offset\\\": 0 },\\n        \\\"end\\\": { \\\"line\\\": 1, \\\"column\\\": 15, \\\"offset\\\": 14 },\\n        \\\"indent\\\": []\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"paragraph\\\",\\n      \\\"children\\\": [\\n        {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"value\\\": \\\"This is a \\\",\\n          \\\"position\\\": {\\n            \\\"start\\\": { \\\"line\\\": 3, \\\"column\\\": 1, \\\"offset\\\": 16 },\\n            \\\"end\\\": { \\\"line\\\": 3, \\\"column\\\": 11, \\\"offset\\\": 26 },\\n            \\\"indent\\\": []\\n          }\\n        },\\n        {\\n          \\\"type\\\": \\\"link\\\",\\n          \\\"title\\\": null,\\n          \\\"url\\\": \\\"https://google.com\\\",\\n          \\\"children\\\": [\\n            {\\n              \\\"type\\\": \\\"text\\\",\\n              \\\"value\\\": \\\"Real page\\\",\\n              \\\"position\\\": {\\n                \\\"start\\\": { \\\"line\\\": 3, \\\"column\\\": 12, \\\"offset\\\": 27 },\\n                \\\"end\\\": { \\\"line\\\": 3, \\\"column\\\": 21, \\\"offset\\\": 36 },\\n                \\\"indent\\\": []\\n              }\\n            }\\n          ],\\n          \\\"position\\\": {\\n            \\\"start\\\": { \\\"line\\\": 3, \\\"column\\\": 11, \\\"offset\\\": 26 },\\n            \\\"end\\\": { \\\"line\\\": 3, \\\"column\\\": 42, \\\"offset\\\": 57 },\\n            \\\"indent\\\": []\\n          }\\n        }\\n      ],\\n      \\\"position\\\": {\\n        \\\"start\\\": { \\\"line\\\": 3, \\\"column\\\": 1, \\\"offset\\\": 16 },\\n        \\\"end\\\": { \\\"line\\\": 3, \\\"column\\\": 42, \\\"offset\\\": 57 },\\n        \\\"indent\\\": []\\n      }\\n    }\\n  ],\\n  \\\"position\\\": {\\n    \\\"start\\\": { \\\"line\\\": 1, \\\"column\\\": 1, \\\"offset\\\": 0 },\\n    \\\"end\\\": { \\\"line\\\": 4, \\\"column\\\": 1, \\\"offset\\\": 58 }\\n  }\\n}\\n\")), mdx(\"p\", null, \"As well, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://astexplorer.net/#/gist/d9029a2e8827265fbb9b190083b59d4d/3384f3ce6a3084e50043d0c8ce34628ed7477603\"\n  }), \"AST Explorer\"), \" is a site that gives you a side-by-side view of the markdown and the outputted AST.\"), mdx(\"h2\", {\n    \"id\": \"setting-up-a-plugin\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#setting-up-a-plugin\",\n    \"aria-label\": \"setting up a plugin permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Setting up a plugin\"), mdx(\"p\", null, \"You are going to create a plugin that colors all top-level headings in the markdown with the color purple.\"), mdx(\"p\", null, \"First create a local plugin by adding a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"plugins\"), \" folder in your site and generating a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" file for it. As well, create an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \" file. In this file, we export a function that will be invoked by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-transformer-remark\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=plugins/gatsby-remark-purple-headers/index.js\"\n  }), \"module.exports = ({ markdownAST }, pluginOptions) => {\\n  // Manipulate AST\\n\\n  return markdownAST\\n}\\n\")), mdx(\"p\", null, \"The first parameter is all of the default properties that can be used in plugins (actions, store, getNodes, schema, etc.) plus a couple just for gatsby-transformer-remark plugins. The most relevant field for our purposes is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"markdownAST\"), \" field which is destructured in the code snippet above.\"), mdx(\"p\", null, \"As with other Gatsby plugins, the 2nd parameter is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pluginOptions\"), \" which is obtained from the definition in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" file.\"), mdx(\"p\", null, \"Finally, the function will return the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"markdownAST\"), \" after the fields you wish to be edited are transformed.\"), mdx(\"h2\", {\n    \"id\": \"adding-the-plugin-to-your-site\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#adding-the-plugin-to-your-site\",\n    \"aria-label\": \"adding the plugin to your site permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding the plugin to your site\"), mdx(\"p\", null, \"You likely will want to grab \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-source-filesystem\"), \" to inject the file nodes into Gatsby\\u2019s GraphQL schema. In this example it is assumed that the Markdown files exist in a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/data/\"), \" directory.\"), mdx(\"p\", null, \"The plugin is now initially set so you can add it as a sub-plugin inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-transformer-remark\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-config.js\"\n  }), \"module.exports = {\\n  plugins: [\\n    {\\n      resolve: \\\"gatsby-source-filesystem\\\",\\n      options: {\\n        name: `data`,\\n        path: `${__dirname}/src/data/`,\\n      },\\n    },\\n    {\\n      resolve: `gatsby-transformer-remark`,\\n      options: {\\n        plugins: [`gatsby-remark-purple-headers`],\\n      },\\n    },\\n  ],\\n}\\n\")), mdx(\"p\", null, \"If you want to add some options, you could switch to the object syntax:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"{\\n  resolve: `gatsby-remark-purple-headers`,\\n  options: {\\n    // Options here\\n  }\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"find-and-modify-markdown-nodes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#find-and-modify-markdown-nodes\",\n    \"aria-label\": \"find and modify markdown nodes permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Find and Modify Markdown Nodes\"), mdx(\"p\", null, \"When modifying nodes, you\\u2019ll want to walk the tree and then implement new functionality on specific nodes.\"), mdx(\"p\", null, \"A node module to help with is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/unist-util-visit\"\n  }), \"unist-util-visit\"), \", a walker for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unist\"), \" nodes. For reference, Unist (Unified Syntax Tree) is a standard for Markdown syntax trees and parsers that include well known parsers in the Gatsby world like Remark and MDX.\"), mdx(\"p\", null, \"As an example from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unist-util-visit\"), \"\\u2019s README file, it allows for an easy interface to visit particular nodes based on a particular type:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"var remark = require(\\\"remark\\\")\\nvar visit = require(\\\"unist-util-visit\\\")\\n\\nvar tree = remark().parse(\\\"Some _emphasis_, **importance**, and `code`.\\\")\\n\\nvisit(tree, \\\"text\\\", visitor)\\n\\nfunction visitor(node) {\\n  console.log(node)\\n}\\n\")), mdx(\"p\", null, \"Here, it finds all text nodes and will \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"console.log\"), \" the nodes. The second argument can be replaced with any type described in Unist\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/mdast#nodes\"\n  }), \"Markdown AST (mdast) specification\"), \" including types such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"paragraph\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"blockquote\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"link\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"image\"), \" or in our usecase, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"heading\"), \".\"), mdx(\"p\", null, \"With this technique in mind, you can similarly traverse the AST from your plugin and add additional functionality, like so:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=plugins/gatsby-remark-purple-headers/index.js\"\n  }), \"const visit = require(\\\"unist-util-visit\\\")\\n\\nmodule.exports = ({ markdownAST }, pluginOptions) => {\\n  // highlight-next-line\\n  visit(markdownAST, \\\"heading\\\", node => {\\n    // Do stuff with heading nodes\\n  })\\n\\n  return markdownAST\\n}\\n\")), mdx(\"p\", null, \"Next, by visiting all heading nodes and passing them into a transformer function, you can manipulate the particular nodes to match your use case.\"), mdx(\"p\", null, \"Looking again at the AST node for heading:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-JSON\"\n  }), \"{\\n  \\\"type\\\": \\\"heading\\\",\\n  \\\"depth\\\": 1,\\n  \\\"children\\\": [\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"value\\\": \\\"Hello World!\\\",\\n      \\\"position\\\": {\\n        \\\"start\\\": { \\\"line\\\": 1, \\\"column\\\": 3, \\\"offset\\\": 2 },\\n        \\\"end\\\": { \\\"line\\\": 1, \\\"column\\\": 15, \\\"offset\\\": 14 },\\n        \\\"indent\\\": []\\n      }\\n    }\\n  ],\\n  \\\"position\\\": {\\n    \\\"start\\\": { \\\"line\\\": 1, \\\"column\\\": 1, \\\"offset\\\": 0 },\\n    \\\"end\\\": { \\\"line\\\": 1, \\\"column\\\": 15, \\\"offset\\\": 14 },\\n    \\\"indent\\\": []\\n  }\\n},\\n\")), mdx(\"p\", null, \"You have context about the text as well as what depth the heading is (for instance here you have a depth of 1 which would equate to an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"h1\"), \" element)\"), mdx(\"p\", null, \"With the inner function of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"visit\"), \" call, you parse out all of the text and if it will map to a h1, you set the type of the node to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"html\"), \" and set the node\\u2019s value to be some custom HTML.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const visit = require(\\\"unist-util-visit\\\")\\nconst toString = require(\\\"mdast-util-to-string\\\")\\n\\nmodule.exports = ({ markdownAST }, pluginOptions) => {\\n  visit(markdownAST, \\\"heading\\\", node => {\\n    let { depth } = node\\n\\n    // Skip if not an h1\\n    if (depth !== 1) return\\n\\n    // Grab the innerText of the heading node\\n    let text = toString(node)\\n\\n    const html = `\\n        <h1 style=\\\"color: rebeccapurple\\\">\\n          ${text}\\n        </h1>\\n      `\\n\\n    node.type = \\\"html\\\"\\n    node.children = undefined\\n    node.value = html\\n  })\\n\\n  return markdownAST\\n}\\n\")), mdx(\"p\", null, \"A small library \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/mdast-util-to-string\"\n  }), \"mdast-util-to-string\"), \" by Unified was used to extract the plain text of the inner nodes. This would remove links or other types of nodes inside the heading, but given you have full access to the markdown AST, you can modify it however you wish.\"), mdx(\"h2\", {\n    \"id\": \"loading-in-changes-and-seeing-effect\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#loading-in-changes-and-seeing-effect\",\n    \"aria-label\": \"loading in changes and seeing effect permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Loading in changes and seeing effect\"), mdx(\"p\", null, \"At this point, our plugin is now ready to be used. To see the resulting functionality, it is helpful to re-visit \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/tutorial/part-seven/\"\n  }), \"Part 7 of the Gatsby Tutorial\"), \" to programmatically create pages from Markdown data. Once this is set up, you can examine that your plugin works as seen below based on the markdown you wrote earlier.\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"507px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/697aed0074b2078ff8e0fb66e918ddf1/cdbc6/remark-ast-output.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.08875739644971%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAAp0lEQVQ4y+2QuwoCMRBF8/9/Yi8ibKsIYiMWER/FRogBC0H2EZOZvTorbKOCWSwsvDAwcMnhTBRFBhGjaRrEQIiRIJFdOol0n0bphUE2WGIy1NitLKYjjXm2xWy8hs3PDyAnAGNg1EVAXYbOrLx4+CqAuYfh0VqYg4GzJ+QbB7N33dmpsBbIJH9IrZm/W1bF9cksyfBdkWrWAeXhq+kLVfhy/sAfBN4A8+AEx6sUXLkAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Output\",\n    \"title\": \"Output\",\n    \"src\": \"/static/697aed0074b2078ff8e0fb66e918ddf1/cdbc6/remark-ast-output.png\",\n    \"srcSet\": [\"/static/697aed0074b2078ff8e0fb66e918ddf1/a3b1f/remark-ast-output.png 197w\", \"/static/697aed0074b2078ff8e0fb66e918ddf1/07137/remark-ast-output.png 393w\", \"/static/697aed0074b2078ff8e0fb66e918ddf1/cdbc6/remark-ast-output.png 507w\"],\n    \"sizes\": \"(max-width: 507px) 100vw, 507px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"publishing-the-plugin\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#publishing-the-plugin\",\n    \"aria-label\": \"publishing the plugin permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Publishing the plugin\"), mdx(\"p\", null, \"To share this plugin with others, you can extract the plugin to its own directory outside of this site and then publish it to NPM so it can be accessed both on NPM and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/contributing/submit-to-plugin-library\"\n  }), \"Submitted to the Plugin Library\"), \".\"), mdx(\"h2\", {\n    \"id\": \"summary\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#summary\",\n    \"aria-label\": \"summary permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Summary\"), mdx(\"p\", null, \"You just wrote a local Gatsby plugin that is a sub-plugin for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-transformer-remark\"), \" that manipulates the Remark AST. You should now have a further understanding about the structure of Markdown Abstract Syntax Trees! Yay!\"), mdx(\"h2\", {\n    \"id\": \"whats-next\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#whats-next\",\n    \"aria-label\": \"whats next permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What\\u2019s next?\"), mdx(\"p\", null, \"If you wish to see other plugins that manipulate the Remark AST, search for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-remark-\"), \" in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/plugins\"\n  }), \"plugin library\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "gatsby-transformer-remark  empowers developers to translate Markdown into HTML to be consumed via Gatsby's GraphQL API. Blogs and other…",
        "timeToRead": 4,
        "tableOfContents": {
          "items": [
            {
              "url": "#what-you-will-learn-in-this-tutorial",
              "title": "What you will learn in this tutorial"
            },
            {
              "url": "#prerequisites",
              "title": "Prerequisites"
            },
            {
              "url": "#understanding-the-abstract-syntax-tree",
              "title": "Understanding the Abstract Syntax Tree"
            },
            {
              "url": "#setting-up-a-plugin",
              "title": "Setting up a plugin"
            },
            {
              "url": "#adding-the-plugin-to-your-site",
              "title": "Adding the plugin to your site"
            },
            {
              "url": "#find-and-modify-markdown-nodes",
              "title": "Find and Modify Markdown Nodes"
            },
            {
              "url": "#loading-in-changes-and-seeing-effect",
              "title": "Loading in changes and seeing effect"
            },
            {
              "url": "#publishing-the-plugin",
              "title": "Publishing the plugin"
            },
            {
              "url": "#summary",
              "title": "Summary"
            },
            {
              "url": "#whats-next",
              "title": "What's next?"
            }
          ]
        },
        "fields": {
          "slug": "/docs/remark-plugin-tutorial/",
          "anchor": "remark-plugin-tutorial"
        },
        "frontmatter": {
          "title": "Remark Plugin Tutorial",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/remark-plugin-tutorial.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/remark-plugin-tutorial/",
      "prev": {
        "title": "Pixabay Image Source Plugin Tutorial",
        "link": "/docs/pixabay-source-plugin-tutorial/"
      },
      "next": {
        "title": "Maintaining a Plugin*",
        "link": "/docs/maintaining-a-plugin/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}