{
  "path": "/docs/migrating-from-v1-to-v2/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Migrating from v1 to v2\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Looking for the v1 docs? \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://v1.gatsbyjs.org/\"\n  }), \"Find them here\"), \".\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"This document is a work in progress. Have you run into something that\\u2019s not covered here? \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/edit/master/docs/docs/migrating-from-v1-to-v2.md\"\n  }), \"Add your changes on GitHub\"), \"!\")), mdx(\"h2\", {\n    \"id\": \"introduction\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#introduction\",\n    \"aria-label\": \"introduction permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Introduction\"), mdx(\"p\", null, \"This is a reference for upgrading your site from Gatsby v1 to Gatsby v2. While there\\u2019s a lot covered here, you won\\u2019t need to do everything for your site. We\\u2019ll do our best to keep things easy to follow, and as sequential as possible so you can get rocking on v2!\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If you want to start fresh, check out the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#for-explorers\"\n  }), \"starting a new project section\"))), mdx(\"h2\", {\n    \"id\": \"why-you-should-migrate\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#why-you-should-migrate\",\n    \"aria-label\": \"why you should migrate permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Why you should migrate\"), mdx(\"p\", null, \"This documentation page covers the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"how\"), \" of migrating from v1 to v2. Various blog posts cover the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"why\"), \":\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/blog/2018-09-17-gatsby-v2/\"\n  }), \"v2 Overview\"), \" by Kyle Mathews\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/blog/2018-09-27-reach-router/\"\n  }), \"Improving accessibility\"), \" by Amberley Romo\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/blog/2019-10-03-gatsby-perf/\"\n  }), \"Keeping Gatsby sites blazing fast\"), \" by Dustin Schau\")), mdx(\"h2\", {\n    \"id\": \"what-well-cover\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-well-cover\",\n    \"aria-label\": \"what well cover permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What we\\u2019ll cover\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#updating-your-dependencies\"\n  }), \"Updating Your Dependencies\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#update-gatsby-version\"\n  }), \"Update Gatsby version\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#install-react\"\n  }), \"Install React\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#install-plugins-peer-dependencies\"\n  }), \"Install plugins\\u2019 peer dependencies\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#handling-breaking-changes\"\n  }), \"Handling Breaking Changes\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#remove-or-refactor-layout-components\"\n  }), \"Remove or refactor layout components\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#change-navigateto-to-navigate\"\n  }), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"navigateTo\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"navigate\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#convert-to-either-pure-commonjs-or-pure-es6\"\n  }), \"Convert to either pure CommonJS or pure ES6\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#move-babel-configuration\"\n  }), \"Move Babel configuration\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#restore-v1-postcss-plugin-setup\"\n  }), \"Restore v1 PostCSS plugin setup\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#migrate-from-react-router-to-reachrouter\"\n  }), \"Migrate from React Router` to @reach/router\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#apis-onprerouteupdate-and-onrouteupdate-no-longer-called-with-the-route-update-action\"\n  }), \"APIs onPreRouteUpdate and onRouteUpdate no longer called with the route update action\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#browser-api-replaceroutercomponent-was-removed\"\n  }), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"replaceRouterComponent\"), \" was removed\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#browser-api-replacehistory-was-removed\"\n  }), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"replaceHistory\"), \" was removed\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#browser-api-wraprootcomponent-was-replaced-with-wraprootelement\"\n  }), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"wrapRootComponent\"), \" was replaced with \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"wrapRootElement\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#dont-query-nodes-by-id\"\n  }), \"Don\\u2019t query nodes by ID\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#use-query-in-place-of-rootquerytype\"\n  }), \"Use Query in place of RootQueryType\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#typographyjs-plugin-config-changes\"\n  }), \"Typography.js Plugin Config\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#update-css-modules-class-names-that-use-dashes\"\n  }), \"Update CSS Modules class names that use dashes\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#update-jest-configuration\"\n  }), \"Update Jest configuration\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#gatsby-images-outerwrapperclassname-was-removed\"\n  }), \"gatsby-image\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"outerWrapperClassName\"), \" was removed\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#resolving-deprecations\"\n  }), \"Resolving Deprecations\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#import-link-from-gatsby\"\n  }), \"Import Link from Gatsby\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#import-graphql-from-gatsby\"\n  }), \"Import graphql from Gatsby\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#rename-boundactioncreators-to-actions\"\n  }), \"Rename \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"boundActionCreators\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"actions\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#rename-pathcontext-to-pagecontext\"\n  }), \"Rename \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"pathContext\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"pageContext\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#rename-responsive-image-queries\"\n  }), \"Rename responsive image queries\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#delete-nodes-api-deprecated\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"deleteNodes\"), \" API deprecated\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#other-changes-worth-noting\"\n  }), \"Other Changes Worth Noting\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#explicit-query-names-no-longer-required\"\n  }), \"Explicit query names no longer required\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#remove-inlined-css-in-htmljs\"\n  }), \"Remove inlined CSS in \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"html.js\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#remove-explicit-polyfills\"\n  }), \"Remove explicit polyfills\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#for-plugin-maintainers\"\n  }), \"For Plugin Maintainers\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#setting-the-proper-peer-dependencies\"\n  }), \"Setting the proper Peer Dependencies\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#change-modifybabelrc-to-oncreatebabelconfig\"\n  }), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"modifyBabelrc\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"onCreateBabelConfig\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#change-modifywebpackconfig-to-oncreatewebpackconfig\"\n  }), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"modifyWebpackConfig\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"onCreateWebpackConfig\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#createremotefilenode\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"createRemoteFileNode\"), \" API has changed\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#only-allow-defined-keys-on-the-node-internal-object\"\n  }), \"Only allow defined keys on the \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"node.internal\"), \" object\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#import-graphql-types-from-gatsbygraphql\"\n  }), \"Import \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"graphql\"), \" types from \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby/graphql\"))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#for-explorers\"\n  }), \"For Explorers\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#starting-a-new-project-with-v2\"\n  }), \"V2 from Scratch\"))))), mdx(\"h2\", {\n    \"id\": \"updating-your-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#updating-your-dependencies\",\n    \"aria-label\": \"updating your dependencies permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Updating Your Dependencies\"), mdx(\"p\", null, \"First, you need to update your dependencies and install any needed peer dependencies.\"), mdx(\"h3\", {\n    \"id\": \"update-gatsby-version\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#update-gatsby-version\",\n    \"aria-label\": \"update gatsby version permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Update Gatsby version\"), mdx(\"p\", null, \"You need update your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" to use the latest version of Gatsby.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json:title=package.json\"\n  }), \"\\\"dependencies\\\": {\\n  \\\"gatsby\\\": \\\"^2.0.0\\\",\\n}\\n\")), mdx(\"p\", null, \"Or run\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm i gatsby@latest\\n\")), mdx(\"h3\", {\n    \"id\": \"update-gatsby-related-packages\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#update-gatsby-related-packages\",\n    \"aria-label\": \"update gatsby related packages permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Update Gatsby related packages\"), mdx(\"p\", null, \"Update your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" to use the latest versions of Gatsby related packages. You should upgrade any package name that starts with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-\"), \". Note, this only applies to plugins managed in the gatsbyjs/gatsby repo. If you\\u2019re using community plugins, they might not be upgraded yet. Check their repo for the status. Many plugins won\\u2019t actually need upgrading so they very well might keep working. You can run\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm outdated\\n\")), mdx(\"p\", null, \"And compare \\u201CWanted\\u201D and \\u201CLatest\\u201D versions and update \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" file manually or run\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm i gatsby-plugin-google-analytics@latest gatsby-plugin-netlify@latest gatsby-plugin-sass@latest\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NOTE\"), \": The above command is only an example - adjust packages to ones you are actually using.\"), mdx(\"h3\", {\n    \"id\": \"install-react\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#install-react\",\n    \"aria-label\": \"install react permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Install React\"), mdx(\"p\", null, \"In v1, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-dom\"), \" packages were a part of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \" package. They are now \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"peerDependencies\"), \" in v2, so you need to install them into your project.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm i react react-dom\\n\")), mdx(\"h3\", {\n    \"id\": \"install-plugins-peer-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#install-plugins-peer-dependencies\",\n    \"aria-label\": \"install plugins peer dependencies permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Install plugins\\u2019 peer dependencies\"), mdx(\"p\", null, \"Some plugins had dependencies that were also made \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"peerDependencies\"), \". For example, if you use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-typography/\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-typography\")), \", you now need to install:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm i typography react-typography\\n\")), mdx(\"p\", null, \"You should search for the plugins that you use in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/plugins\"\n  }), \"plugin library\"), \". Then, check their installation instructions for extra packages that may need installation.\"), mdx(\"h2\", {\n    \"id\": \"handling-breaking-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#handling-breaking-changes\",\n    \"aria-label\": \"handling breaking changes permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Handling Breaking Changes\"), mdx(\"h3\", {\n    \"id\": \"remove-or-refactor-layout-components\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#remove-or-refactor-layout-components\",\n    \"aria-label\": \"remove or refactor layout components permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Remove or refactor layout components\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/blog/2018-06-08-life-after-layouts/\"\n  }), \"Gatsby\\u2019s layout components (\", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"src/layouts/index.js\"), \") are gone now.\"), \". The \\u201Ctop level component\\u201D is now the page itself. If the layout of your site looks broken, this is likely the reason why.\"), mdx(\"p\", null, \"There are some implications to this change:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Rendering different layouts for different pages is different. Use the standard React inheritance model. Gatsby no longer maintains, or needs to maintain, separate behavior for handling layouts.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Because the \\u201Ctop level component\\u201D changes between each page, React will rerender all children. This means that shared components previously in a Gatsby v1 layout\\u2014 like navigations\\u2014 will unmount and remount. This will break CSS transitions or React state within those shared components. If your use case requires layout component to not unmount use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-layout/\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-layout\")), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"To learn more about the decision behind this removal, read the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/rfcs/blob/master/text/0002-remove-special-layout-components.md\"\n  }), \"RFC for removing the special layout component\"), \".\"))), mdx(\"p\", null, \"We recommend the following migration path:\"), mdx(\"h4\", {\n    \"id\": \"1-convert-the-layouts-children-from-a-render-prop-to-a-normal-prop-required\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#1-convert-the-layouts-children-from-a-render-prop-to-a-normal-prop-required\",\n    \"aria-label\": \"1 convert the layouts children from a render prop to a normal prop required permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"1. Convert the layout\\u2019s children from a render prop to a normal prop (required)\"), mdx(\"p\", null, \"In v1, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"children\"), \" prop passed to layout was a function (render prop) and needed to be executed. In v2, this is no longer the case.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\n\\nexport default ({ children }) => (\\n  <div>\\n-    {children()}\\n+    {children}\\n  </div>\\n)\\n\")), mdx(\"h4\", {\n    \"id\": \"2-move-layoutsindexjs-to-srccomponentslayoutjs-optional-but-recommended\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#2-move-layoutsindexjs-to-srccomponentslayoutjs-optional-but-recommended\",\n    \"aria-label\": \"2 move layoutsindexjs to srccomponentslayoutjs optional but recommended permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"2. Move \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"layouts/index.js\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"src/components/layout.js\"), \" (optional, but recommended)\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"git mv src/layouts/index.js src/components/layout.js\\n\")), mdx(\"h4\", {\n    \"id\": \"3-import-and-wrap-pages-with-the-layout-component\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#3-import-and-wrap-pages-with-the-layout-component\",\n    \"aria-label\": \"3 import and wrap pages with the layout component permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"3. Import and wrap pages with the layout component\"), mdx(\"p\", null, \"Adhering to the normal React composition model, import your layout component and use it to wrap the content of the page.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx:title=src/pages/index.js\"\n  }), \"import React from \\\"react\\\"\\nimport Layout from \\\"../components/layout\\\"\\n\\nexport default () => (\\n  <Layout>\\n    <div>Hello World</div>\\n  </Layout>\\n)\\n\")), mdx(\"p\", null, \"Repeat for every page and template that needs this layout.\"), mdx(\"h4\", {\n    \"id\": \"4-pass-history-location-and-match-props-to-layout\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#4-pass-history-location-and-match-props-to-layout\",\n    \"aria-label\": \"4 pass history location and match props to layout permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"4. Pass \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"history\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"location\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"match\"), \" props to layout\"), mdx(\"p\", null, \"In v1, the layout component had access to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"history\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"location\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"match\"), \" props. In v2, only pages have access to these props. If you need these props in the layout component, pass them through from the page.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx:title=src/components/layout.js\"\n  }), \"import React from \\\"react\\\"\\n\\nexport default ({ children, location }) => (\\n  <div>\\n    <p>Path is {location.pathname}</p>\\n    {children}\\n  </div>\\n)\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx:title=src/pages/index.js\"\n  }), \"import React from \\\"react\\\"\\nimport Layout from \\\"../components/layout\\\"\\n\\nexport default props => (\\n  <Layout location={props.location}>\\n    <div>Hello World</div>\\n  </Layout>\\n)\\n\")), mdx(\"h4\", {\n    \"id\": \"5-change-query-to-use-staticquery\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#5-change-query-to-use-staticquery\",\n    \"aria-label\": \"5 change query to use staticquery permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"5. Change query to use \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"StaticQuery\")), mdx(\"p\", null, \"If you were using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data\"), \" prop in your Gatsby v1 layout, you now need to use Gatsby v2\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/static-query/\"\n  }), \"StaticQuery feature\"), \". This is because a layout is now a normal component.\"), mdx(\"p\", null, \"Replacing a layout\\u2019s query with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"StaticQuery\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff:title=src/components/layout.js\"\n  }), \"import React, { Fragment } from \\\"react\\\"\\nimport { Helmet } from \\\"react-helmet\\\"\\n+ import { StaticQuery, graphql } from \\\"gatsby\\\"\\n\\n- export default ({ children, data }) => (\\n-   <>\\n-     <Helmet titleTemplate={`%s | ${data.site.siteMetadata.title}`} defaultTitle={data.site.siteMetadata.title} />\\n-     <div>\\n-       {children()}\\n-     </div>\\n-   </>\\n- )\\n-\\n- export const query = graphql`\\n-   query LayoutQuery {\\n-     site {\\n-       siteMetadata {\\n-         title\\n-       }\\n-     }\\n-   }\\n- `\\n+ export default ({ children }) => (\\n+   <StaticQuery\\n+     query={graphql`\\n+       query LayoutQuery {\\n+         site {\\n+           siteMetadata {\\n+             title\\n+           }\\n+         }\\n+       }\\n+     `}\\n+     render={data => (\\n+       <>\\n+         <Helmet titleTemplate={`%s | ${data.site.siteMetadata.title}`} defaultTitle={data.site.siteMetadata.title} />\\n+         <div>\\n+           {children}\\n+         </div>\\n+       </>\\n+     )}\\n+   />\\n+ )\\n\")), mdx(\"h3\", {\n    \"id\": \"change-navigateto-to-navigate\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#change-navigateto-to-navigate\",\n    \"aria-label\": \"change navigateto to navigate permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"navigateTo\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"navigate\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"navigateTo\"), \" method in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-link\"), \" was renamed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"navigate\"), \" to mirror the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router/api/navigate\"\n  }), \"API used by @reach/router\"), \".\"), mdx(\"p\", null, \"In addition to the name change, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-link\"), \" is now exported from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \" package and can\\u2019t be installed directly.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\n- import { navigateTo } from \\\"gatsby-link\\\"\\n+ import { navigate } from \\\"gatsby\\\"\\n\\n// Don't use navigate with an onClick btw :-)\\n// Generally use the `<Link>` component.\\nexport default props => (\\n-  <div onClick={() => navigateTo(`/`)}>Click to go to home</div>\\n+  <div onClick={() => navigate(`/`)}>Click to go to home</div>\\n)\\n\")), mdx(\"h3\", {\n    \"id\": \"convert-to-either-pure-commonjs-or-pure-es6\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#convert-to-either-pure-commonjs-or-pure-es6\",\n    \"aria-label\": \"convert to either pure commonjs or pure es6 permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Convert to either pure CommonJS or pure ES6\"), mdx(\"p\", null, \"Gatsby v2 uses webpack 4 which is stricter about modules with mixed module systems.\"), mdx(\"p\", null, \"All ES6 is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GOOD\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// GOOD: ES modules syntax works\\nimport foo from \\\"foo\\\"\\nexport default foo\\n\")), mdx(\"p\", null, \"All CommonJS is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"GOOD\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// GOOD: CommonJS syntax works\\nconst foo = require(\\\"foo\\\")\\nmodule.exports = foo\\n\")), mdx(\"p\", null, \"Mixing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requires\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \" is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BAD\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// BAD: Mixed ES and CommonJS module syntax will cause failures\\nconst foo = require(\\\"foo\\\")\\nexport default foo\\n\")), mdx(\"p\", null, \"Mixing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"module.exports\"), \" is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"BAD\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"// BAD: Mixed ES and CommonJS module syntax will cause failures\\nimport foo from \\\"foo\\\"\\nmodule.exports = foo\\n\")), mdx(\"h3\", {\n    \"id\": \"move-babel-configuration\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#move-babel-configuration\",\n    \"aria-label\": \"move babel configuration permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Move Babel Configuration\"), mdx(\"p\", null, \"The latest version of Gatsby uses Babel 7. Babel 7 introduced \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/babel/babel/issues/6766\"\n  }), \"a new behavior for configuration lookup / resolution\"), \". In the case where a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \".babelrc\"), \" file might be used at the root of the project (like for configuring Jest), moving that Babel configuration into \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"jest.config.json\"), \" will avoid any conflicts.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/facebook/jest/issues/1468#issuecomment-361260279\"\n  }), \"This GitHub comment\"), \" documents the steps needed to do that.\"), mdx(\"p\", null, \"More information on Gatsby and Babel configuration available \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/babel/#how-to-use-a-custom-babelrc-file\"\n  }), \"here\"), \".\"), mdx(\"h3\", {\n    \"id\": \"restore-v1-postcss-plugin-setup\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#restore-v1-postcss-plugin-setup\",\n    \"aria-label\": \"restore v1 postcss plugin setup permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Restore v1 PostCSS Plugin Setup\"), mdx(\"p\", null, \"Gatsby v2 removed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"postcss-cssnext\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"postcss-import\"), \" from the default PostCSS setup.\"), mdx(\"p\", null, \"Use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-plugin-postcss\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-postcss\")), \" to have the same configuration that you had in v1.\"), mdx(\"h4\", {\n    \"id\": \"1-install-the-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#1-install-the-dependencies\",\n    \"aria-label\": \"1 install the dependencies permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"1. Install the dependencies\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install --save gatsby-plugin-postcss postcss-import postcss-cssnext postcss-browser-reporter postcss-reporter\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NOTE\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"postcss-cssnext\"), \" is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://moox.io/blog/deprecating-cssnext/\"\n  }), \"deprecated\"), \" and it is better to use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"postcss-preset-env\"), \".\"), mdx(\"h4\", {\n    \"id\": \"2-include-gatsby-plugin-postcss-in-your-gatsby-configjs-file\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#2-include-gatsby-plugin-postcss-in-your-gatsby-configjs-file\",\n    \"aria-label\": \"2 include gatsby plugin postcss in your gatsby configjs file permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"2. Include \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"gatsby-plugin-postcss\"), \" in your \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"gatsby-config.js\"), \" file\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-config.js\"\n  }), \"plugins: [`gatsby-plugin-postcss`],\\n\")), mdx(\"h4\", {\n    \"id\": \"3-include-postcss-plugins-in-your-postcssconfigjs-file\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#3-include-postcss-plugins-in-your-postcssconfigjs-file\",\n    \"aria-label\": \"3 include postcss plugins in your postcssconfigjs file permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"3. Include PostCSS plugins in your \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"postcss.config.js\"), \" file\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=postcss.config.js\"\n  }), \"const postcssImport = require(`postcss-import`)\\nconst postcssCssNext = require(`postcss-cssnext`)\\nconst postcssBrowserReporter = require(`postcss-browser-reporter`)\\nconst postcssReporter = require(`postcss-reporter`)\\n\\nmodule.exports = () => ({\\n  plugins: [\\n    postcssImport(),\\n    postcssCssNext(),\\n    postcssBrowserReporter(),\\n    postcssReporter(),\\n  ],\\n})\\n\")), mdx(\"h3\", {\n    \"id\": \"migrate-from-react-router-to-reachrouter\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#migrate-from-react-router-to-reachrouter\",\n    \"aria-label\": \"migrate from react router to reachrouter permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Migrate from React Router to @reach/router\"), mdx(\"p\", null, \"We switched our router from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reacttraining.com/react-router/\"\n  }), \"React Router v4\"), \" to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router\"\n  }), \"@reach/router\"), \" as @reach/router is smaller and has 1st class support for accessibility.\"), mdx(\"p\", null, \"The founder of React Router, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/ryanflorence\"\n  }), \"Ryan Florence\"), \" is also the founder of @reach/router.\"), mdx(\"p\", null, \"He says @reach/router restores things he misses from React Router v3. @reach/router also retains the best parts of React Router v4 \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"and\"), \" adds full accessibility support.\"), mdx(\"p\", null, \"For \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"most\"), \" sites, this change won\\u2019t cause any breaking changes as the two routers are very similar.\"), mdx(\"p\", null, \"Two common ways this change \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"might\"), \" break your site is:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You use the object form of the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"to\"), \" prop in the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Link>\"), \" component\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You have client side routes\")), mdx(\"p\", null, \"Read more about the features of our new router at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router\"\n  }), \"https://reach.tech/router\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NOTE:\"), \" One prominent feature of @reach/router, relative routes, isn\\u2019t working currently in Gatsby. We\\u2019re working with Ryan Florence on hopefully supporting it soon.\"), mdx(\"p\", null, \"Read on for instructions on migrating your site to @reach/router.\"), mdx(\"h4\", {\n    \"id\": \"only-string-to-allowed\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#only-string-to-allowed\",\n    \"aria-label\": \"only string to allowed permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Only string \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"to\"), \" allowed\"), mdx(\"p\", null, \"React Router allowed you to pass objects to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"to\"), \" prop e.g.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"<Link\\n  to={{ pathname: `/about/`, search: `fun=true&pizza=false`, hash: `people` }}\\n>\\n  Our people\\n</Link>\\n\")), mdx(\"p\", null, \"React Router would then concatenate the object values together into the full pathname e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/about/?fun=true&pizza=false#people\"), \".\"), mdx(\"p\", null, \"Now you\\u2019ll need to concatenate together the full pathname yourself.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"- <Link to={{ pathname: `/about/`, search: `fun=true&pizza=false`, hash: `people`}}>Our people</Link>\\n+ <Link to={`/about/?fun=true&pizza=false#people`}>Our people</Link>\\n\")), mdx(\"h4\", {\n    \"id\": \"pass-state-to-the-state-prop\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#pass-state-to-the-state-prop\",\n    \"aria-label\": \"pass state to the state prop permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Pass state to the \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"state\"), \" prop\"), mdx(\"p\", null, \"Before with React Router to pass state to a link, you would pass it as part of a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"to\"), \" object prop.\"), mdx(\"p\", null, \"Now, to add state to a link, pass it via a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"state\"), \" prop.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"const NewsFeed = () => (\\n  <div>\\n    <Link to=\\\"photos/123\\\" state={{ fromFeed: true }} />\\n  </div>\\n)\\n\\nconst Photo = ({ location, photoId }) => {\\n  if (location.state.fromFeed) {\\n    return <FromFeedPhoto id={photoId} />\\n  } else {\\n    return <Photo id={photoId} />\\n  }\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"a-history-prop-is-no-longer-passed-to-page-components\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#a-history-prop-is-no-longer-passed-to-page-components\",\n    \"aria-label\": \"a history prop is no longer passed to page components permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"A \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"history\"), \" prop is no longer passed to page components\"), mdx(\"p\", null, \"React Router would pass a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"history\"), \" prop to components that you could use to navigate.\"), mdx(\"p\", null, \"If you need to do programmatic navigation, import instead the @reach/router\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"navigate\"), \" function.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"import { navigate } from \\\"@reach/router\\\"\\n\")), mdx(\"h4\", {\n    \"id\": \"the-following-props-are-no-longer-available-on-link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#the-following-props-are-no-longer-available-on-link\",\n    \"aria-label\": \"the following props are no longer available on link permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The following props are no longer available on \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"<Link>\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"exact\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"strict\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"location\"))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"exact\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"strict\"), \" are no longer necessary as @reach/router does matching\\nthis way by default.\"), mdx(\"p\", null, \"You could pass \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"location\"), \" before to manually compute whether the\\nlink is active or not. For advanced link stylings, use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getProps\"), \" now.\"), mdx(\"h4\", {\n    \"id\": \"use-getprops-for-advanced-link-styling\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#use-getprops-for-advanced-link-styling\",\n    \"aria-label\": \"use getprops for advanced link styling permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Use \", mdx(\"inlineCode\", {\n    parentName: \"h4\"\n  }, \"getProps\"), \" for advanced link styling\"), mdx(\"p\", null, \"Gatsby\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Link>\"), \" component supports out-of-the-box \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"activeClassName\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"activeStyle\"), \".\"), mdx(\"p\", null, \"If you have more advanced styling needs, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router/api/Link\"\n  }), \"use the \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"getProps\"), \" prop\"), \".\"), mdx(\"h4\", {\n    \"id\": \"change-client-paths-to-use-a-splat\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#change-client-paths-to-use-a-splat\",\n    \"aria-label\": \"change client paths to use a splat permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Change client paths to use a splat\"), mdx(\"p\", null, \"When creating a client route in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \", use a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*\"), \" to select all child routes instead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \":path\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff:title=gatsby-node.js\"\n  }), \"exports.onCreatePage = async ({ page, actions }) => {\\n  const { createPage } = actions\\n\\n  // page.matchPath is a special key that's used for matching pages\\n  // only on the client.\\n  if (page.path.match(/^\\\\/app/)) {\\n-    page.matchPath = \\\"/app/:path\\\"\\n+    page.matchPath = \\\"/app/*\\\"\\n\\n    // Update the page.\\n    createPage(page)\\n  }\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"migrating-react-router-client-routes-to-reachrouter\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#migrating-react-router-client-routes-to-reachrouter\",\n    \"aria-label\": \"migrating react router client routes to reachrouter permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Migrating React Router client routes to @reach/router\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Location>\"), \" instead of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"withRouter\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"import { navigate } from @reach/router\"), \" for programmatic navigation instead of the history object\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"There\\u2019s no \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Route\"), \" component any more. You can add a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Router>\"), \" component (a site can have as many routers as it wishes). Then ensure the immediate children of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Router>\"), \" have a prop named \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"path\"), \".\")), mdx(\"p\", null, \"A basic example of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Router>\"), \" component:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from \\\"react\\\"\\nimport { Router } from \\\"@reach/router\\\"\\n\\nexport default () => (\\n  <Router>\\n    <div path=\\\"/\\\">I am the home!</div>\\n    <div path=\\\"/about\\\">Here's a bit about me</div>\\n    <div path=\\\"/store\\\">Buy my t-shirts!</div>\\n  </Router>\\n)\\n\")), mdx(\"p\", null, \"Here\\u2019s a more complex example of migrating a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<PrivateRoute>\"), \" component (used\\nin store.gatsbyjs.org) from React Router to @reach/router.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \" import React from 'react';\\n-import { Redirect, Route } from 'react-router-dom';\\n+import { Router, navigate } from '@reach/router';\\n import { isAuthenticated } from '../../utils/auth';\\n\\n-export default ({ component: Component, ...rest }) => (\\n-  <Route\\n-    {...rest}\\n-    render={props =>\\n-      !isAuthenticated() ? (\\n-        // If we\\u2019re not logged in, redirect to the home page.\\n-        <Redirect to={{ pathname: '/login' }} />\\n-      ) : (\\n-        <Component {...props} />\\n-      )\\n-    }\\n-  />\\n-);\\n+export default ({ component: Component, ...rest }) => {\\n+  if (!isAuthenticated() && window.location.pathname !== `/login`) {\\n+    // If we\\u2019re not logged in, redirect to the home page.\\n+    navigate(`/app/login`);\\n+    return null;\\n+  }\\n+\\n+  return (\\n+    <Router>\\n+      <Component {...rest} />\\n+    </Router>\\n+  );\\n+};\\n\")), mdx(\"p\", null, \"Here\\u2019s links to diffs for three sites with client routes upgraded to @reach/router:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/store.gatsbyjs.org/pull/111\"\n  }), \"store.gatsbyjs.org\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/6918/files#diff-69757e54875e28ef83eb8efe45a33fdf\"\n  }), \"client-only-routes\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/6918/files#diff-53ac112a4b2ec760b26a86c953df2339\"\n  }), \"simple-auth\"))), mdx(\"h3\", {\n    \"id\": \"apis-onprerouteupdate-and-onrouteupdate-no-longer-called-with-the-route-update-action\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#apis-onprerouteupdate-and-onrouteupdate-no-longer-called-with-the-route-update-action\",\n    \"aria-label\": \"apis onprerouteupdate and onrouteupdate no longer called with the route update action permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"APIs \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onPreRouteUpdate\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onRouteUpdate\"), \" no longer called with the route update action\"), mdx(\"p\", null, \"React Router v4 would tell us the \\u201Caction\\u201D (push/replace) that triggered the route\\ntransition. We passed this as one of the arguments along with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"location\"), \" to plugins. @reach/router doesn\\u2019t support this so we\\u2019ve removed it from the API calls.\"), mdx(\"h3\", {\n    \"id\": \"browser-api-replaceroutercomponent-was-removed\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#browser-api-replaceroutercomponent-was-removed\",\n    \"aria-label\": \"browser api replaceroutercomponent was removed permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"replaceRouterComponent\"), \" was removed\"), mdx(\"p\", null, \"@reach/router doesn\\u2019t allow you to swap out its history object like React Router. An API, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceRouterComponent\"), \", was used with React Router for this behavior in Gatsby. This is now no longer needed, so we\\u2019ve removed this API.\"), mdx(\"p\", null, \"We did, erroneously, suggest using this API for adding support for Redux, etc. where you need to wrap the root Gatsby component with your own component.\"), mdx(\"p\", null, \"If you were using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceRouterComponent\"), \" for this, you\\u2019ll need to migrate to\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wrapRootElement\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from 'react'\\nimport { Provider } from 'react-redux'\\n-import { Router } from 'react-router-dom'\\n\\n-export const replaceRouterComponent = ({ history }) => {\\n+export const wrapRootElement = ({ element }) => {\\n-  const ConnectedRouterWrapper = ({ children }) => (\\n+  const ConnectedRootElement = (\\n    <Provider store={store}>\\n-      <Router history={history}>{children}</Router>\\n+      {element}\\n    </Provider>\\n  )\\n\\n-  return ConnectedRouterWrapper\\n+  return ConnectedRootElement\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"browser-api-replacehistory-was-removed\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#browser-api-replacehistory-was-removed\",\n    \"aria-label\": \"browser api replacehistory was removed permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"replaceHistory\"), \" was removed\"), mdx(\"p\", null, \"Like with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceRouterComponent\"), \", we no longer support custom histories. That is why we\\u2019ve also removed the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceHistory\"), \" API. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceHistory()\"), \" method was used for tracking page views by registering listeners on route changes using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"history.listen()\"), \".\"), mdx(\"p\", null, \"Now, to track page views, you can use the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/browser-apis/#onRouteUpdate\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"onRouteUpdate\")), \" API to track pages changes.\"), mdx(\"h3\", {\n    \"id\": \"browser-api-wraprootcomponent-was-replaced-with-wraprootelement\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#browser-api-wraprootcomponent-was-replaced-with-wraprootelement\",\n    \"aria-label\": \"browser api wraprootcomponent was replaced with wraprootelement permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Browser API \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"wrapRootComponent\"), \" was replaced with \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"wrapRootElement\")), mdx(\"p\", null, \"Use new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/browser-apis/#wrapRootElement\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"wrapRootElement\")), \" API:\\nWe now pass \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"component\"), \" Element instead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Root\"), \" Component and expect that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wrapRootElement\"), \" will return Element and not Component. This change was needed to keep all wrapping APIs uniform.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"-export const wrapRootComponent = ({ Root }) => {\\n+export const wrapRootElement = ({ element }) => {\\n-  const ConnectedRootComponent = () => (\\n+  const ConnectedRootElement = (\\n    <Provider store={store}>\\n-      <Root />\\n+      {element}\\n    </Provider>\\n  )\\n-  return ConnectedRootComponent\\n+  return ConnectedRootElement\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"dont-query-nodes-by-id\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#dont-query-nodes-by-id\",\n    \"aria-label\": \"dont query nodes by id permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Don\\u2019t query nodes by ID\"), mdx(\"p\", null, \"Source and transformer plugins now use UUIDs for IDs. If you used glob or regex to query nodes by id then you\\u2019ll need to query something else.\"), mdx(\"p\", null, \"Here\\u2019s an example querying an image:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"  query MyImageQuery {\\n    allImageSharp(filter: {\\n-     id: {regex: \\\"/default.jpg/\\\"}\\n+     fluid: {originalName: {regex: \\\"/default.jpg/\\\"}}\\n    }) {\\n      edges {\\n        node {\\n          id\\n          fluid(maxWidth: 660) {\\n            src\\n          }\\n        }\\n      }\\n    }\\n  }\\n\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/3807/files\"\n  }), \"See the Pull Request that implemented this change\")), mdx(\"h3\", {\n    \"id\": \"use-query-in-place-of-rootquerytype\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#use-query-in-place-of-rootquerytype\",\n    \"aria-label\": \"use query in place of rootquerytype permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Use \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"Query\"), \" in place of \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"RootQueryType\")), mdx(\"p\", null, \"We changed the The GraphQL root type from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RootQueryType\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Query\"), \". This is only likely to impact you if you have top-level fragments in your GraphQL queries:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"  query Blog {\\n    ...Sidebar\\n    blogPosts {\\n      title\\n      slug\\n    }\\n  }\\n\\n- fragment Sidebar on RootQueryType {\\n+ fragment Sidebar on Query {\\n    siteDescription\\n  }\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"typographyjs-plugin-config-changes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#typographyjs-plugin-config-changes\",\n    \"aria-label\": \"typographyjs plugin config changes permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Typography.js Plugin Config Changes\"), mdx(\"p\", null, \"If you use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-typography/\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-typography\")), \", you now need to explicitly export \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"scale\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rhythm\"), \" as named exports from your typography config module.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff:title=src/utils/typography.js\"\n  }), \"- const typography = new Typography();\\n- export default typography;\\n\\n+ const typography = new Typography();\\n+ const { rhythm, scale } = typography;\\n+ export { rhythm, scale, typography as default };\\n\")), mdx(\"h3\", {\n    \"id\": \"update-css-modules-class-names-that-use-dashes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#update-css-modules-class-names-that-use-dashes\",\n    \"aria-label\": \"update css modules class names that use dashes permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Update CSS Modules class names that use dashes\"), mdx(\"p\", null, \"If you use CSS Modules and have class names with dashes in them, you\\u2019ll need to change how you access the class names from JavaScript.\"), mdx(\"p\", null, \"This is because the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/webpack-contrib/css-loader#camelcase\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"camelCase\"), \" option\"), \" for CSS Modules has been changed from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dashesOnly\"), \".\"), mdx(\"p\", null, \"Here\\u2019s an example with a class named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".my-class-name\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\nimport myStyles from \\\"./my.module.css\\\"\\n\\nexport default ({ children }) => (\\n-  <div className={myStyles['my-class-name']}>\\n+  <div className={myStyles.myClassName}>\\n    {children}\\n  </div>\\n)\\n\")), mdx(\"p\", null, \"The Gatsby v1 behavior can be restored by adjusting \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/webpack-contrib/css-loader#options\"\n  }), \"CSS Loader options\"), \".\"), mdx(\"p\", null, \"For vanilla CSS without a preprocessor:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=gatsby-node.js\"\n  }), \"const cssLoaderRe = /\\\\/css-loader\\\\//\\nconst targetFile = `.module.css`\\n\\nconst processRule = rule => {\\n  if (rule.oneOf) {\\n    return {\\n      ...rule,\\n      oneOf: rule.oneOf.map(processRule),\\n    }\\n  }\\n\\n  if (!rule.test.test(targetFile)) {\\n    return rule\\n  }\\n\\n  if (Array.isArray(rule.use)) {\\n    return {\\n      ...rule,\\n      use: rule.use.map(use => {\\n        if (!cssLoaderRe.test(use.loader)) {\\n          return use\\n        }\\n\\n        // adjust css-loader options\\n        return {\\n          ...use,\\n          options: {\\n            ...use.options,\\n            camelCase: false,\\n          },\\n        }\\n      }),\\n    }\\n  }\\n\\n  return rule\\n}\\n\\nexports.onCreateWebpackConfig = ({ getConfig, actions }) => {\\n  const config = getConfig()\\n\\n  const newConfig = {\\n    ...config,\\n    module: {\\n      ...config.module,\\n      rules: config.module.rules.map(processRule),\\n    },\\n  }\\n  actions.replaceWebpackConfig(newConfig)\\n}\\n\")), mdx(\"p\", null, \"If you\\u2019re using a preprocessor, you can pass in CSS Loader options when configuring \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-sass/#how-to-use\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-sass\")), \" or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-less/#how-to-use\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-less\")), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// in gatsby-config.js\\nplugins: [\\n  {\\n    resolve: `gatsby-plugin-sass`,\\n    options: {\\n      cssLoaderOptions: {\\n        camelCase: false,\\n      },\\n    },\\n  },\\n]\\n\")), mdx(\"h3\", {\n    \"id\": \"update-jest-configuration\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#update-jest-configuration\",\n    \"aria-label\": \"update jest configuration permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Update Jest configuration\"), mdx(\"p\", null, \"If you were using Jest with Gatsby V1, you will need to make some updates to your configuration when upgrading to Gatsby V2. You can view the complete details of setting up your test environment on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/unit-testing/\"\n  }), \"Unit Testing\"), \" page of the docs.\"), mdx(\"h3\", {\n    \"id\": \"gatsby-images-outerwrapperclassname-was-removed\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#gatsby-images-outerwrapperclassname-was-removed\",\n    \"aria-label\": \"gatsby images outerwrapperclassname was removed permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"gatsby-image\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"outerWrapperClassName\"), \" was removed\"), mdx(\"p\", null, \"Because the outer wrapper \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"div\"), \" was removed, you can no longer use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"outerWrapperClassName\"), \" prop for styling your images. You should merge those styles into your wrapper\\u2019s class.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"<Img\\n  fluid={data.file.childImageSharp.fluid}\\n  className={styles.wrapper}\\n- outerWrapperClassName={styles.outerWrapper}\\n/>\\n\")), mdx(\"p\", null, \"If you have created any CSS styling rules referencing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-image-outer-wrapper\"), \" class, you should merge those styles into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-image-wrapper\"), \" class.\"), mdx(\"h2\", {\n    \"id\": \"resolving-deprecations\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#resolving-deprecations\",\n    \"aria-label\": \"resolving deprecations permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Resolving Deprecations\"), mdx(\"h3\", {\n    \"id\": \"import-link-from-gatsby\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#import-link-from-gatsby\",\n    \"aria-label\": \"import link from gatsby permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Import Link from Gatsby\"), mdx(\"p\", null, \"All components and utility functions from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-link\"), \" are now exported from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \" package. So, you should import it directly from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\n- import Link from \\\"gatsby-link\\\"\\n+ import { Link } from \\\"gatsby\\\"\\n\\nexport default props => (\\n  <Link to=\\\"/\\\">Home</Link>\\n)\\n\")), mdx(\"p\", null, \"Furthermore you can remove the package from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff:title=package.json\"\n  }), \"\\\"dependencies\\\": {\\n  \\\"gatsby\\\": \\\"latest\\\",\\n  \\\"gatsby-image\\\": \\\"latest\\\",\\n  \\\"gatsby-plugin-sharp\\\": \\\"latest\\\",\\n- \\\"gatsby-link\\\": \\\"^1.6.39\\\"\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"import-graphql-from-gatsby\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#import-graphql-from-gatsby\",\n    \"aria-label\": \"import graphql from gatsby permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Import graphql from Gatsby\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphql\"), \" tag function that Gatsby v1 auto-supports is deprecated in v2. Gatsby will throw deprecation warning unless you explicitly import it from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \" package.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\n+ import { graphql } from \\\"gatsby\\\"\\n\\nexport default ({ data }) => (\\n  <h1>{data.site.siteMetadata.title}</h1>\\n)\\n\\nexport const query = graphql`\\n  query HomeQuery {\\n    site {\\n      siteMetadata {\\n        title\\n      }\\n    }\\n  }\\n`\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"There is a codemod that can automatically make this change to your projects. Check out the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/gatsby-codemods\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-codemods\")), \" package for usage instructions.\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Note that if you are relying on the auto-import feature of WebStorm or VSCode, it may import \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphql\"), \" from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"'graphql'\"), \" instead of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"'gatsby'\"), \". This will throw a bunch of errors around bad imports. Make sure \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphql\"), \" is always imported from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \".\")), mdx(\"h3\", {\n    \"id\": \"rename-boundactioncreators-to-actions\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#rename-boundactioncreators-to-actions\",\n    \"aria-label\": \"rename boundactioncreators to actions permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Rename \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"boundActionCreators\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"actions\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"boundActionCreators\"), \" is deprecated in v2. You can continue using it, but it\\u2019s recommended that you rename it to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"actions\"), \".\"), mdx(\"h3\", {\n    \"id\": \"rename-pathcontext-to-pagecontext\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#rename-pathcontext-to-pagecontext\",\n    \"aria-label\": \"rename pathcontext to pagecontext permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Rename \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"pathContext\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"pageContext\")), mdx(\"p\", null, \"Like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"boundActionCreators\"), \" above, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pathContext\"), \" is deprecated in favor of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pageContext\"), \".\"), mdx(\"h3\", {\n    \"id\": \"rename-responsive-image-queries\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#rename-responsive-image-queries\",\n    \"aria-label\": \"rename responsive image queries permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Rename responsive image queries\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sizes\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resolutions\"), \" queries are deprecated in v2. These queries have been renamed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fluid\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fixed\"), \" to make them easier to understand. You can continue using the deprecated query names, but it\\u2019s recommended that you update them.\"), mdx(\"p\", null, \"Update image query and fragment names:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"import React from \\\"react\\\"\\nimport { graphql } from \\\"gatsby\\\"\\n\\nconst Example = ({ data }) => {\\n  <div>\\n-    <Img sizes={data.foo.childImageSharp.sizes} />\\n-    <Img resolutions={data.bar.childImageSharp.resolutions} />\\n+    <Img fluid={data.foo.childImageSharp.fluid} />\\n+    <Img fixed={data.bar.childImageSharp.fixed} />\\n  </div>\\n}\\n\\nexport default Example\\n\\nexport const pageQuery = graphql`\\n  query IndexQuery {\\n    foo: file(relativePath: { regex: \\\"/foo.jpg/\\\" }) {\\n      childImageSharp {\\n-        sizes(maxWidth: 700) {\\n-          ...GatsbyImageSharpSizes_tracedSVG\\n+        fluid(maxWidth: 700) {\\n+          ...GatsbyImageSharpFluid_tracedSVG\\n        }\\n      }\\n    }\\n    bar: file(relativePath: { regex: \\\"/bar.jpg/\\\" }) {\\n      childImageSharp {\\n-        resolutions(width: 500) {\\n-          ...GatsbyImageSharpResolutions_withWebp\\n+        fixed(width: 500) {\\n+          ...GatsbyImageSharpFixed_withWebp\\n        }\\n      }\\n    }\\n  }\\n`\\n\")), mdx(\"p\", null, \"You can find further examples in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/d0e29272ed7b009dae18d35d41a45e700cdcab0d/packages/gatsby-image\"\n  }), \"Gatsby Image docs\"), \".\"), mdx(\"h3\", {\n    \"id\": \"delete-nodes-api-deprecated\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#delete-nodes-api-deprecated\",\n    \"aria-label\": \"delete nodes api deprecated permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Delete Nodes API Deprecated\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deleteNodes\"), \" is now deprecated, so instead you should write \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nodes.forEach(n => deleteNode({ node: n }))\")), mdx(\"h2\", {\n    \"id\": \"other-changes-worth-noting\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#other-changes-worth-noting\",\n    \"aria-label\": \"other changes worth noting permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Other Changes Worth Noting\"), mdx(\"h3\", {\n    \"id\": \"explicit-query-names-no-longer-required\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#explicit-query-names-no-longer-required\",\n    \"aria-label\": \"explicit query names no longer required permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Explicit query names no longer required\"), mdx(\"p\", null, \"Gatsby v2 doesn\\u2019t need explicit query names. You can skip them now:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"export const query = graphql`\\n-  query ThisIsExplicitQueryName($slug: String!) {\\n+  query($slug: String!) {\\n    markdownRemark(fields: { slug: { eq: $slug } }) {\\n      html\\n      frontmatter {\\n        title\\n      }\\n    }\\n  }\\n\")), mdx(\"p\", null, \"You can also skip the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query\"), \" keyword if you don\\u2019t use query variables:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"export const query = graphql`\\n-  query ThisIsAnotherExplicitQueryName {\\n+  {\\n    site {\\n      siteMetadata {\\n        title\\n      }\\n    }\\n  }\\n\")), mdx(\"p\", null, \"This isn\\u2019t a breaking change. Queries with explicit names will continue to work as they did in v1.\"), mdx(\"h3\", {\n    \"id\": \"remove-inlined-css-in-htmljs\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#remove-inlined-css-in-htmljs\",\n    \"aria-label\": \"remove inlined css in htmljs permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Remove inlined CSS in \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"html.js\")), mdx(\"p\", null, \"Gatsby v2 will automatically inline your CSS. You can remove any custom CSS inlining from your custom \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"html.js\"), \". Unless you used it for anything else specifically, you can also remove \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"html.js\"), \" itself.\"), mdx(\"p\", null, \"See an example in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/commit/765b679cbc222fd5f527690427ee431cca7ccd61#diff-637c76e3c059ed8efacedf6e30de2d61\"\n  }), \"this PR that upgrades the \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"using-remark\"), \" site to Gatsby v2\"), \".\"), mdx(\"h3\", {\n    \"id\": \"remove-explicit-polyfills\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#remove-explicit-polyfills\",\n    \"aria-label\": \"remove explicit polyfills permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Remove explicit polyfills\"), mdx(\"p\", null, \"If your Gatsby v1 site included any polyfills, you can remove them. Gatsby v2 ships with Babel 7 and is configured to automatically include polyfills for your code. See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/babel\"\n  }), \"Gatsby\\u2019s Babel docs for more details\"), \".\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Note: This works for your own code, but is not yet implemented for code imported from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \". Track progress of this feature in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/issues/7064\"\n  }), \"this issue\"), \".\")), mdx(\"h2\", {\n    \"id\": \"for-plugin-maintainers\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#for-plugin-maintainers\",\n    \"aria-label\": \"for plugin maintainers permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"For Plugin Maintainers\"), mdx(\"p\", null, \"In most cases you won\\u2019t have to do anything to be v2 compatible, but there are a few things you can do to be certain your plugin will work well with v2 sites.\"), mdx(\"h3\", {\n    \"id\": \"setting-the-proper-peer-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#setting-the-proper-peer-dependencies\",\n    \"aria-label\": \"setting the proper peer dependencies permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Setting the Proper Peer Dependencies\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \" should be included under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"peerDependencies\"), \" of your plugin and it should specify the proper versions of support.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff:title=package.json\"\n  }), \"\\\"peerDependencies\\\": {\\n-  \\\"gatsby\\\": \\\"1\\\"\\n+  \\\"gatsby\\\": \\\">=1\\\"\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"change-modifybabelrc-to-oncreatebabelconfig\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#change-modifybabelrc-to-oncreatebabelconfig\",\n    \"aria-label\": \"change modifybabelrc to oncreatebabelconfig permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"modifyBabelrc\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onCreateBabelConfig\")), mdx(\"p\", null, \"We renamed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"modifyBabelrc\"), \" to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/node-apis/#modifyBabelrc\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"onCreateBabelConfig\")), \" to bring it in line with the rest of Gatsby\\u2019s API names.\"), mdx(\"p\", null, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onCreateBabelConfig\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"- exports.modifyBabelrc = ({ babelrc }) => {\\n-   return {\\n-     ...babelrc,\\n-     plugins: babelrc.plugins.concat([`foo`]),\\n-   }\\n+ exports.onCreateBabelConfig = ({ actions }) => {\\n+   actions.setBabelPlugin({\\n+     name: `babel-plugin-foo`,\\n+   })\\n}\\n\")), mdx(\"p\", null, \"Note usage of the new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/actions/#setBabelPlugins\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"setBabelPlugin\"), \" action\"), \".\"), mdx(\"p\", null, \"See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/babel\"\n  }), \"Gatsby\\u2019s Babel docs for more details\"), \" about configuring Babel.\"), mdx(\"h3\", {\n    \"id\": \"change-modifywebpackconfig-to-oncreatewebpackconfig\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#change-modifywebpackconfig-to-oncreatewebpackconfig\",\n    \"aria-label\": \"change modifywebpackconfig to oncreatewebpackconfig permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Change \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"modifyWebpackConfig\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"onCreateWebpackConfig\")), mdx(\"p\", null, \"We renamed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"modifyWebpackConfig\"), \" to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/node-apis/#onCreateWebpackConfig\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"onCreateWebpackConfig\")), \" to bring it in line with the rest of Gatsby\\u2019s API names.\"), mdx(\"p\", null, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onCreateWebpackConfig\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"- exports.modifyWebpackConfig = ({ config, stage }) => {\\n+ exports.onCreateWebpackConfig = ({ stage, actions }) => {\\n  switch (stage) {\\n    case `build-javascript`:\\n-       config.plugin(`Foo`, webpackFooPlugin, null)\\n-       break\\n-   }\\n-   return config\\n+       actions.setWebpackConfig({\\n+         plugins: [webpackFooPlugin],\\n+       })\\n+   }\\n}\\n\")), mdx(\"p\", null, \"Note usage of the new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/actions/#setWebpackConfig\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"setWebpackConfig\"), \" action\"), \".\"), mdx(\"p\", null, \"See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/add-custom-webpack-config\"\n  }), \"Gatsby\\u2019s webpack docs for more details\"), \" about configuring webpack.\"), mdx(\"h3\", {\n    \"id\": \"createremotefilenode\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#createremotefilenode\",\n    \"aria-label\": \"createremotefilenode permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"createRemoteFileNode\"), mdx(\"p\", null, \"The signature for using createRemoteFileNode changed in v2, it now expects a new parameter \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createNodeId\"), \".\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-filesystem#createremotefilenode\"\n  }), \"See docs for \", mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"createRemoteFileNode\"))), mdx(\"h3\", {\n    \"id\": \"only-allow-defined-keys-on-the-node-internal-object\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#only-allow-defined-keys-on-the-node-internal-object\",\n    \"aria-label\": \"only allow defined keys on the node internal object permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Only allow defined keys on the node internal object\"), mdx(\"p\", null, \"The node \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"internal\"), \" object isn\\u2019t meant for adding node data. While Gatsby v1 allows this behaviour we now validate against it for v2. Node data should be added as fields on the top-level node object.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/docs/node-interface/\"\n  }), \"Check the Node interface docs\"), \" for allowed fields.\"), mdx(\"h3\", {\n    \"id\": \"import-graphql-types-from-gatsbygraphql\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#import-graphql-types-from-gatsbygraphql\",\n    \"aria-label\": \"import graphql types from gatsbygraphql permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Import \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"graphql\"), \" types from \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"gatsby/graphql\")), mdx(\"p\", null, \"Import graphql types from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby/graphql\"), \" to prevent \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Schema must contain unique named types but contains multiple types named \\\"<typename>\\\"\"), \" errors. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby/graphql\"), \" exports all builtin GraphQL types as well as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphQLJSON\"), \" type.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"-const { GraphQLString } = require(`graphql`)\\n+const { GraphQLString } = require(`gatsby/graphql`)\\n\")), mdx(\"h3\", {\n    \"id\": \"add-gatsby-plugin-flow-if-you-are-using-flowtype\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#add-gatsby-plugin-flow-if-you-are-using-flowtype\",\n    \"aria-label\": \"add gatsby plugin flow if you are using flowtype permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Add \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"gatsby-plugin-flow\"), \" if you are using Flowtype\"), mdx(\"p\", null, \"We removed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@babel/preset-flow\"), \" from Gatsby\\u2019s default Babel configuration to make it easier to allow users to choose their own transpiler. If your site has its own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".babelrc\"), \" that already includes the Flow preset, no changes are necessary. Otherwise, you should install \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-flow\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-flow\")), \".\"), mdx(\"h2\", {\n    \"id\": \"for-explorers\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#for-explorers\",\n    \"aria-label\": \"for explorers permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"For Explorers\"), mdx(\"h3\", {\n    \"id\": \"starting-a-new-project-with-v2\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#starting-a-new-project-with-v2\",\n    \"aria-label\": \"starting a new project with v2 permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Starting a New Project with v2\"), mdx(\"p\", null, \"Here\\u2019s a brief section on starting a new project with Gatsby v2 instead of upgrading an existing project.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Start from scratch:\"), \" If you\\u2019re a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"start from scratch\"), \" kind of person, you can install Gatsby and React like this: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm install gatsby react react-dom\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Tutorial:\"), \" If you\\u2019d like a step-by-step guide, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/tutorial/\"\n  }), \"follow the tutorial\"), \" to get started with Gatsby v2.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Starters:\"), \" If you\\u2019d rather use one of the official starters, install your favourite one with the Gatsby CLI.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-starter-default\"), \" with v2:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"gatsby new my-default-project https://github.com/gatsbyjs/gatsby-starter-default\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-starter-hello-world\"), \" with v2:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"gatsby new my-hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-starter-blog\"), \" with v2:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"gatsby new my-blog https://github.com/gatsbyjs/gatsby-starter-blog\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Looking for the v1 docs?  Find them here . This document is a work in progress. Have you run into something that's not covered here?  Add…",
        "timeToRead": 10,
        "tableOfContents": {
          "items": [
            {
              "url": "#introduction",
              "title": "Introduction"
            },
            {
              "url": "#why-you-should-migrate",
              "title": "Why you should migrate"
            },
            {
              "url": "#what-well-cover",
              "title": "What we'll cover"
            },
            {
              "url": "#updating-your-dependencies",
              "title": "Updating Your Dependencies",
              "items": [
                {
                  "url": "#update-gatsby-version",
                  "title": "Update Gatsby version"
                },
                {
                  "url": "#update-gatsby-related-packages",
                  "title": "Update Gatsby related packages"
                },
                {
                  "url": "#install-react",
                  "title": "Install React"
                },
                {
                  "url": "#install-plugins-peer-dependencies",
                  "title": "Install plugins' peer dependencies"
                }
              ]
            },
            {
              "url": "#handling-breaking-changes",
              "title": "Handling Breaking Changes",
              "items": [
                {
                  "url": "#remove-or-refactor-layout-components",
                  "title": "Remove or refactor layout components",
                  "items": [
                    {
                      "url": "#1-convert-the-layouts-children-from-a-render-prop-to-a-normal-prop-required",
                      "title": "1. Convert the layout's children from a render prop to a normal prop (required)"
                    },
                    {
                      "url": "#2-move-layoutsindexjs-to-srccomponentslayoutjs-optional-but-recommended",
                      "title": "2. Move layouts/index.js to src/components/layout.js (optional, but recommended)"
                    },
                    {
                      "url": "#3-import-and-wrap-pages-with-the-layout-component",
                      "title": "3. Import and wrap pages with the layout component"
                    },
                    {
                      "url": "#4-pass-history-location-and-match-props-to-layout",
                      "title": "4. Pass history, location, and match props to layout"
                    },
                    {
                      "url": "#5-change-query-to-use-staticquery",
                      "title": "5. Change query to use StaticQuery"
                    }
                  ]
                },
                {
                  "url": "#change-navigateto-to-navigate",
                  "title": "Change navigateTo to navigate"
                },
                {
                  "url": "#convert-to-either-pure-commonjs-or-pure-es6",
                  "title": "Convert to either pure CommonJS or pure ES6"
                },
                {
                  "url": "#move-babel-configuration",
                  "title": "Move Babel Configuration"
                },
                {
                  "url": "#restore-v1-postcss-plugin-setup",
                  "title": "Restore v1 PostCSS Plugin Setup",
                  "items": [
                    {
                      "url": "#1-install-the-dependencies",
                      "title": "1. Install the dependencies"
                    },
                    {
                      "url": "#2-include-gatsby-plugin-postcss-in-your-gatsby-configjs-file",
                      "title": "2. Include gatsby-plugin-postcss in your gatsby-config.js file"
                    },
                    {
                      "url": "#3-include-postcss-plugins-in-your-postcssconfigjs-file",
                      "title": "3. Include PostCSS plugins in your postcss.config.js file"
                    }
                  ]
                },
                {
                  "url": "#migrate-from-react-router-to-reachrouter",
                  "title": "Migrate from React Router to @reach/router",
                  "items": [
                    {
                      "url": "#only-string-to-allowed",
                      "title": "Only string to allowed"
                    },
                    {
                      "url": "#pass-state-to-the-state-prop",
                      "title": "Pass state to the state prop"
                    },
                    {
                      "url": "#a-history-prop-is-no-longer-passed-to-page-components",
                      "title": "A history prop is no longer passed to page components"
                    },
                    {
                      "url": "#the-following-props-are-no-longer-available-on-link",
                      "title": "The following props are no longer available on <Link>"
                    },
                    {
                      "url": "#use-getprops-for-advanced-link-styling",
                      "title": "Use getProps for advanced link styling"
                    },
                    {
                      "url": "#change-client-paths-to-use-a-splat",
                      "title": "Change client paths to use a splat"
                    },
                    {
                      "url": "#migrating-react-router-client-routes-to-reachrouter",
                      "title": "Migrating React Router client routes to @reach/router"
                    }
                  ]
                },
                {
                  "url": "#apis-onprerouteupdate-and-onrouteupdate-no-longer-called-with-the-route-update-action",
                  "title": "APIs onPreRouteUpdate and onRouteUpdate no longer called with the route update action"
                },
                {
                  "url": "#browser-api-replaceroutercomponent-was-removed",
                  "title": "Browser API replaceRouterComponent was removed"
                },
                {
                  "url": "#browser-api-replacehistory-was-removed",
                  "title": "Browser API replaceHistory was removed"
                },
                {
                  "url": "#browser-api-wraprootcomponent-was-replaced-with-wraprootelement",
                  "title": "Browser API wrapRootComponent was replaced with wrapRootElement"
                },
                {
                  "url": "#dont-query-nodes-by-id",
                  "title": "Don't query nodes by ID"
                },
                {
                  "url": "#use-query-in-place-of-rootquerytype",
                  "title": "Use Query in place of RootQueryType"
                },
                {
                  "url": "#typographyjs-plugin-config-changes",
                  "title": "Typography.js Plugin Config Changes"
                },
                {
                  "url": "#update-css-modules-class-names-that-use-dashes",
                  "title": "Update CSS Modules class names that use dashes"
                },
                {
                  "url": "#update-jest-configuration",
                  "title": "Update Jest configuration"
                },
                {
                  "url": "#gatsby-images-outerwrapperclassname-was-removed",
                  "title": "gatsby-image's outerWrapperClassName was removed"
                }
              ]
            },
            {
              "url": "#resolving-deprecations",
              "title": "Resolving Deprecations",
              "items": [
                {
                  "url": "#import-link-from-gatsby",
                  "title": "Import Link from Gatsby"
                },
                {
                  "url": "#import-graphql-from-gatsby",
                  "title": "Import graphql from Gatsby"
                },
                {
                  "url": "#rename-boundactioncreators-to-actions",
                  "title": "Rename boundActionCreators to actions"
                },
                {
                  "url": "#rename-pathcontext-to-pagecontext",
                  "title": "Rename pathContext to pageContext"
                },
                {
                  "url": "#rename-responsive-image-queries",
                  "title": "Rename responsive image queries"
                },
                {
                  "url": "#delete-nodes-api-deprecated",
                  "title": "Delete Nodes API Deprecated"
                }
              ]
            },
            {
              "url": "#other-changes-worth-noting",
              "title": "Other Changes Worth Noting",
              "items": [
                {
                  "url": "#explicit-query-names-no-longer-required",
                  "title": "Explicit query names no longer required"
                },
                {
                  "url": "#remove-inlined-css-in-htmljs",
                  "title": "Remove inlined CSS in html.js"
                },
                {
                  "url": "#remove-explicit-polyfills",
                  "title": "Remove explicit polyfills"
                }
              ]
            },
            {
              "url": "#for-plugin-maintainers",
              "title": "For Plugin Maintainers",
              "items": [
                {
                  "url": "#setting-the-proper-peer-dependencies",
                  "title": "Setting the Proper Peer Dependencies"
                },
                {
                  "url": "#change-modifybabelrc-to-oncreatebabelconfig",
                  "title": "Change modifyBabelrc to onCreateBabelConfig"
                },
                {
                  "url": "#change-modifywebpackconfig-to-oncreatewebpackconfig",
                  "title": "Change modifyWebpackConfig to onCreateWebpackConfig"
                },
                {
                  "url": "#createremotefilenode",
                  "title": "createRemoteFileNode"
                },
                {
                  "url": "#only-allow-defined-keys-on-the-node-internal-object",
                  "title": "Only allow defined keys on the node internal object"
                },
                {
                  "url": "#import-graphql-types-from-gatsbygraphql",
                  "title": "Import graphql types from gatsby/graphql"
                },
                {
                  "url": "#add-gatsby-plugin-flow-if-you-are-using-flowtype",
                  "title": "Add gatsby-plugin-flow if you are using Flowtype"
                }
              ]
            },
            {
              "url": "#for-explorers",
              "title": "For Explorers",
              "items": [
                {
                  "url": "#starting-a-new-project-with-v2",
                  "title": "Starting a New Project with v2"
                }
              ]
            }
          ]
        },
        "fields": {
          "slug": "/docs/migrating-from-v1-to-v2/",
          "anchor": "migrating-from-v1-to-v2"
        },
        "frontmatter": {
          "title": "Migrating from v1 to v2",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/migrating-from-v1-to-v2.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/migrating-from-v1-to-v2/",
      "prev": {
        "title": "v1 Release Notes",
        "link": "/docs/v1-release-notes/"
      },
      "next": {
        "title": "Migrating from v0 to v1",
        "link": "/docs/migrating-from-v0-to-v1/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}