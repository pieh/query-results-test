{
  "path": "/docs/query-execution/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Query Execution\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", {\n    \"id\": \"query-execution\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#query-execution\",\n    \"aria-label\": \"query execution permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Query Execution\"), mdx(\"p\", null, \"Query Execution is kicked off by bootstrap by calling \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L29\"\n  }), \"page-query-runner.js runInitialQuerys()\"), \". The main files involved in this step are:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby/src/internal-plugins/query-runner/query-queue.js\"\n  }), \"page-query-runner.js\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby/src/internal-plugins/query-runner/query-queue.js\"\n  }), \"query-queue.js\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby/src/internal-plugins/query-runner/query-runner.js\"\n  }), \"query-runner.js\"))), mdx(\"p\", null, \"Here\\u2019s an overview of how it all relates:\"), mdx(\"svg\", {\n    \"width\": \"632pt\",\n    \"height\": \"645pt\",\n    \"viewBox\": \"0.00 0.00 632.00 644.80\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\",\n    \"style\": {\n      \"maxWidth\": \"100%\",\n      \"height\": \"auto\"\n    }\n  }, mdx(\"g\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"id\": \"graph0\",\n    \"className\": \"graph\",\n    \"transform\": \"scale(1 1) rotate(0) translate(4 640.8)\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"%0\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#ffffff\",\n    \"stroke\": \"transparent\",\n    \"points\": \"-4,4 -4,-640.8 628,-640.8 628,4 -4,4\"\n  })), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust1\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_other\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust4\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_queryRunner\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"146,-85.2 146,-234 474,-234 474,-85.2 146,-85.2\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-217.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-runner.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust2\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_pageQueryRunner\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"8,-326.8 8,-547.6 564,-547.6 564,-326.8 8,-326.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"286\",\n    \"y\": \"-531\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"page-query-runner.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust3\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_queryQueue\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"259,-242 259,-318.8 361,-318.8 361,-242 259,-242\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-302.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-queue.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node1\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"extractQueries\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"133.6731,-610.2 24.3269,-610.2 24.3269,-574.2 133.6731,-574.2 133.6731,-610.2\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"79\",\n    \"y\": \"-588\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-watcher.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node6\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"extractedQueryQ\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"184.3834,-442.8 15.6166,-442.8 15.6166,-406.8 184.3834,-406.8 184.3834,-442.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"100\",\n    \"y\": \"-420.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"queueQueryForPathname()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge8\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"extractQueries->extractedQueryQ\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M81.2873,-573.9666C84.9324,-544.9104 92.088,-487.8699 96.4172,-453.3598\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"99.9434,-453.3688 97.7155,-443.0109 92.9979,-452.4975 99.9434,-453.3688\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node2\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"componentsDD\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M334.6517,-615.6821C334.6517,-618.5614 293.5719,-620.9004 243,-620.9004 192.4281,-620.9004 151.3483,-618.5614 151.3483,-615.6821 151.3483,-615.6821 151.3483,-568.7179 151.3483,-568.7179 151.3483,-565.8386 192.4281,-563.4996 243,-563.4996 293.5719,-563.4996 334.6517,-565.8386 334.6517,-568.7179 334.6517,-568.7179 334.6517,-615.6821 334.6517,-615.6821\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M334.6517,-615.6821C334.6517,-612.8028 293.5719,-610.4639 243,-610.4639 192.4281,-610.4639 151.3483,-612.8028 151.3483,-615.6821\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"159.4242\",\n    \"y\": \"-596.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"componentDataDependencies\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"243\",\n    \"y\": \"-579.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"(redux)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node7\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"findIdsWithoutDD\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"417.8053,-442.8 202.1947,-442.8 202.1947,-406.8 417.8053,-406.8 417.8053,-442.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-420.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"findIdsWithoutDataDependencies()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge9\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"componentsDD->findIdsWithoutDD\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M254.5177,-563.4229C266.9552,-532.3479 286.6303,-483.1893 298.902,-452.5285\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"302.2922,-453.477 302.7587,-442.8925 295.7934,-450.8759 302.2922,-453.477\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node3\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"components\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M435.6557,-615.6821C435.6557,-618.5614 416.985,-620.9004 394,-620.9004 371.015,-620.9004 352.3443,-618.5614 352.3443,-615.6821 352.3443,-615.6821 352.3443,-568.7179 352.3443,-568.7179 352.3443,-565.8386 371.015,-563.4996 394,-563.4996 416.985,-563.4996 435.6557,-565.8386 435.6557,-568.7179 435.6557,-568.7179 435.6557,-615.6821 435.6557,-615.6821\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M435.6557,-615.6821C435.6557,-612.8028 416.985,-610.4639 394,-610.4639 371.015,-610.4639 352.3443,-612.8028 352.3443,-615.6821\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"360.1725\",\n    \"y\": \"-596.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"components\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"394\",\n    \"y\": \"-579.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" (redux)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge10\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"components->findIdsWithoutDD\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M379.5599,-563.4229C363.8989,-532.2128 339.0846,-482.7615 323.7138,-452.1296\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"326.6919,-450.2606 319.0787,-442.8925 320.4354,-453.4001 326.6919,-450.2606\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node4\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"createNode\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"608.0204,-610.2 453.9796,-610.2 453.9796,-574.2 608.0204,-574.2 608.0204,-610.2\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"531\",\n    \"y\": \"-588\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"CREATE_NODE action\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node5\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"dirtyActions\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M538.9888,-511.5273C538.9888,-513.3331 519.7205,-514.8 496,-514.8 472.2795,-514.8 453.0112,-513.3331 453.0112,-511.5273 453.0112,-511.5273 453.0112,-482.0727 453.0112,-482.0727 453.0112,-480.2669 472.2795,-478.8 496,-478.8 519.7205,-478.8 538.9888,-480.2669 538.9888,-482.0727 538.9888,-482.0727 538.9888,-511.5273 538.9888,-511.5273\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M538.9888,-511.5273C538.9888,-509.7214 519.7205,-508.2545 496,-508.2545 472.2795,-508.2545 453.0112,-509.7214 453.0112,-511.5273\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"496\",\n    \"y\": \"-492.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"dirtyActions\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge11\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"createNode->dirtyActions\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M524.2516,-573.8059C519.135,-559.8594 512.0163,-540.4558 506.2049,-524.6156\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"509.3391,-522.9967 502.6089,-514.8141 502.7674,-525.4077 509.3391,-522.9967\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node8\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"findDirtyActions\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"556.4678,-442.8 435.5322,-442.8 435.5322,-406.8 556.4678,-406.8 556.4678,-442.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"496\",\n    \"y\": \"-420.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"findDirtyActions()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge3\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"dirtyActions->findDirtyActions\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M496,-478.6314C496,-470.931 496,-461.7743 496,-453.2166\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"499.5001,-453.2132 496,-443.2133 492.5001,-453.2133 499.5001,-453.2132\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node9\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryJobs\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"393.6093,-370.8 226.3907,-370.8 226.3907,-334.8 393.6093,-334.8 393.6093,-370.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-348.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"runQueriesForPathnames()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge1\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"extractedQueryQ->queryJobs\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M152.7208,-406.7243C181.5538,-396.8387 217.4481,-384.5321 247.6631,-374.1726\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"248.9332,-377.4373 257.2575,-370.8831 246.6629,-370.8156 248.9332,-377.4373\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge2\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"findIdsWithoutDD->queryJobs\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M310,-406.6314C310,-398.931 310,-389.7743 310,-381.2166\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"313.5001,-381.2132 310,-371.2133 306.5001,-381.2133 313.5001,-381.2132\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge4\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"findDirtyActions->queryJobs\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M449.0643,-406.6314C423.8563,-396.8734 392.6074,-384.777 366.1209,-374.5242\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"367.1873,-371.184 356.5981,-370.838 364.6603,-377.712 367.1873,-371.184\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node10\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryQ\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"352.9608,-286 267.0392,-286 267.0392,-250 352.9608,-250 352.9608,-286\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-263.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"better-queue\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge12\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryJobs->queryQ\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M310,-334.3997C310,-332.6235 310,-330.7635 310,-328.8407\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"313.5001,-328.7998 310,-318.7999 306.5001,-328.7999 313.5001,-328.7998\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node11\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"graphqlJs\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"310\",\n    \"cy\": \"-183.2\",\n    \"rx\": \"155.6479\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-179\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"graphqlJs(schema, query, context, ...)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge13\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryQ->graphqlJs\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M310,-249.5997C310,-247.8235 310,-245.9635 310,-244.0407\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"313.5001,-243.9998 310,-233.9999 306.5001,-243.9999 313.5001,-243.9998\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node12\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"result\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"310\",\n    \"cy\": \"-111.2\",\n    \"rx\": \"62.0187\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"310\",\n    \"y\": \"-107\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"Query Result\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge5\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"graphqlJs->result\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M310,-165.0314C310,-157.331 310,-148.1743 310,-139.6166\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"313.5001,-139.6132 310,-129.6133 306.5001,-139.6133 313.5001,-139.6132\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node13\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"diskResult\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M319.7488,-43.3273C319.7488,-45.1331 281.3148,-46.6 234,-46.6 186.6852,-46.6 148.2512,-45.1331 148.2512,-43.3273 148.2512,-43.3273 148.2512,-13.8727 148.2512,-13.8727 148.2512,-12.0669 186.6852,-10.6 234,-10.6 281.3148,-10.6 319.7488,-12.0669 319.7488,-13.8727 319.7488,-13.8727 319.7488,-43.3273 319.7488,-43.3273\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M319.7488,-43.3273C319.7488,-41.5214 281.3148,-40.0545 234,-40.0545 186.6852,-40.0545 148.2512,-41.5214 148.2512,-43.3273\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"234\",\n    \"y\": \"-24.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"/public/static/d/${dataPath}\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge6\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"result->diskResult\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M293.8824,-93.6827C283.346,-82.2313 269.4048,-67.0795 257.6252,-54.2769\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"259.9664,-51.6522 250.6198,-46.6631 254.8151,-56.3919 259.9664,-51.6522\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node14\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"jsonDataPaths\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M434.094,-52.0821C434.094,-54.9614 412.5375,-57.3004 386,-57.3004 359.4625,-57.3004 337.906,-54.9614 337.906,-52.0821 337.906,-52.0821 337.906,-5.1179 337.906,-5.1179 337.906,-2.2386 359.4625,.1004 386,.1004 412.5375,.1004 434.094,-2.2386 434.094,-5.1179 434.094,-5.1179 434.094,-52.0821 434.094,-52.0821\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M434.094,-52.0821C434.094,-49.2028 412.5375,-46.8639 386,-46.8639 359.4625,-46.8639 337.906,-49.2028 337.906,-52.0821\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"345.953\",\n    \"y\": \"-32.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"jsonDataPaths\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"386\",\n    \"y\": \"-16\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"(redux)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge7\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"result->jsonDataPaths\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M326.1176,-93.6827C333.8259,-85.305 343.3564,-74.9468 352.5297,-64.9769\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"355.2436,-67.1965 359.4389,-57.4677 350.0923,-62.4569 355.2436,-67.1965\"\n  }))))), mdx(\"h4\", {\n    \"id\": \"figuring-out-which-queries-need-to-be-executed\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#figuring-out-which-queries-need-to-be-executed\",\n    \"aria-label\": \"figuring out which queries need to be executed permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Figuring out which queries need to be executed\"), mdx(\"p\", null, \"The first thing this query does is figure out what queries even need to be run. You would think this would simply be a matter of running the Queries that were enqueued in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/query-extraction/\"\n  }), \"Extract Queries\"), \", but matters are complicated by support for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"develop\"), \". Below is the logic for figuring out which queries need to be executed (code is in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L36\"\n  }), \"runQueries()\"), \").\"), mdx(\"h5\", {\n    \"id\": \"already-queued-queries\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#already-queued-queries\",\n    \"aria-label\": \"already queued queries permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Already queued queries\"), mdx(\"p\", null, \"All queries queued after being extracted (from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query-watcher.js\"), \").\"), mdx(\"h5\", {\n    \"id\": \"queries-without-node-dependencies\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#queries-without-node-dependencies\",\n    \"aria-label\": \"queries without node dependencies permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Queries without node dependencies\"), mdx(\"p\", null, \"All queries whose component path isn\\u2019t listed in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"componentDataDependencies\"), \". As a recap, in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-generation/\"\n  }), \"Schema Generation\"), \", we showed that all Type resolvers record a dependency between the page whose query we\\u2019re running and any nodes that were successfully resolved. So, If a component is declared in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" redux namespace (occurs during \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/page-creation/\"\n  }), \"Page Creation\"), \"), but is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" contained in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"componentDataDependencies\"), \", then by definition, the query has not been run. Therefore we need to run it. Checkout \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/page-node-dependencies/\"\n  }), \"Page -> Node Dependencies\"), \" for more info. The code for this step is in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L96\"\n  }), \"findIdsWithoutDataDependencies\"), \".\"), mdx(\"h5\", {\n    \"id\": \"pages-that-depend-on-dirty-nodes\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h5\"\n  }, {\n    \"href\": \"#pages-that-depend-on-dirty-nodes\",\n    \"aria-label\": \"pages that depend on dirty nodes permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Pages that depend on dirty nodes\"), mdx(\"p\", null, \"In \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"develop\"), \" mode, every time a node is created, or is updated (e.g via editing a markdown file), we add that node to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L61\"\n  }), \"enqueuedDirtyActions\"), \" collection. When we execute our queries, we can lookup all nodes in this collection and map them to pages that depend on them (as described above). These pages\\u2019 queries must also be executed. In addition, this step also handles dirty \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"connections\"), \" (see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-connections/\"\n  }), \"Schema Connections\"), \"). Connections depend on a node\\u2019s type. So if a node is dirty, we mark all connection nodes of that type dirty as well. The code for this step is in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L171\"\n  }), \"findDirtyIds\"), \". \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note: dirty ids is really talking about dirty paths\"), \".\"), mdx(\"h4\", {\n    \"id\": \"queue-queries-for-execution\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#queue-queries-for-execution\",\n    \"aria-label\": \"queue queries for execution permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Queue Queries for Execution\"), mdx(\"p\", null, \"We now have the list of all pages that need to be executed (linked to their Query information). Let\\u2019s queue them for execution (for realz this time). A call to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js#L127\"\n  }), \"runQueriesForPathnames\"), \" kicks off this step. For each page or static query, we create a Query Job that looks something like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"{\\n  id: // page path, or static query hash\\n  hash: // only for static queries\\n  jsonName: // jsonName of static query or page\\n  query: // raw query text\\n  componentPath: // path to file where query is declared\\n  isPage: // true if not static query\\n  context: {\\n    path: // if staticQuery, is jsonName of component\\n    ...page // page object. Not for static queries\\n    ...page.context // not for static queries\\n  }\\n}\\n\")), mdx(\"p\", null, \"This Query Job contains everything we need to execute the query (and do things like recording dependencies between pages and nodes). So, we push it onto the queue in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-queue.js\"\n  }), \"query-queue.js\"), \" and then wait for the queue to empty. Let\\u2019s see how \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query-queue\"), \" works.\"), mdx(\"h4\", {\n    \"id\": \"query-queue-execution\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#query-queue-execution\",\n    \"aria-label\": \"query queue execution permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Query Queue Execution\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-queue.js\"\n  }), \"query-queue.js\"), \" creates a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/better-queue\"\n  }), \"better-queue\"), \" queue that offers advanced features like parallel execution, which is handy since queries do not depend on each other so we can take advantage of this. Every time an item is consumed from the queue, we call \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-runner.js\"\n  }), \"query-runner.js\"), \" where we finally actually execute the query!\"), mdx(\"p\", null, \"Query execution involves calling the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://graphql.org/graphql-js/\"\n  }), \"graphql-js\"), \" library with 3 pieces of information:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The Gatsby schema that was inferred during \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/schema-generation/\"\n  }), \"Schema Generation\"), \".\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The raw query text. Obtained from the Query Job.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The Context, also from the Query Job. Has the page\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"path\"), \" amongst other things so that we can record \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/page-node-dependencies/\"\n  }), \"Page -> Node Dependencies\"), \".\")), mdx(\"p\", null, \"Graphql-js will parse the query, and executes the top level query. E.g \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"allMarkdownRemark( limit: 10 )\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"file( relativePath: { eq: \\\"blog/my-blog.md\\\" } )\"), \". These will invoke the resolvers defined in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-connections/\"\n  }), \"Schema Connections\"), \" or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-gql-type/\"\n  }), \"GQL Type\"), \", which both use sift to query over all nodes of the type in redux. The result will be passed through the inner part of the graphql query where each type\\u2019s resolver will be invoked. The vast majority of these will be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"identity\"), \" functions that just return the field value. Some however could call a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-gql-type/#plugin-fields\"\n  }), \"custom plugin field\"), \" resolver. These in turn might perform side effects such as generating images. This is why the query execution phase of bootstrap often takes the longest.\"), mdx(\"p\", null, \"Finally, a result is returned.\"), mdx(\"h4\", {\n    \"id\": \"save-query-results-to-redux-and-disk\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#save-query-results-to-redux-and-disk\",\n    \"aria-label\": \"save query results to redux and disk permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Save Query results to redux and disk\"), mdx(\"p\", null, \"As queries are consumed from the queue and executed, their results are saved to redux and disk for consumption later on. This involves converting the result to pure JSON, and then saving it to its \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/behind-the-scenes-terminology/#datapath\"\n  }), \"dataPath\"), \". Which is relative to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"public/static/d\"), \". The data path includes the jsonName and hash. E.g: for the page \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog/2018-07-17-announcing-gatsby-preview/\"), \", the queries results would be saved to disk as something like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"/public/static/d/621/path---blog-2018-07-17-announcing-gatsby-preview-995-a74-dwfQIanOJGe2gi27a9CLKHjamc.json\\n\")), mdx(\"p\", null, \"For static queries, instead of using the page\\u2019s jsonName, we just use a hash of the query.\"), mdx(\"p\", null, \"Now we need to store the association of the page -> the query result in redux so we can recall it later. This is accomplished via the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/redux/reducers/json-data-paths.js\"\n  }), \"json-data-paths\"), \" reducer which we invoke by creating a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SET_JSON_DATA_PATH\"), \" action with the page\\u2019s jsonName and the saved dataPath.\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Query Execution Query Execution is kicked off by bootstrap by calling  page-query-runner.js runInitialQuerys() . The main files involved in…",
        "timeToRead": 3,
        "tableOfContents": {
          "items": [
            {
              "url": "#query-execution",
              "title": "Query Execution",
              "items": [
                {
                  "url": "#figuring-out-which-queries-need-to-be-executed",
                  "title": "Figuring out which queries need to be executed",
                  "items": [
                    {
                      "url": "#already-queued-queries",
                      "title": "Already queued queries"
                    },
                    {
                      "url": "#queries-without-node-dependencies",
                      "title": "Queries without node dependencies"
                    },
                    {
                      "url": "#pages-that-depend-on-dirty-nodes",
                      "title": "Pages that depend on dirty nodes"
                    }
                  ]
                },
                {
                  "url": "#queue-queries-for-execution",
                  "title": "Queue Queries for Execution"
                },
                {
                  "url": "#query-queue-execution",
                  "title": "Query Queue Execution"
                },
                {
                  "url": "#save-query-results-to-redux-and-disk",
                  "title": "Save Query results to redux and disk"
                }
              ]
            }
          ]
        },
        "fields": {
          "slug": "/docs/query-execution/",
          "anchor": "query-execution"
        },
        "frontmatter": {
          "title": "Query Execution",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/query-execution.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/query-execution/",
      "prev": {
        "title": "Query Extraction",
        "link": "/docs/query-extraction/"
      },
      "next": {
        "title": "Normal vs StaticQueries",
        "link": "/docs/static-vs-normal-queries/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}