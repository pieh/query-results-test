{
  "path": "/packages/reobin-gatsby-source-instagram/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "reobin-gatsby-source-instagram",
        "description": "reobin&#39;s version of Gatsby source plugin for fetching instagram posts",
        "keywords": [
          "gatsby",
          "gatsby-plugin"
        ],
        "lastPublisher": {
          "name": "reobin",
          "avatar": "https://gravatar.com/avatar/7706c8071a5ff34f5c8791cd010dab2f"
        },
        "repository": {
          "url": "https://github.com/reobin/gatsby-source-instagram"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<div align=\"center\">\n<h1>gatsby-source-instagram</h1>\n<p><a href=\"https://badge.fury.io/js/gatsby-source-instagram\"><img src=\"https://badge.fury.io/js/gatsby-source-instagram.svg\" alt=\"npm version\"></a>\n<img src=\"https://img.shields.io/npm/dw/gatsby-source-instagram.svg\" alt=\"npm\">\n<a href=\"http://makeapullrequest.com\"><img src=\"https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square\" alt=\"PRs Welcome\"></a>\n<a href=\"https://isitmaintained.com/project/oorestisime/gatsby-source-instagram\" title=\"Average time to resolve an issue\"><img src=\"https://isitmaintained.com/badge/resolution/oorestisime/gatsby-source-instagram.svg\" alt=\"Average time to resolve an issue\"></a>\n<img src=\"https://img.shields.io/npm/l/gatsby-source-instagram.svg\" alt=\"NPM\"></p>\n</div>\n<p>Source plugin for sourcing data from Instagram. There are three ways to get information from instagram:</p>\n<ul>\n<li>scraping the homepage of the Instagram account. It can only get last 12 photos.</li>\n<li>scraping a hashtag page.</li>\n<li>querying the Instagram Graph Api using a provided <code class=\"language-text\">access_token</code></li>\n</ul>\n<h1 id=\"table-of-contents\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h1>\n<ul>\n<li><a href=\"#install\">Install</a></li>\n<li>\n<p><a href=\"#how-to-use\">How to use</a></p>\n<ul>\n<li><a href=\"#public-scraping\">Public scraping</a></li>\n<li><a href=\"#graph-api\">Graph API</a></li>\n<li><a href=\"#graph-api\">Hashtag scraping</a></li>\n</ul>\n</li>\n<li><a href=\"#how-to-query\">How to query</a></li>\n<li><a href=\"#image-processing\">Image processing</a></li>\n<li><a href=\"#instagram-graph-api-token\">Instagram Graph API token</a></li>\n</ul>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p><code class=\"language-text\">npm install --save gatsby-source-instagram</code></p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-label=\"how to use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<h3 id=\"public-scraping\"><a href=\"#public-scraping\" aria-label=\"public scraping permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Public scraping</h3>\n<p>If you intend to use the public scraping method then you need to pass the concerning username</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-instagram</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      username<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">username</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"graph-api\"><a href=\"#graph-api\" aria-label=\"graph api permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Graph API</h3>\n<p>If you intend to use the Instagram Graph Api then you need to pass the instagram id and an access token</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-instagram</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      username<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">username</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      access_token<span class=\"token punctuation\">:</span> <span class=\"token string\">\"a valid access token\"</span><span class=\"token punctuation\">,</span>\n      instagram_id<span class=\"token punctuation\">:</span> <span class=\"token string\">\"your instagram_business_account id\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Passing the username in this case is optional. If the Graph Api throws any exception and the username is provided then it will use the public scraping method as a fallback.</p>\n<h3 id=\"hashtag-scraping\"><a href=\"#hashtag-scraping\" aria-label=\"hashtag scraping permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hashtag scraping</h3>\n<p>If you want to source nodes from hashtags then you need the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-instagram</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">hashtag</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      hashtag<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">snowing</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"how-to-query\"><a href=\"#how-to-query\" aria-label=\"how to query permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to query</h2>\n<p>The plugin tries to provide uniform results regardless of the way you choose to retrieve the information</p>\n<p>Common fields include:</p>\n<ul>\n<li>id</li>\n<li>likes</li>\n<li>original</li>\n<li>timestamp</li>\n<li>comments</li>\n<li>caption</li>\n<li>username (fallbacks to the hashtag name in case of hashtag scraping)</li>\n<li>preview</li>\n<li>mediaType</li>\n</ul>\n<p>The public scraping method can additionaly retrieve:</p>\n<ul>\n<li>thumbnails</li>\n<li>dimensions</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  allInstaNode <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        id\n        likes\n        comments\n        mediaType\n        preview\n        original\n        timestamp\n        caption\n        localFile <span class=\"token punctuation\">{</span>\n          childImageSharp <span class=\"token punctuation\">{</span>\n            fixed<span class=\"token punctuation\">(</span><span class=\"token attr-name\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token operator\">...</span><span class=\"token fragment function\">GatsbyImageSharpFixed</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\"># Only available with the public api scraper</span>\n        thumbnails <span class=\"token punctuation\">{</span>\n          src\n          config_width\n          config_height\n        <span class=\"token punctuation\">}</span>\n        dimensions <span class=\"token punctuation\">{</span>\n          height\n          width\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"image-processing\"><a href=\"#image-processing\" aria-label=\"image processing permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image processing</h2>\n<p>To use image processing you need gatsby-transformer-sharp, gatsby-plugin-sharp and their dependencies gatsby-image and gatsby-source-filesystem in your gatsby-config.js.</p>\n<p>You can apply image processing on each instagram node. To access image processing in your queries you need to use the localFile on the <strong>InstaNode</strong> as shown above:</p>\n<h2 id=\"instagram-graph-api-token\"><a href=\"#instagram-graph-api-token\" aria-label=\"instagram graph api token permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Instagram Graph API token</h2>\n<p><a href=\"https://github.com/LekoArts\">Special thanks to LekoArts</a></p>\n<ol>\n<li>You need to have a Facebook page (I know… :/)</li>\n<li>Go to your site settings -> Instagram -> Login into your Instagram account</li>\n<li>Create a <a href=\"https://developers.facebook.com/apps/\">app</a></li>\n<li>\n<p>Go to the [Graph API Explorer][gae]</p>\n<ol>\n<li>Select your App from the top right dropdown menu</li>\n<li>Select “Get User Access Token” from dropdown (right of access token field) and select needed permissions (manage<em>pages, pages</em>show<em>list, instagram</em>basic)</li>\n<li>Copy user access token</li>\n</ol>\n</li>\n<li>\n<p>[Access Token Debugger][atd]:</p>\n<ol>\n<li>Paste copied token and press “Debug”</li>\n<li>Press “Extend Access Token” and copy the generated long-lived user access token</li>\n</ol>\n</li>\n<li>\n<p>[Graph API Explorer][gae]:</p>\n<ol>\n<li>Paste copied token into the “Access Token” field</li>\n<li>Make a GET request with “PAGE<em>ID?fields=access</em>token”</li>\n<li>Find the permanent page access token in the response (node “access_token”)</li>\n</ol>\n</li>\n<li>\n<p>[Access Token Debugger][atd]:</p>\n<ol>\n<li>Paste the permanent token and press “Debug”</li>\n<li>“Expires” should be “Never”</li>\n<li>Copy the <strong>access token</strong></li>\n</ol>\n</li>\n<li>\n<p>[Graph API Explorer][gae]:</p>\n<ol>\n<li>Make a GET request with “PAGE<em>ID?fields=instagram</em>business_account” to get your <strong>Business ID</strong></li>\n</ol>\n</li>\n</ol>",
            "timeToRead": 3
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/reobin-gatsby-source-instagram/",
      "id": "7a011bd8-6cba-5245-a47d-9e64b3fc9ff5",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}