{
  "path": "/blog/2019-03-01-localization-with-gatsby-and-sanity/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"A method for Localization with Gatsby and Sanity.io\",\n  \"date\": \"2019-03-01T00:00:00.000Z\",\n  \"author\": \"Travis Stanley\",\n  \"tags\": [\"sanity\", \"i18n\"],\n  \"image\": \"./images/gatsby-sanity-l10n.png\",\n  \"showImageInArticle\": true\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Localization is a common problem and there are \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"many\"), \" solutions, each with their own benefits and trade-offs. With Gatsby and Sanity.io its possible to achieve a solution that is easy to work with and extend. If you haven\\u2019t already read about why Gatsby and Sanity.io pair so well check out the blog post by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/contributors/knut-melvaer/\"\n  }), \"Knut Melv\\xE6r\"), \": \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-01-25-blazing-fast-development-with-gatsby-and-sanity-io\"\n  }), \"Blazing fast development with Gatsby and Sanity.io\"), \".\"), mdx(\"p\", null, \"I have completed two sites with Gatsby and Sanity that required localization. The first site needed to maintain every link from the original site without redirects: each language living in its own subdomain, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"es.my-web-page.com\"), \" for example. The simplest solution at the time was to use multiple builds which always bothered me. The second site I vowed to do it the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"right\\u2122\"), \" way.\"), mdx(\"p\", null, \"The new setup would generate pages for every language in one build step giving urls like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"my-home-page.com/es/...\"), \". This makes it easier for both the content team and our developers to use.\"), mdx(\"h2\", {\n    \"id\": \"setting-up-sanity-to-support-translations\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#setting-up-sanity-to-support-translations\",\n    \"aria-label\": \"setting up sanity to support translations permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Setting Up Sanity to Support Translations\"), mdx(\"p\", null, \"Sanity.io has some good documentation which has great examples to help you achieve \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.sanity.io/docs/localization\"\n  }), \"localized\"), \" text.\"), mdx(\"p\", null, \"Create a new contentType schema called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localeText\"), \" to use with the schemas in your project.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=contentTypes/localeText.js\"\n  }), \"const supportedLanguages = [\\n  { id: \\\"en\\\", title: \\\"English\\\", isDefault: true },\\n  { id: \\\"es\\\", title: \\\"Spanish\\\" },\\n  // Add as many languages as you need to support\\n]\\n\\nexport default {\\n  name: \\\"localeString\\\",\\n  type: \\\"object\\\",\\n  fieldsets: [\\n    {\\n      title: \\\"Translations\\\",\\n      name: \\\"translations\\\",\\n      options: { collapsible: true },\\n    },\\n  ],\\n  fields: supportedLanguages.map(lang => ({\\n    title: lang.title,\\n    name: lang.id,\\n    type: \\\"string\\\",\\n    fieldset: lang.isDefault ? null : \\\"translations\\\",\\n  })),\\n}\\n\")), mdx(\"p\", null, \"This will allow you to add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localeText\"), \" as a type in your schemas and renders a nice UI for adding translations.\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"663px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/bf3032542d0bea17bafd79fd3bd23e2b/2f3b2/ui-example.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"51.131221719457024%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhklEQVQoz6WRSwrAIAxEc/+bCrrxL35SRoi0u7YJjGLQl4kh5xx77xmx1mJtUM6ZQwg8xtjAOadK1HtnYwzHGHcFJAH+I5giLBIah+DAHOHQWmO0XkrROwQgpcQYDoQqaiCGYq097u77G8nd3TKotdZHu1//T95sh6BKEom/AucMRQMSCecCeoUW0poNpu4AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example of the translation UI from Sanity\",\n    \"title\": \"Example of the translation UI from Sanity\",\n    \"src\": \"/static/bf3032542d0bea17bafd79fd3bd23e2b/2f3b2/ui-example.png\",\n    \"srcSet\": [\"/static/bf3032542d0bea17bafd79fd3bd23e2b/a3b1f/ui-example.png 197w\", \"/static/bf3032542d0bea17bafd79fd3bd23e2b/07137/ui-example.png 393w\", \"/static/bf3032542d0bea17bafd79fd3bd23e2b/2f3b2/ui-example.png 663w\"],\n    \"sizes\": \"(max-width: 663px) 100vw, 663px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In your schema:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=schemas/article.js\"\n  }), \"export default {\\n  name: \\\"someDataType\\\",\\n  title: \\\"Data Title\\\",\\n  type: \\\"document\\\",\\n  fields: [\\n    {\\n      type: \\\"localeString\\\",\\n      name: \\\"title\\\",\\n    },\\n    {\\n      type: \\\"localeText\\\",\\n      name: \\\"description\\\",\\n    },\\n  ],\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"updating-gatsby-setup\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#updating-gatsby-setup\",\n    \"aria-label\": \"updating gatsby setup permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Updating Gatsby Setup\"), mdx(\"p\", null, \"Now that you have your Sanity schemas set up for adding translations you need to set up your Gatsby project to handle them. You\\u2019re going to update the queries to handle the new shape of your data.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=src/pages/index.js\"\n  }), \"export const query = graphql`\\n  query MyPageQuery {\\n    sanitySomeDataType {\\n      title {\\n        _type\\n        en\\n        es\\n      }\\n    }\\n  }\\n`\\n\")), mdx(\"p\", null, \"Which gives you a data prop that looks like the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"\\n{\\n  data: {\\n    sanitySomeDataType: {\\n      title: {\\n        _type: \\\"localeText\\\",\\n        en: \\\"My Title\\\",\\n        es: \\\"Mi t\\xEDtulo\\\"\\n      }\\n    }\\n  }\\n}\\n\\n\")), mdx(\"h2\", {\n    \"id\": \"getting-the-correct-language-text\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#getting-the-correct-language-text\",\n    \"aria-label\": \"getting the correct language text permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Getting the Correct Language Text\"), mdx(\"p\", null, \"At this point you could use the above as-is in your components with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data.sanitySomeDataType.title.en\"), \". You could do something like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"<Component>\\n  {\\n    data.sanitySomeDataType.title[\\n      props.pageContext.locale || process.env.GATSBY_LOCALE\\n    ]\\n  }\\n  {/*Or anything else you wanted to do*/}\\n</Component>\\n\")), mdx(\"p\", null, \"It is preferable to reference only the title key and get the correct text. No need to remember what locale is active.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"<Component>{data.sanitySomeDataType.title}</Component>\\n\")), mdx(\"p\", null, \"So let\\u2019s make \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"that\"), \" work.\"), mdx(\"p\", null, \"Once again, you can use the example from the Sanity.io documentation for \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.sanity.io/docs/localization#code-snippet-deeply-localizing-an-entire-document\"\n  }), \"a function to localize\"), \" the text from a given Sanity document. I\\u2019ve modified the example below to always default to English. This suits my use case and it\\u2019s a good starting point if your use case differs. The function walks through a given document and updates any object with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_type: 'locale<TEXT_TYPE>'\"), \" ( for example \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_type: 'localeText'\"), \", or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_type: 'localeString'\"), \" ) and returns only the correct translation text.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=src/util/index.js\"\n  }), \"export const createLocaleTextGetter = languageCode => {\\n  const languages = [languageCode, \\\"en\\\"] // last language in array is default;\\n  const localize = value => {\\n    if (Array.isArray(value)) {\\n      return value.map(v => localize(v, languages))\\n    } else if (typeof value == \\\"object\\\") {\\n      if (/^locale[A-Z]/.test(value._type)) {\\n        const language = languages.find(lang => value[lang])\\n        return value[language]\\n      }\\n\\n      return Object.keys(value).reduce((result, key) => {\\n        result[key] = localize(value[key], languages)\\n        return result\\n      }, {})\\n    }\\n    return value\\n  }\\n\\n  return localize\\n}\\n\")), mdx(\"p\", null, \"You could use render props for this but I decided on a higher-order component (HOC).\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx:title=src/components/localize.jsx\"\n  }), \"import React from \\\"react\\\"\\nimport Proptypes from \\\"prop-types\\\"\\nimport { createLocaleTextGetter } from \\\"../../util\\\" // Or wherever you stashed it\\n\\nfunction localize(Component) {\\n  return class Localize extends React.Component {\\n    static propTypes = {\\n      data: Proptypes.object,\\n      pageContext: Proptypes.shape({\\n        locale: Proptypes.string,\\n      }),\\n    }\\n    constructor(props) {\\n      super(props)\\n\\n      this.getLocalizedContent = createLocaleTextGetter(\\n        this.props.pageContext.locale\\n      )\\n    }\\n\\n    render() {\\n      return (\\n        <Component\\n          {...this.props}\\n          data={this.getLocalizedContent(this.props.data)}\\n        />\\n      )\\n    }\\n  }\\n}\\n\\nexport default localize\\n\")), mdx(\"h2\", {\n    \"id\": \"wrap-page-components-with-the-localize-hoc\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#wrap-page-components-with-the-localize-hoc\",\n    \"aria-label\": \"wrap page components with the localize hoc permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Wrap Page Components With the Localize HOC\"), mdx(\"p\", null, \"For each page or template that needs to be localized add your HOC.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx:title=src/pages/index.js\"\n  }), \"import React from \\\"react\\\"\\nimport Layout from \\\"../components/Layout\\\"\\nimport localize from \\\"../components/localize\\\"\\n\\nconst IndexPage = ({ data }) => (\\n  <Layout>\\n    <h1>{data.sanitySomeDataType.title}</h1>\\n  </Layout>\\n)\\n\\nexport default localize(IndexPage)\\n\\nexport const query = graphql`\\n  query HomeQuery {\\n    sanitySomeDataType {\\n      title {\\n        _type\\n        en\\n        es\\n      }\\n    }\\n  }\\n`\\n\")), mdx(\"h2\", {\n    \"id\": \"generating-pages-with-the-correct-context\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#generating-pages-with-the-correct-context\",\n    \"aria-label\": \"generating pages with the correct context permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Generating Pages with the Correct Context\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-node.js\"), \" file you need to add a function that generates pages for each supported language with a path prefix for each, such as \\u2018es\\u2019 for Spanish, and \\u2018fr\\u2019 for French. It needs to be called in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onCreatePage\"), \" so that every automatically generated page from your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages\"), \" directory gets localized. It also needs to be added into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createPages\"), \" to localize all of your dynamic content. This is needed as gatsby doesn\\u2019t call \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"onCreatePage\"), \" for pages generated by the same plugin at the moment to avoid infinite loops.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-node.js\"\n  }), \"// Get your list of languages from somewhere, env file, config.json, etc\\n// for sake of this snippet I am putting it here\\n\\nconst extraLanguages = [\\\"es\\\"] // English is currently the default so it isn't needed here.\\n\\nconst createLocalePage = (page, createPage) => {\\n  const { context, ...rest } = page\\n\\n  createPage({\\n    ...rest,\\n    context: {\\n      ...context,\\n      locale: process.env.LOCALE,\\n    },\\n  })\\n\\n  if (extraLanguages.length) {\\n    extraLanguages.forEach(code => {\\n      const { path, context, ...rest } = page\\n\\n      createPage({\\n        ...rest,\\n        path: `/${code}${path}`,\\n        // every page for each language gets the language code as a prefix\\n        // to its path: \\\"/es/blog/<some-slug>\\\" for example\\n        context: {\\n          ...context,\\n          locale: code,\\n        },\\n      })\\n    })\\n  }\\n}\\n\\nexports.createPages = ({ actions }) => {\\n  const { createPage } = actions\\n\\n  // generate your dynamic content here...\\n  const page = {\\n    path: \\\"some-page\\\",\\n    component: path.resolve(`./src/templates/some-page.js`),\\n    context: {\\n      slug: \\\"some-page-slug\\\",\\n    },\\n  }\\n\\n  createLocalePage(page, createPage)\\n}\\n\\nexports.onCreatePage = ({ page, actions }) => {\\n  const { createPage, deletePage } = actions\\n\\n  deletePage(page)\\n\\n  createLocalePage(page, createPage)\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"sanityio--gatsbyjs--localization--win\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#sanityio--gatsbyjs--localization--win\",\n    \"aria-label\": \"sanityio  gatsbyjs  localization  win permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Sanity.io + Gatsby.js + Localization = Win\"), mdx(\"p\", null, \"If you haven\\u2019t already started using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.sanity.io\"\n  }), \"Sanity.io\"), \" as your content backend I encourage you to check it out. You and your content team will love it.\"), mdx(\"p\", null, \"For a quick start with the combo, the peeps at Sanity put up a great starting point at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/sanity-io/example-company-website-gatsby-sanity-combo\"\n  }), \"Combo Example: Company Website\")), mdx(\"p\", null, \"If you have any questions or want to geek out about all things React hit me up on twitter \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/cpt_silverfox\"\n  }), \"@cpt_silverfox\")));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Localization is a common problem and there are  many  solutions, each with their own benefits and trade-offs. With Gatsby and Sanity.io itsâ€¦",
        "timeToRead": 2,
        "fields": {
          "slug": "/blog/2019-03-01-localization-with-gatsby-and-sanity/",
          "publishedAt": null
        },
        "frontmatter": {
          "title": "A method for Localization with Gatsby and Sanity.io",
          "excerpt": null,
          "date": "March 1st 2019",
          "rawDate": "2019-03-01T00:00:00.000Z",
          "canonicalLink": null,
          "tags": [
            "sanity",
            "i18n"
          ],
          "image": {
            "childImageSharp": {
              "resize": {
                "src": "/static/a4a08cbeef029465363a753bdf2a552e/85cf5/gatsby-sanity-l10n.png"
              },
              "fluid": {
                "base64": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz2NQUVFhQAHMDAzlbjPg3Ga/JYwMDDEMcdVSjMmNckyRRfIMaa2yjFldsgzpbbJMSfVyjKnNsmC1bVslEObo6OgIa2lrMsP4k/8EM/TFrmdjIBIUTpVGcIyNjS319PQa9PUMlIBcRk/jCPYm72UlDZ5LDjf5LPEAqUmsUlJNbpBzCM+XF0xpkvPO6ZNRALo0JqlOTjKzU1YQpCazC+JSBgMDA2OQgcZGJvYMTAwSyXY16s0+y5fVeyx+2OK7oh2ohD8wTdYprVWuIbpU3iGpQa4mpUk2JLVFdhIQLwIGxSR+Zm0WuAuNjIyU9fX184G0EViAk4GhyXeZV5PPssYm/0WqIKHkGlUxoMbYmHJ5x/gqOb/YcnmdhGo5l+gSeRugWFBQhgIXWK+pqSmYlpOTYwTRlprOjDCL8gxmgNnJWVaMxIRjaLYChGFoaAimzUzNwHS15xyQC8HsRt9FEEPr5RkyOmWZE2rkmIBhyAQMT8aMDlkmEB8YjsxAF4LVAwCNA2JILmhF6wAAAABJRU5ErkJggg==",
                "aspectRatio": 3,
                "src": "/static/a4a08cbeef029465363a753bdf2a552e/4ca57/gatsby-sanity-l10n.png",
                "srcSet": "/static/a4a08cbeef029465363a753bdf2a552e/9bad7/gatsby-sanity-l10n.png 197w,\n/static/a4a08cbeef029465363a753bdf2a552e/8c7c3/gatsby-sanity-l10n.png 393w,\n/static/a4a08cbeef029465363a753bdf2a552e/4ca57/gatsby-sanity-l10n.png 786w,\n/static/a4a08cbeef029465363a753bdf2a552e/3ba8f/gatsby-sanity-l10n.png 1179w,\n/static/a4a08cbeef029465363a753bdf2a552e/a4fe2/gatsby-sanity-l10n.png 1500w",
                "sizes": "(max-width: 786px) 100vw, 786px"
              }
            }
          },
          "imageAuthor": null,
          "imageAuthorLink": null,
          "imageTitle": null,
          "showImageInArticle": true,
          "author": {
            "id": "Travis Stanley",
            "bio": "Techlead for the Webteam @ Fitplan. Adoring partner, father of three, Codemonkey, gamer, and writer. Thats about the gist of it.",
            "twitter": "@cpt_silverfox",
            "avatar": {
              "childImageSharp": {
                "fixed": {
                  "tracedSVG": "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%3e%3crect%20width='100%25'%20height='100%25'%20fill='%23f6f2f8'/%3e%3cpath%20d='M19%201c1%201%200%202-3%202s-9%204-9%207c0%201-4%202-6%200-1-1-1%201-1%2010v12h15l14-1c0-1-2-4-5-6l-3-3c0-3-5-6-7-3h-4l-1-2-2-3c0-2%200-2%201-1%200%202%202%200%202-2%200-7%2010-8%2012-1%201%201%201-1%201-3l-2-6h-2m10%203c-3%201-4%202-2%205%203%203%202%206-1%206-3-1-4%201%200%202%207%201%206%202%206-7V2l-3%202M11%2014l3%202c2%200%202%200%202-2l-3-2c-2%200-2%200-2%202m-5%207l1%203%205%203c3%203%205%204%207%202%201-2%201-3-1-2-3%201-6-1-6-4-1-3-4-4-6-2m23%202c-2%200-2%201-1%203s4%201%204-2v-2l-3%201'%20fill='%23e0d6eb'%20fill-rule='evenodd'/%3e%3c/svg%3e",
                  "width": 64,
                  "height": 64,
                  "src": "/static/39242a5908d02d481765bdef8647b0a5/88ae8/travis_stanley.jpg",
                  "srcSet": "/static/39242a5908d02d481765bdef8647b0a5/88ae8/travis_stanley.jpg 1x,\n/static/39242a5908d02d481765bdef8647b0a5/0740f/travis_stanley.jpg 1.5x,\n/static/39242a5908d02d481765bdef8647b0a5/c9264/travis_stanley.jpg 2x"
                }
              }
            },
            "fields": {
              "slug": "/contributors/travis-stanley/"
            }
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/blog/2019-03-01-localization-with-gatsby-and-sanity/",
      "prev": {
        "fields": {
          "slug": "/blog/2019-02-27-reactiflux-q-and-a/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Q and A: Reactiflux and the Gatsby Team",
          "draft": null,
          "canonicalLink": "https://www.reactiflux.com/transcripts/gatsby-team/",
          "publishedAt": null,
          "issue": null,
          "tags": null
        }
      },
      "next": {
        "fields": {
          "slug": "/blog/2019-03-04-new-schema-customization/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "New schema customization API in Gatsby",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "graphql",
            "releases"
          ]
        }
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateBlogPostJs2991924798(\n  $slug: String!\n) {\n  mdx(fields: {slug: {eq: $slug}}) {\n    body\n    excerpt\n    timeToRead\n    fields {\n      slug\n      publishedAt\n    }\n    frontmatter {\n      title\n      excerpt\n      date(formatString: \"MMMM Do YYYY\")\n      rawDate: date\n      canonicalLink\n      tags\n      image {\n        childImageSharp {\n          resize(width: 1500, height: 1500) {\n            src\n          }\n          fluid(maxWidth: 786) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n      imageAuthor\n      imageAuthorLink\n      imageTitle\n      showImageInArticle\n      author {\n        id\n        bio\n        twitter\n        avatar {\n          childImageSharp {\n            fixed(width: 64, height: 64, quality: 75, traceSVG: {turdSize: 10, background: \"#f6f2f8\", color: \"#e0d6eb\"}) {\n              ...GatsbyImageSharpFixed_tracedSVG\n            }\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n\nfragment GatsbyImageSharpFluid on ImageSharpFluid {\n  base64\n  aspectRatio\n  src\n  srcSet\n  sizes\n}\n\nfragment GatsbyImageSharpFixed_tracedSVG on ImageSharpFixed {\n  tracedSVG\n  width\n  height\n  src\n  srcSet\n}\n"
}