{
  "path": "/packages/gatsby-plugin-combine/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "gatsby-plugin-combine",
        "description": "Complex Gatsby pages: helper node.js modules to orchestrate page construction",
        "keywords": [
          "gatsby",
          "gatsby-plugin",
          "build pages",
          "combine"
        ],
        "lastPublisher": {
          "name": "act-labs",
          "avatar": "https://gravatar.com/avatar/ab2da063619c469456ec042300e97f13"
        },
        "repository": {
          "url": "https://github.com/act-labs/gatsby-plugin-combine"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<h1 id=\"gatsby-plugin-combine\"><a href=\"#gatsby-plugin-combine\" aria-label=\"gatsby plugin combine permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-plugin-combine</h1>\n<p>This is a Gatsby plugin to help build complex pages, when one normally had to resort directly to the Gatsby API. Instead, helper node.js modules could be used to define and later combine multiple page elements, to produce pages of practically any complexity. Each page element has its own GraphQL query and a data processing function. A simple API is provided to save/log data and generate pages using lodash templates. This plugin shields from the need to repetitively write the same code which hooks into Gatsby <em>createPages</em>, selects pages in subdirectories, queries sibling and child pages, saves data, generates pages, etc. The focus is also on a progressive and smooth page enhancements. Start really simple: only a few configuration options are needed to select GraphQL nodes, extract their information, and pass it to standard React page component. Later, when needed, one may advance to helper node.js modules, allowing multiple GraphQL queries, data logging, lodash templates and multiple pages per GraphQL node. Check <a href=\"https://act-labs.github.io/posts/act-blog/\">ACT blog starter</a> for more information/examples.</p>\n<h2 id=\"the-page-construction-process\"><a href=\"#the-page-construction-process\" aria-label=\"the page construction process permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The page construction process</h2>\n<p>Lets consider a common page construction process, for which <em>gatsby-plugin-combine</em> provides a tooling. A complex page typically consists of many distinct elements. Typically, pages are constructed from files. It is often convenient to organize relevant files hierarchically, in multiple subdirectories. Typically, a page is constructed from one root file (or technically from a corresponding GraphQL node), containing the main page content, and possibly from multiple additional files located in the same directory/subdirectories. </p>\n<p>This plugin assumes that all files are sourced to GraphQL nodes, and all nodes contain a <em>slug</em> (URI) field, used to query siblings and children nodes. A slug could be added, for example, using <a href=\"https://github.com/act-labs/gatsby-plugin-relative\">gatsby-plugin-relative</a>). For convenience, slugs from the <em>/pages/</em> directory are mapped to root pages, i.e. a <em>/pages/page1/</em> slug will be mapped to <em>/page1/</em>.</p>\n<p>At the first step, GraphQL nodes below some root <em>path</em> are selected and processed. Such nodes are called root nodes, typically they correspond to one page (but there could be multiple or none). By default, an <em>allMdx</em> GraphQL query is used. To conveniently query multiple files, a root file may contain some reference information, but in the simplest case no explicit information is needed.</p>\n<p>In any case, for each root node, useful information is extracted into <em>nodeContext</em>. By default, it is an absolute file path, node id, slug, parent slug, and regular expression to select all sibling and child nodes. Using <em>nodeSubquery</em> and <em>attributes</em> plugin options, additional fields could be extracted (for example, <em>frontmatter</em> or some nested fields in the case of JSON files).</p>\n<p>For pages of low to medium complexity, the ability to extract <em>nodeContext</em> should be enough to create pages using standard Gatsby tools (React page components and GraphQL queries). For more complex pages, or when someone strives for better code separation/testability, it is possible to use helper node.js modules and hook into page construction process. A helper module exports an <em>entities</em> object containing instructions how to query and process data for each distinct page element.</p>\n<p>Finally, JS objects obtained for all entities are merged and the resulting JS object is used as a page context of the Gatsby <em>createPage</em> function. Or, alternatively, it could be further processed in a <em>combine</em> function. In the <em>combine</em> function an API to save data in files, generate pages using lodash templates, and create multiple pages is available.</p>\n<h2 id=\"install\"><a href=\"#install\" aria-label=\"install permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p><code class=\"language-text\">npm install --save gatsby-plugin-combine</code></p>\n<h2 id=\"configuration-options\"><a href=\"#configuration-options\" aria-label=\"configuration options permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration options</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In your gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-combine</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>    \n    options<span class=\"token punctuation\">:</span>  <span class=\"token punctuation\">{</span>\n        template<span class=\"token punctuation\">:</span> <span class=\"token string\">'./src/templates/snippets-layout.js'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// a path of a lodash template used for page generation</span>\n        component<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// mutually exclusive with the \"template\" option - a path of a page component (by default a root node file is used)</span>\n        helper<span class=\"token punctuation\">:</span> <span class=\"token string\">'./src/helpers/posts-helper.js'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// a helper module to orchestrate a page generation process</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"/snippets/\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// (required) a root path used to select nodes below this path (based on a slug)</span>\n        prefix<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// a prefix for the page URI, (e.g., \"test\" or \"mobile\" to get \"/test/slug/\" or \"/mobile/slug/\" instead of \"/slug/\")</span>\n        rootQuery<span class=\"token punctuation\">:</span> <span class=\"token string\">\"allMdx\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// a query to select root nodes (defaults to \"allMdx\" - markdown with JSX extensions)</span>\n        nodeSubquery<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n          frontmatter {\n              title,\n              keywords,\n              menu\n          }        \n        </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// a subquery to select additional GraphQL node attributes</span>\n        additional_context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>snippet<span class=\"token punctuation\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// an object merged into nodeContext</span>\n        attributes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"frontmatter.title\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span> <span class=\"token comment\">// an array of attributes extracted from GraphQL nodes and added to nodeContext (make attributes available using nodeSubquery). To extract nested attributes, dot notation is supported, e.g., \"frontmatter\" adds to nodeContext the whole \"frontmatter\" object while \"frontmatter.title\" - just a single \"title\" attribute</span>\n    <span class=\"token punctuation\">}</span>    \n  <span class=\"token punctuation\">}</span>   \n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"node-context\"><a href=\"#node-context\" aria-label=\"node context permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node context</h2>\n<p>The plugin by default creates pages for every GraphQL node below the specified root path. Nodes are of an arbitrary configurable type (yaml, json, markdown) and may contain arbitrary information. For each node, selected useful information is extracted to a plain JS object - <em>nodeContext</em>. During page construction, <em>nodeContext</em> could be used in lodash templates, directly in React page components and helper module functions, but its main function is to serve as a parameter in later GraphQL queries. By default, <em>nodeContext</em> contains an absolute file path, node id, slug, parent path, and regular expression to select all siblings and child nodes. Using <em>nodeSubquery</em> and <em>attributes</em> options we can extract additional fields, for example, a frontmatter object or some nested fields from JSON files.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// a pseudo-code definition of a default nodeContext object</span>\n\n<span class=\"token keyword\">const</span> nodeContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">,</span> <span class=\"token comment\">// a page node id, could be used to query the node later</span>\n    fileAbsolutePath<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// an absolute path of the underlying file</span>\n    slug<span class=\"token punctuation\">,</span> <span class=\"token comment\">// a slug (a page URI) - usually a relative file path</span>\n    parent<span class=\"token punctuation\">,</span> <span class=\"token comment\">// a parent path (a convenience field, calculated from the slug)</span>\n    parent_re<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/^</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>parent<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token comment\">// a regular expression to select sibling and child nodes (a convenience field, calculated from the parent)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"a-helper-module-api\"><a href=\"#a-helper-module-api\" aria-label=\"a helper module api permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A helper module API</h2>\n<p>A helper module orchestrates the page construction process, outlined above, facilitating additional data input and providing additional flexibility. It defines and returns entities - independent, self-sufficient units of data processing. Each entity can define a number of functions (<em>query</em>, <em>data</em>). A <em>combine</em> function could be also defined to process merged entity data. All these functions receive a JS object with useful information and an API. This object, later in code denoted by <em>api</em>, has the following fields:</p>\n<ol>\n<li><em>nodeContext</em> - information extracted from a root page GraphQL node.</li>\n<li><em>options</em> - plugin options from gatsby-config.js.</li>\n<li><em>gatsby</em> - a Gatsby API as received by the <em>createPages</em> function in gatsby-node.js.\nAlso the <em>api</em> object has a number of useful functions:</li>\n<li><em>writeData(name, content)</em> - writes <em>content</em> to the <em>data</em> directory (to a <code class=\"language-text\">path.join(&quot;./data&quot;, slug, name)</code> file). If the <em>content</em> parameter is a JS object, it is stringified using standard <code class=\"language-text\">JSON.stringify(content)</code>. The function returns an absolute path to the file written.</li>\n<li><em>generatePage(context)</em> - generates a page from a compiled lodash template. A plugin configuration contains a path to the template file (<code class=\"language-text\">options.template</code>). The <em>context</em> parameter is merged with <em>nodeContext</em> and passed to the template. The generated page is saved in the <code class=\"language-text\">./src/generated/</code> directory (a full file path is <code class=\"language-text\">path.join(&quot;./src/generated/&quot;, slug + &quot;.js&quot;)</code>). The file generated is used later as a <em>component</em> parameter to the Gatsby <em>createPage</em> call. </li>\n<li><em>createPage(context, {id})</em> - a simple wrapper around the Gatsby <em>createPage</em> API function. Under the hood, the Gatsby <em>createPage</em> function is called with a <em>component</em> parameter equal to the path of the generated page (or <code class=\"language-text\">options.component</code>, or the path of the root node file). The page context is the <em>context</em> parameter (if omitted, <em>nodeContext</em> is used instead). The page path is a prefix plus a slug (<code class=\"language-text\">path.join(options.prefix, slug)</code>). Multiple pages could be created using the optional <em>id</em> parameter, which, if not zero, is appended to the resulting page URI (<code class=\"language-text\">path.join(options.prefix, slug, id)</code>).</li>\n</ol>\n<h2 id=\"helper-nodejs-module\"><a href=\"#helper-nodejs-module\" aria-label=\"helper nodejs module permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Helper node.js module</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// example-helper.js</span>\n\n<span class=\"token comment\">// pseudo code, which defines an API object similar to the one passed to the helper functions below</span>\n<span class=\"token keyword\">const</span> api <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    nodeContext<span class=\"token punctuation\">,</span> <span class=\"token comment\">// fields extracted from a page root node</span>\n    options<span class=\"token punctuation\">,</span> <span class=\"token comment\">// options passed to the plugin (in gatsby-config.js)</span>\n    gatsby<span class=\"token punctuation\">,</span> <span class=\"token comment\">// the API received by the \"createPages\" function in gatsby-node.js</span>\n\n    <span class=\"token comment\">// writes the content to a file (a file name is path.join(\"./data\", slug, name))</span>\n    <span class=\"token function\">writeData</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> content</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> string<span class=\"token punctuation\">,</span> \n\n    <span class=\"token comment\">// generates a page from a lodash template, the \"context\" parameter is merged with \"nodeContext\" and is passed to the template</span>\n    <span class=\"token function\">generatePage</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">// creates a page using the context parameter or nodeContext as a page context</span>\n    <span class=\"token comment\">// the optional id is appended to to the page URI (could be useful if multiple pages are generated)</span>\n    <span class=\"token function\">createPage</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">context<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">?</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">,</span>    \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// returns a query to use for the \"content\" entity</span>\n<span class=\"token comment\">// the query may contain parameters from nodeContext, e.g., $id, $parent_re, etc</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">api</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    query PageLayoutQuery($id: String) {\n        mdx(id: { eq: $id }) {\n            frontmatter {\n                title,\n                keywords,\n                menu\n            }    \n        }  \n    }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// an asynchronous function to preprocess query results (the first function parameter).</span>\n<span class=\"token comment\">// the object returned is merged with objects from other entities and further processed in the \"combine\" function</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context<span class=\"token punctuation\">,</span> api</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> frontmatter <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span>mdx<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...................</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>frontmatter<span class=\"token punctuation\">,</span> layout<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>   \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// an asynchronous function to further process merged entities (the \"context\" parameter)</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">combine</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context<span class=\"token punctuation\">,</span> api</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> layout <span class=\"token operator\">=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">writeData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"../layout.json\"</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">)</span>\n    api<span class=\"token punctuation\">.</span><span class=\"token function\">generatePage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>layout<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    api<span class=\"token punctuation\">.</span><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n<span class=\"token punctuation\">}</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    entities <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// an object, describing distinct page parts (here just a single \"content\" entity)</span>\n        content<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">// the \"content\" of the page, an entity which groups query/data processing functionality</span>\n            scope<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// \"parent\" | null; some page elements could be shared by many pages, e.g., a sidebar could be shared by all siblings, there is a single object per parent directory, hence the \"parent\" scope should be used</span>\n            query<span class=\"token punctuation\">,</span> <span class=\"token comment\">// a function returning a GraphQL query</span>\n            data   <span class=\"token comment\">// a function to asynchronously process query results</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    combine <span class=\"token comment\">// asynchronously processes all page entities</span>\n<span class=\"token punctuation\">}</span></code></pre></div>",
            "timeToRead": 7
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/gatsby-plugin-combine/",
      "id": "826f721b-3511-5878-990b-2948d658a928",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}