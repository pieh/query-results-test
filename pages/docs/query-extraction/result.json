{
  "path": "/docs/query-extraction/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Query Extraction\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", {\n    \"id\": \"extracting-queries-from-files\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#extracting-queries-from-files\",\n    \"aria-label\": \"extracting queries from files permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Extracting Queries from Files\"), mdx(\"p\", null, \"Up until now, we have \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/node-creation/\"\n  }), \"sourced all nodes\"), \" into redux, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/schema-generation/\"\n  }), \"inferred a schema\"), \" from them, and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/page-creation/\"\n  }), \"created all pages\"), \". The next step is to extract and compile all graphql queries from our source files. The entrypoint to this phase is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-watcher.js\"\n  }), \"query-watcher extractQueries()\"), \", which immediately compiles all graphql queries by calling into \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-compiler.js\"\n  }), \"query-compiler.js\"), \".\"), mdx(\"h4\", {\n    \"id\": \"query-compilation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#query-compilation\",\n    \"aria-label\": \"query compilation permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Query Compilation\"), mdx(\"p\", null, \"The first thing it does is use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://babeljs.io/docs/en/next/babel-traverse.html\"\n  }), \"babylon-traverse\"), \" to load all JavaScript files in the site that have graphql queries in them. This produces AST results that are passed to the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://facebook.github.io/relay/docs/en/compiler-architecture.html\"\n  }), \"relay-compiler\"), \". This accomplishes a couple of things:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"It informs us of any malformed queries, which are promptly reported back to the user.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"It builds a tree of queries and fragments they depend on. And outputs a single optimized query string with the fragments.\")), mdx(\"p\", null, \"After this step, we will have a map of file paths (of site files with queries in them) to Query Objects, which contain the raw optimized query text, as well as other metadata such as the component path and page \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jsonName\"), \". The following diagram shows the flow involved during query compilation\"), mdx(\"svg\", {\n    \"width\": \"467pt\",\n    \"height\": \"772pt\",\n    \"viewBox\": \"0.00 0.00 467.46 771.83\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\",\n    \"style\": {\n      \"maxWidth\": \"100%\",\n      \"height\": \"auto\"\n    }\n  }, mdx(\"g\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"id\": \"graph0\",\n    \"className\": \"graph\",\n    \"transform\": \"scale(1 1) rotate(0) translate(4 767.8313)\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"%0\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#ffffff\",\n    \"stroke\": \"transparent\",\n    \"points\": \"-4,4 -4,-767.8313 463.4629,-767.8313 463.4629,4 -4,4\"\n  })), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust1\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_compiler\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"101.8952,-8 101.8952,-605.4313 349.8952,-605.4313 349.8952,-8 101.8952,-8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-588.8313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-compiler.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node1\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"fragments\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M318.8784,-758.7134C318.8784,-761.5927 277.2019,-763.9316 225.8952,-763.9316 174.5885,-763.9316 132.912,-761.5927 132.912,-758.7134 132.912,-758.7134 132.912,-711.7492 132.912,-711.7492 132.912,-708.8698 174.5885,-706.5309 225.8952,-706.5309 277.2019,-706.5309 318.8784,-708.8698 318.8784,-711.7492 318.8784,-711.7492 318.8784,-758.7134 318.8784,-758.7134\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M318.8784,-758.7134C318.8784,-755.834 277.2019,-753.4951 225.8952,-753.4951 174.5885,-753.4951 132.912,-755.834 132.912,-758.7134\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"141.1539\",\n    \"y\": \"-739.4313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"fragments. e.g\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-722.6313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \".cache/fragments/fragment1.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node2\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"srcFiles\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M133.6858,-665.5134C133.6858,-668.3927 103.7492,-670.7316 66.8952,-670.7316 30.0412,-670.7316 .1046,-668.3927 .1046,-665.5134 .1046,-665.5134 .1046,-618.5492 .1046,-618.5492 .1046,-615.6698 30.0412,-613.3309 66.8952,-613.3309 103.7492,-613.3309 133.6858,-615.6698 133.6858,-618.5492 133.6858,-618.5492 133.6858,-665.5134 133.6858,-665.5134\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M133.6858,-665.5134C133.6858,-662.634 103.7492,-660.2951 66.8952,-660.2951 30.0412,-660.2951 .1046,-662.634 .1046,-665.5134\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"8\",\n    \"y\": \"-646.2313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"source files. e.g\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"66.8952\",\n    \"y\": \"-629.4313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"src/pages/my-page.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node3\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"components\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M300.0805,-665.5134C300.0805,-668.3927 266.8295,-670.7316 225.8952,-670.7316 184.9609,-670.7316 151.7099,-668.3927 151.7099,-665.5134 151.7099,-665.5134 151.7099,-618.5492 151.7099,-618.5492 151.7099,-615.6698 184.9609,-613.3309 225.8952,-613.3309 266.8295,-613.3309 300.0805,-615.6698 300.0805,-618.5492 300.0805,-618.5492 300.0805,-665.5134 300.0805,-665.5134\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M300.0805,-665.5134C300.0805,-662.634 266.8295,-660.2951 225.8952,-660.2951 184.9609,-660.2951 151.7099,-662.634 151.7099,-665.5134\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"159.8026\",\n    \"y\": \"-646.2313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"redux.state.components\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-629.4313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"(via createPage)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node5\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"fileQueries\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"299.0227,-572.6313 152.7677,-572.6313 152.7677,-536.6313 299.0227,-536.6313 299.0227,-572.6313\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-550.4313\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"files containing queries\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge6\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"fragments->fileQueries\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M277.5306,-706.6022C290.0971,-696.9355 301.918,-684.9032 308.8952,-670.6313 320.0607,-647.7923 320.5718,-636.0133 308.8952,-613.4313 301.4432,-599.0195 288.6496,-587.3786 275.3084,-578.3761\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"276.8401,-575.2046 266.5129,-572.8385 273.1106,-581.1283 276.8401,-575.2046\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge7\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"srcFiles->fileQueries\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M117.2038,-614.3774C138.7605,-602.528 163.6424,-588.8507 184.1555,-577.575\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"185.873,-580.6249 192.9503,-572.7406 182.501,-574.4906 185.873,-580.6249\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge8\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"components->fileQueries\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M225.8952,-613.4133C225.8952,-603.6151 225.8952,-592.664 225.8952,-582.894\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"229.3953,-582.8667 225.8952,-572.8667 222.3953,-582.8668 229.3953,-582.8667\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node4\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"schema\"), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"a_node4\"\n  }), mdx(\"a\", _extends({\n    parentName: \"g\"\n  }, {\n    \"href\": \"/docs/schema-generation/\",\n    \"title\": \"Gatsby schema\"\n  }), mdx(\"path\", _extends({\n    parentName: \"a\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M459.5307,-402.5273C459.5307,-404.3331 436.8351,-405.8 408.8952,-405.8 380.9553,-405.8 358.2597,-404.3331 358.2597,-402.5273 358.2597,-402.5273 358.2597,-373.0727 358.2597,-373.0727 358.2597,-371.2669 380.9553,-369.8 408.8952,-369.8 436.8351,-369.8 459.5307,-371.2669 459.5307,-373.0727 459.5307,-373.0727 459.5307,-402.5273 459.5307,-402.5273\"\n  })), mdx(\"path\", _extends({\n    parentName: \"a\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M459.5307,-402.5273C459.5307,-400.7214 436.8351,-399.2545 408.8952,-399.2545 380.9553,-399.2545 358.2597,-400.7214 358.2597,-402.5273\"\n  })), mdx(\"text\", _extends({\n    parentName: \"a\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"408.8952\",\n    \"y\": \"-383.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"Gatsby schema\")))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node8\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"relayCompiler\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"225.8952\",\n    \"cy\": \"-315.8\",\n    \"rx\": \"72.4094\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-311.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"Relay Compiler\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge9\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"schema->relayCompiler\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M365.5268,-370.737C337.9884,-359.9022 302.3186,-345.8682 273.9245,-334.6968\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"275.1836,-331.431 264.5964,-331.0267 272.6206,-337.945 275.1836,-331.431\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node6\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"babylon\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"225.8952\",\n    \"cy\": \"-471.2156\",\n    \"rx\": \"106.3139\",\n    \"ry\": \"29.3315\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"158.831\",\n    \"y\": \"-475.4156\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"parse files with babylon\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-458.6156\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"filter those with queries\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge1\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"fileQueries->babylon\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M225.8952,-536.5313C225.8952,-528.9418 225.8952,-519.7972 225.8952,-510.786\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"229.3953,-510.7587 225.8952,-500.7588 222.3953,-510.7588 229.3953,-510.7587\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node7\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryAst\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"267.2635,-405.8 184.5269,-405.8 184.5269,-369.8 267.2635,-369.8 267.2635,-405.8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-383.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"QueryASTs\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge2\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"babylon->queryAst\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M225.8952,-441.5715C225.8952,-433.3664 225.8952,-424.4796 225.8952,-416.3388\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"229.3953,-416.1865 225.8952,-406.1866 222.3953,-416.1866 229.3953,-416.1865\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge3\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queryAst->relayCompiler\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M225.8952,-369.6314C225.8952,-361.931 225.8952,-352.7743 225.8952,-344.2166\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"229.3953,-344.2132 225.8952,-334.2133 222.3953,-344.2133 229.3953,-344.2132\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node9\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queries\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"157.1855,-211.7 157.1855,-261.3 264.6049,-261.3 264.6049,-211.7 157.1855,-211.7\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"210.8952\",\n    \"y\": \"-244.7\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"Queries\"), mdx(\"polyline\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"157.1855,-236.5 264.6049,-236.5 \"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"186.9576\",\n    \"y\": \"-219.9\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"filePath\"), mdx(\"polyline\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"216.7297,-211.7 216.7297,-236.5 \"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"240.6673\",\n    \"y\": \"-219.9\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge4\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"relayCompiler->queries\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M222.4915,-297.8056C221.0093,-289.97 219.2193,-280.5068 217.4939,-271.3849\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"220.8908,-270.5113 215.5931,-261.3361 214.0127,-271.8124 220.8908,-270.5113\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node10\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"341.4016,-175.3001 110.3888,-175.3001 110.3888,-15.8999 341.4016,-15.8999 341.4016,-175.3001\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-158.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"{\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-141.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0name: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-125\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0text: rawQueryText,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-108.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0originalText: original text from file,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-91.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0path: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-74.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0isStaticQuery: if it is,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-57.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0hash: hash of query\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"118.392\",\n    \"y\": \"-41\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"}\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"225.8952\",\n    \"y\": \"-24.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge5\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queries:query->query\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M240.8952,-211.5C240.8952,-202.9499 240.4887,-194.0742 239.8096,-185.2117\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"243.2946,-184.8853 238.9342,-175.2294 236.3213,-185.4969 243.2946,-184.8853\"\n  }))))), mdx(\"h4\", {\n    \"id\": \"store-queries-in-redux\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#store-queries-in-redux\",\n    \"aria-label\": \"store queries in redux permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Store Queries in Redux\"), mdx(\"p\", null, \"We\\u2019re now in the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-watcher.js#L68\"\n  }), \"handleQuery\"), \" function.\"), mdx(\"p\", null, \"If the query is a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"StaticQuery\"), \", we call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"replaceStaticQuery\"), \" action to save it to to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"staticQueryComponents\"), \" namespace which is a mapping from a component\\u2019s path to an object that contains the raw GraphQL Query amongst other things. More details in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/static-vs-normal-queries/\"\n  }), \"Static Queries\"), \". We also remove component\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jsonName\"), \" from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" Redux namespace. See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/page-node-dependencies/\"\n  }), \"Page -> Node Dependencies\"), \".\"), mdx(\"p\", null, \"If the query is just a normal every day query (not StaticQuery), then we update its component\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query\"), \" in the redux \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"components\"), \" namespace via the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/redux/actions.js#L827\"\n  }), \"replaceComponentQuery\"), \" action.\"), mdx(\"svg\", {\n    \"width\": \"470pt\",\n    \"height\": \"570pt\",\n    \"viewBox\": \"0.00 0.00 470.00 569.60\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\",\n    \"style\": {\n      \"maxWidth\": \"100%\",\n      \"height\": \"auto\"\n    }\n  }, mdx(\"g\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"id\": \"graph0\",\n    \"className\": \"graph\",\n    \"transform\": \"scale(1 1) rotate(0) translate(4 565.6)\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"%0\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#ffffff\",\n    \"stroke\": \"transparent\",\n    \"points\": \"-4,4 -4,-565.6 466,-565.6 466,4 -4,4\"\n  })), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust1\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_watcher\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"8,-8 8,-482.8 454,-482.8 454,-8 8,-8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"231\",\n    \"y\": \"-466.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-watcher.js:handleQuery()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node1\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"compiler\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"232\",\n    \"cy\": \"-543.6\",\n    \"rx\": \"79.3328\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"232\",\n    \"y\": \"-539.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-compiler.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node2\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"347.5064,-450.1001 116.4936,-450.1001 116.4936,-290.6999 347.5064,-290.6999 347.5064,-450.1001\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-433.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"{\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-416.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0name: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-399.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0text: rawQueryText,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-383\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0originalText: original text from file,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-366.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0path: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-349.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0isStaticQuery: if it is,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-332.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0hash: hash of query\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"124.4968\",\n    \"y\": \"-315.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"}\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"232\",\n    \"y\": \"-299\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge5\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"compiler->query\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M232,-525.3919C232,-516.6876 232,-505.4523 232,-493.0105\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"235.5001,-492.799 232,-482.799 228.5001,-492.7991 235.5001,-492.799\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"300.2206\",\n    \"y\": \"-495\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"for each compiled query\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node3\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"replaceStaticQuery\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"107\",\n    \"cy\": \"-182\",\n    \"rx\": \"91.4249\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"107\",\n    \"y\": \"-177.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"replaceStaticQuery()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge1\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query->replaceStaticQuery\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M179.1699,-290.7745C159.6969,-261.4247 138.9403,-230.1405 124.7101,-208.6927\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"127.479,-206.5351 119.0338,-200.1374 121.646,-210.4052 127.479,-206.5351\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"192.486\",\n    \"y\": \"-241.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"if static query\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node5\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"replaceComponentQuery\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"331\",\n    \"cy\": \"-182\",\n    \"rx\": \"114.5696\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"331\",\n    \"y\": \"-177.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"replaceComponentQuery()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge2\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query->replaceComponentQuery\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M273.8414,-290.7745C289.1264,-261.6868 305.4098,-230.699 316.6704,-209.2696\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"319.9158,-210.6177 321.4692,-200.1374 313.7192,-207.3615 319.9158,-210.6177\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"332.4937\",\n    \"y\": \"-241.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"if not static\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node4\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"staticQueryComponents\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M182.8047,-68.0821C182.8047,-70.9614 148.8278,-73.3004 107,-73.3004 65.1722,-73.3004 31.1953,-70.9614 31.1953,-68.0821 31.1953,-68.0821 31.1953,-21.1179 31.1953,-21.1179 31.1953,-18.2386 65.1722,-15.8996 107,-15.8996 148.8278,-15.8996 182.8047,-18.2386 182.8047,-21.1179 182.8047,-21.1179 182.8047,-68.0821 182.8047,-68.0821\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M182.8047,-68.0821C182.8047,-65.2028 148.8278,-62.8639 107,-62.8639 65.1722,-62.8639 31.1953,-65.2028 31.1953,-68.0821\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"39.3478\",\n    \"y\": \"-48.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"staticQueryComponents\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"107\",\n    \"y\": \"-32\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" (redux)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge3\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"replaceStaticQuery->staticQueryComponents\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M107,-163.7543C107,-143.3255 107,-109.6308 107,-83.2754\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"110.5001,-83.216 107,-73.2161 103.5001,-83.2161 110.5001,-83.216\"\n  }))), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node6\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"components\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M372.6557,-68.0821C372.6557,-70.9614 353.985,-73.3004 331,-73.3004 308.015,-73.3004 289.3443,-70.9614 289.3443,-68.0821 289.3443,-68.0821 289.3443,-21.1179 289.3443,-21.1179 289.3443,-18.2386 308.015,-15.8996 331,-15.8996 353.985,-15.8996 372.6557,-18.2386 372.6557,-21.1179 372.6557,-21.1179 372.6557,-68.0821 372.6557,-68.0821\"\n  })), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M372.6557,-68.0821C372.6557,-65.2028 353.985,-62.8639 331,-62.8639 308.015,-62.8639 289.3443,-65.2028 289.3443,-68.0821\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"297.1725\",\n    \"y\": \"-48.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"components\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"331\",\n    \"y\": \"-32\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" (redux)\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge4\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"replaceComponentQuery->components\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M331,-163.7543C331,-143.3255 331,-109.6308 331,-83.2754\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"334.5001,-83.216 331,-73.2161 327.5001,-83.2161 334.5001,-83.216\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"386.1992\",\n    \"y\": \"-114.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"set `query` attribute\")))), mdx(\"h4\", {\n    \"id\": \"queue-for-execution\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#queue-for-execution\",\n    \"aria-label\": \"queue for execution permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Queue for execution\"), mdx(\"p\", null, \"Now that we\\u2019ve saved our query, we\\u2019re ready to queue it for execution. Query execution is mainly handled by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/page-query-runner.js\"\n  }), \"page-query-runner.js\"), \", so we accomplish this by passing the component\\u2019s path to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"queueQueryForPathname\"), \" function.\"), mdx(\"svg\", {\n    \"width\": \"276pt\",\n    \"height\": \"406pt\",\n    \"viewBox\": \"0.00 0.00 276.44 406.40\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"xlink\": \"http://www.w3.org/1999/xlink\",\n    \"style\": {\n      \"maxWidth\": \"100%\",\n      \"height\": \"auto\"\n    }\n  }, mdx(\"g\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"id\": \"graph0\",\n    \"className\": \"graph\",\n    \"transform\": \"scale(1 1) rotate(0) translate(4 402.4)\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"%0\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#ffffff\",\n    \"stroke\": \"transparent\",\n    \"points\": \"-4,4 -4,-402.4 272.4412,-402.4 272.4412,4 -4,4\"\n  })), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust1\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_watcher\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"8,-119.6 8,-319.6 256,-319.6 256,-119.6 8,-119.6\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"132\",\n    \"y\": \"-303\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-watcher.js:handleQuery()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"clust2\",\n    \"className\": \"cluster\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"cluster_pageQueryRunner\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"8,-8 8,-84.8 256,-84.8 256,-8 8,-8\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"132\",\n    \"y\": \"-68.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"page-query-runner.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node1\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"compiler\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"132\",\n    \"cy\": \"-380.4\",\n    \"rx\": \"79.3328\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"132\",\n    \"y\": \"-376.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"query-compiler.js\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node2\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query\"), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"points\": \"247.5064,-286.9001 16.4936,-286.9001 16.4936,-127.4999 247.5064,-127.4999 247.5064,-286.9001\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-270.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"{\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-253.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0name: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-236.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0text: rawQueryText,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-219.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0originalText: original text from file,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-203\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0path: filePath,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-186.2\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0isStaticQuery: if it is,\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-169.4\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \\xA0\\xA0\\xA0hash: hash of query\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"start\",\n    \"x\": \"24.4968\",\n    \"y\": \"-152.6\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"}\"), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"132\",\n    \"y\": \"-135.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \" \")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge1\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"compiler->query\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M132,-362.1919C132,-353.4876 132,-342.2523 132,-329.8105\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"135.5001,-329.599 132,-319.599 128.5001,-329.5991 135.5001,-329.599\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"200.2206\",\n    \"y\": \"-331.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"for each compiled query\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"node3\",\n    \"className\": \"node\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"queueQueryForPathname\"), mdx(\"ellipse\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"cx\": \"132\",\n    \"cy\": \"-34\",\n    \"rx\": \"116.2952\",\n    \"ry\": \"18\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"132\",\n    \"y\": \"-29.8\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"queueQueryForPathname()\")), mdx(\"g\", _extends({\n    parentName: \"g\"\n  }, {\n    \"id\": \"edge2\",\n    \"className\": \"edge\"\n  }), mdx(\"title\", {\n    parentName: \"g\"\n  }, \"query->queueQueryForPathname\"), mdx(\"path\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"none\",\n    \"stroke\": \"#000000\",\n    \"d\": \"M132,-127.4438C132,-104.2106 132,-80.3162 132,-62.5059\"\n  })), mdx(\"polygon\", _extends({\n    parentName: \"g\"\n  }, {\n    \"fill\": \"#000000\",\n    \"stroke\": \"#000000\",\n    \"points\": \"135.5001,-62.2629 132,-52.2629 128.5001,-62.2629 135.5001,-62.2629\"\n  })), mdx(\"text\", _extends({\n    parentName: \"g\"\n  }, {\n    \"textAnchor\": \"middle\",\n    \"x\": \"187.5877\",\n    \"y\": \"-97\",\n    \"fontFamily\": \"Times,serif\",\n    \"fontSize\": \"14.00\",\n    \"fill\": \"#000000\"\n  }), \"queue for execution\")))), mdx(\"p\", null, \"Now let\\u2019s learn about \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/query-execution/\"\n  }), \"Query Execution\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Extracting Queries from Files Up until now, we have  sourced all nodes  into redux,  inferred a schema  from them, and  created all pages",
        "timeToRead": 1,
        "tableOfContents": {
          "items": [
            {
              "url": "#extracting-queries-from-files",
              "title": "Extracting Queries from Files",
              "items": [
                {
                  "url": "#query-compilation",
                  "title": "Query Compilation"
                },
                {
                  "url": "#store-queries-in-redux",
                  "title": "Store Queries in Redux"
                },
                {
                  "url": "#queue-for-execution",
                  "title": "Queue for execution"
                }
              ]
            }
          ]
        },
        "fields": {
          "slug": "/docs/query-extraction/",
          "anchor": "query-extraction"
        },
        "frontmatter": {
          "title": "Query Extraction",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/query-extraction.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/query-extraction/",
      "prev": {
        "title": "Queries",
        "link": "/docs/query-behind-the-scenes/"
      },
      "next": {
        "title": "Query Execution",
        "link": "/docs/query-execution/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}