{
  "path": "/blog/2019-06-12-performance-improvements-for-large-sites/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Performance improvements for large sites\",\n  \"date\": \"2019-06-12T00:00:00.000Z\",\n  \"author\": \"Anthony Marcar\",\n  \"tags\": [\"performance\", \"large-sites\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Gatsby has always been, and will always be, focused on performance. All of the best practices and patterns relating to performance are internalized and we enable these performance optimizations \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"by default\"), \" for every Gatsby application. However, there is always more we can do and we are always striving to make incremental improvements that impact \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"every\"), \" Gatsby user. From this basis, we\\u2019re happy to announce a new performance improvement: splitting the page manifest into individual files for each page. Prior to this change, for large Gatsby applications (e.g. more than 5,000 pages), the page manifest could grow to 200Kb or more, and loading this manifest could take several seconds on 3g connections, which is certainly non-ideal!\"), mdx(\"p\", null, \"Over the past few months, I\\u2019ve been gradually changing Gatsby\\u2019s architecture so that the size of the site has absolutely no impact on real-world performance. This change \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/14359#event-2402986461\"\n  }), \"has been merged\"), \" and is available, for free, in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/gatsby/v/2.9.0\"\n  }), \"Gatsby v2.9.0\"), \". From this point forward, your application manifest will no longer grow proportionally to the number of pages in your Gatsby application.\"), mdx(\"p\", null, \"In this post, I\\u2019ll dive deep into the technical intricacies of what was actually causing this slow down and how we fixed the growing page manifest problem.\"), mdx(\"h2\", {\n    \"id\": \"symptoms\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#symptoms\",\n    \"aria-label\": \"symptoms permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Symptoms\"), mdx(\"p\", null, \"There were two main symptoms experienced by users of large Gatsby sites.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"After navigating to a Gatsby site, it took a while for all the JavaScript to load so that it was \\u201Cinteractive\\u201D. Therefore, clicks immediately after loading the page could take many seconds to actually navigate.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Even after the initial load, clicking links could be somewhat laggy even though the target\\u2019s resources had already been pre-fetched.\")), mdx(\"h2\", {\n    \"id\": \"the-problem-global-pages-manifest\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-problem-global-pages-manifest\",\n    \"aria-label\": \"the problem global pages manifest permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The Problem: Global pages manifest\"), mdx(\"p\", null, \"The central problem was that Gatsby generates a file for each build called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages-manifest.json\"), \" (also called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"data.json\"), \") that must be loaded by the browser before users can navigate to other pages. It contains metadata about every page on the site, including:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"componentChunkName\"), \": The logical name of the React component for the page\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"dataPath\"), \": The path to the file that contains the page\\u2019s graphql query result, and any other page context.\")), mdx(\"p\", null, \"When a user clicks a link to another page, Gatsby first looks up the manifest for the page\\u2019s component and query result file. Gatsby then downloads them (if they haven\\u2019t already been prefetched), and then passes the loaded query results to the page\\u2019s component and renders it. Since \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pages-manifest\"), \" contains the list of all pages on the site, Gatsby can also immediately show a 404 if necessary if the page is not able to be located.\"), mdx(\"p\", null, \"This works great for small sites, but as a Gatsby application grows, so too does the size of the page manifest. The bigger the manifest gets the more data the browser has to download before any UI navigation can occur leading to slowdowns in important metrics like Time to Interactive (TTI).\"), mdx(\"p\", null, \"Even after the manifest had been loaded, the manifest had to be searched for the matching path. This was necessary since pages can be declared with a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/docs/gatsby-internals-terminology/#matchpath\"\n  }), \"matchPath\"), \" (a Regular Expression used to match client-only paths). Huge manifest files resulted in perceptable lag when clicking links too!\"), mdx(\"h2\", {\n    \"id\": \"solution-eliminate-the-monolithic-pages-manifest\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#solution-eliminate-the-monolithic-pages-manifest\",\n    \"aria-label\": \"solution eliminate the monolithic pages manifest permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Solution: Eliminate the monolithic pages manifest!\"), mdx(\"p\", null, \"The solution seems abundantly obvious at this point. We needed to introduce a manifest file per page, instead of a global pages-manifest. We called this \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page-data.json\"), \". It includes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"componentChunkName\"), \": The logical name of the React component for the page\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"result\"), \": The full graphql query result and page context\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"webpackCompilationHash\"), \": Unique hash output by webpack any time user\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"src\"), \" code content changes\")), mdx(\"p\", null, \"This is very similar to each entry in the pages manifest. The major difference being that the graphql query result is inlined instead of being contained in a separate file.\"), mdx(\"p\", null, \"Now, when a page navigation occurs, Gatsby makes a request directly to the server for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page-data.json\"), \", instead of checking the global manifest (which doesn\\u2019t exist anymore).\"), mdx(\"p\", null, \"Below is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.webpagetest.org/\"\n  }), \"webpagetest.org\"), \" comparison of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/\"\n  }), \"gatsbyjs.org\"), \" (which has about 2,500 pages) \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.webpagetest.org/result/190530_4Y_26c37e9fa44cdeef1617d2861ee6927e/\"\n  }), \"before\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.webpagetest.org/result/190530_7J_5f0c238b0658ed9de9aa7ed30b5538e6/\"\n  }), \"after\"), \" the change. As you can see, the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"First Interactive\"), \" has been reduced by 432% (5.011 seconds saved), and almost all other metrics have improved as well.\"), mdx(\"figure\", null, \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"figure\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"786px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/a7a94/comparison.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"17.845303867403313%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAw0lEQVQY0z1Qx6qFUBDz/7/HnTvLRizYXQsqVuwVzCUD7x0YkslkAnOUfd/R9z2GYZAiZ3Vdh7ZtUde1cGJZlnBdF6ZpSum6jiAIEMcxDMOAZVlQiqIQk+/7iKIIjuPAtm1ZIGqahjzPoaqqBIRhiDRNkWWZ7HmeJ4HUkiSBMk0T1nXFPM84jgPLsuA8T2zbhvu+BfnoIW+aRuac8YKqqmTveR6M4wiFQwo8nSbidV2i/QV+3/fv4bdQf99XOEOZwZ6BP5D3JmrDJXaJAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Webpagetest.org performance comparison\",\n    \"title\": \"Webpagetest.org performance comparison\",\n    \"src\": \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/73d01/comparison.png\",\n    \"srcSet\": [\"/static/bd7d414f16473cdd3c09fbbe908e8fc2/a3b1f/comparison.png 197w\", \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/07137/comparison.png 393w\", \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/73d01/comparison.png 786w\", \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/a5918/comparison.png 1179w\", \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/03181/comparison.png 1572w\", \"/static/bd7d414f16473cdd3c09fbbe908e8fc2/a7a94/comparison.png 1810w\"],\n    \"sizes\": \"(max-width: 786px) 100vw, 786px\",\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \"), \"\\n  \", mdx(\"figcaption\", {\n    parentName: \"figure\"\n  }, \"\\n    Webpagetest.org Comparison of Gatsbyjs.org before and after v2.9.0\\n  \")), mdx(\"h3\", {\n    \"id\": \"dont-we-have-to-wait-on-a-network-request-on-each-navigation-now\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#dont-we-have-to-wait-on-a-network-request-on-each-navigation-now\",\n    \"aria-label\": \"dont we have to wait on a network request on each navigation now permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Don\\u2019t we have to wait on a network request on each navigation now?\"), mdx(\"p\", null, \"Prefetching FTW! Gatsby already prefetches any links on the page so that when the browser needs them, they\\u2019re already in the cache. So when Gatsby makes a request for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page-data.json\"), \", it\\u2019s already in the browser (assuming the user has been on the page long enough for the prefetches to finish). You can read more about this prefetching behavior in this blog \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2019-04-02-behind-the-scenes-what-makes-gatsby-great/#gatsby-link-and-link-relprefetch\"\n  }), \"deep dive on Gatsby\\u2019s performance optimizations\"), \".\"), mdx(\"h2\", {\n    \"id\": \"other-benefits\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#other-benefits\",\n    \"aria-label\": \"other benefits permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Other benefits\"), mdx(\"h3\", {\n    \"id\": \"gatsby-sites-are-now-more-live\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#gatsby-sites-are-now-more-live\",\n    \"aria-label\": \"gatsby sites are now more live permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Gatsby sites are now more \\u201Clive\\u201D\"), mdx(\"p\", null, \"Previously in Gatsby, all resources are content-hashed (except the html files). This includes the pages-manifest. So once a Gatsby site is loaded in the browser, the user will only ever see the resources generated during that build. If they stay on the site for days, they\\u2019ll never see new content until they refresh.\"), mdx(\"p\", null, \"The new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page-data.json\"), \" resources are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" content-hashed. This means that if a user is on the site and a rebuild occurs resulting in changed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page-data.json\"), \", the user will then see that new information when they navigate to that page.\"), mdx(\"p\", null, \"However, this is only true if a page hasn\\u2019t already been prefetched. We have some ideas for periodically expiring prefetched data to ensure that new changes are visible to users. Stay tuned for more on this front!\"), mdx(\"h3\", {\n    \"id\": \"netlify-builds-faster\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#netlify-builds-faster\",\n    \"aria-label\": \"netlify builds faster permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Netlify builds faster\"), mdx(\"p\", null, \"The old graphql static query results were content-hashed. Which meant that any change to any data resulted in a change to the pages-manifest. Hosting sites such as Netlify look at the changed files and use that to figure out what files can be shared between builds. Since the pages-manifest depends on all query result files, which are all content-hashed, then any data change resulted in a change to the pages-manifest, which could be 10+ MB in size.\"), mdx(\"p\", null, \"With the latest changes, if you only make a change one page\\u2019s data, then Netlify will only have to copy that file when it rebuilds.\"), mdx(\"h3\", {\n    \"id\": \"first-step-towards-incremental-builds\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#first-step-towards-incremental-builds\",\n    \"aria-label\": \"first step towards incremental builds permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"First step towards incremental builds\"), mdx(\"p\", null, \"Gatsby has been talking about incremental builds \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2018-05-24-launching-new-gatsby-company/#rebuild-gatsby-on-a-stream-processing-architecture-to-eliminate-the-build-step\"\n  }), \"since day one\"), \". The pages-manifest was a global list of all pages that was tied to webpack. So any change to any page data resulted in a full webpack rebuild. This directly opens up the opportunity to deliver a feature like incremental builds, and we can\\u2019t wait to do just that.\"), mdx(\"h2\", {\n    \"id\": \"backwards-compatible\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#backwards-compatible\",\n    \"aria-label\": \"backwards compatible permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Backwards compatible\"), mdx(\"p\", null, \"To use these changes, simply update to the latest version of Gatsby. All changes are 100% backwards compatible. One of the key values of using Gatsby and keeping up-to-date is that we are regularly making these incremental improvements that you can deliver to your users just by upgrading your version of Gatsby. Upgrade to Gatsby v2.9.x today\\u2014and keep those Gatsby applications blazing fast \\uD83D\\uDD25!\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Gatsby has always been, and will always be, focused on performance. All of the best practices and patterns relating to performance are…",
        "timeToRead": 4,
        "fields": {
          "slug": "/blog/2019-06-12-performance-improvements-for-large-sites/",
          "publishedAt": null
        },
        "frontmatter": {
          "title": "Performance improvements for large sites",
          "excerpt": null,
          "date": "June 12th 2019",
          "rawDate": "2019-06-12T00:00:00.000Z",
          "canonicalLink": null,
          "tags": [
            "performance",
            "large-sites"
          ],
          "image": null,
          "imageAuthor": null,
          "imageAuthorLink": null,
          "imageTitle": null,
          "showImageInArticle": null,
          "author": {
            "id": "Anthony Marcar",
            "bio": "Distributed Systems consultant, Clojure enthusiast, bicycle tourer",
            "twitter": "@Moocar",
            "avatar": {
              "childImageSharp": {
                "fixed": {
                  "tracedSVG": "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%3e%3crect%20width='100%25'%20height='100%25'%20fill='%23f6f2f8'/%3e%3cpath%20d='M0%2016v16h33V0h-4c-4%200-4%200-3%202%204%204%205%208%203%2011%200%202-1%202-4%200-5-3-5-3-5%202%201%205-2%2012-6%2012-3%201-9-8-7-12%201-3%201-4-2-4-3%201-5-4-3-8%202-3%202-3%200-3S0%201%200%2016m0%201'%20fill='%23e0d6eb'%20fill-rule='evenodd'/%3e%3c/svg%3e",
                  "width": 64,
                  "height": 64,
                  "src": "/static/006658ffd1614662a3f8e76ee79499f9/88ae8/anthony-marcar.jpg",
                  "srcSet": "/static/006658ffd1614662a3f8e76ee79499f9/88ae8/anthony-marcar.jpg 1x,\n/static/006658ffd1614662a3f8e76ee79499f9/0740f/anthony-marcar.jpg 1.5x,\n/static/006658ffd1614662a3f8e76ee79499f9/c9264/anthony-marcar.jpg 2x"
                }
              }
            },
            "fields": {
              "slug": "/contributors/anthony-marcar/"
            }
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/blog/2019-06-12-performance-improvements-for-large-sites/",
      "prev": {
        "fields": {
          "slug": "/blog/2019-06-10-how-to-recognize-when-gatsby-is-a-good-fit-for-your-client/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "How To Recognize When Gatsby is a Good Fit for Your Client",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "migration",
            "wordpress"
          ]
        }
      },
      "next": {
        "fields": {
          "slug": "/blog/2019-06-17-site-showcase-validator/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Maintaining the Site Showcase with GitHub Actions and the Gatsby Site Showcase Validator",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": null
        }
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateBlogPostJs2991924798(\n  $slug: String!\n) {\n  mdx(fields: {slug: {eq: $slug}}) {\n    body\n    excerpt\n    timeToRead\n    fields {\n      slug\n      publishedAt\n    }\n    frontmatter {\n      title\n      excerpt\n      date(formatString: \"MMMM Do YYYY\")\n      rawDate: date\n      canonicalLink\n      tags\n      image {\n        childImageSharp {\n          resize(width: 1500, height: 1500) {\n            src\n          }\n          fluid(maxWidth: 786) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n      imageAuthor\n      imageAuthorLink\n      imageTitle\n      showImageInArticle\n      author {\n        id\n        bio\n        twitter\n        avatar {\n          childImageSharp {\n            fixed(width: 64, height: 64, quality: 75, traceSVG: {turdSize: 10, background: \"#f6f2f8\", color: \"#e0d6eb\"}) {\n              ...GatsbyImageSharpFixed_tracedSVG\n            }\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n\nfragment GatsbyImageSharpFluid on ImageSharpFluid {\n  base64\n  aspectRatio\n  src\n  srcSet\n  sizes\n}\n\nfragment GatsbyImageSharpFixed_tracedSVG on ImageSharpFixed {\n  tracedSVG\n  width\n  height\n  src\n  srcSet\n}\n"
}