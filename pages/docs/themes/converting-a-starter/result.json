{
  "path": "/docs/themes/converting-a-starter/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Converting a Starter to a Theme\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Gatsby themes are designed to be easy to create from an existing starter. Here we will walk you through the main steps of converting your starter to a theme.\"), mdx(\"h2\", {\n    \"id\": \"prepare-your-packagejson\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#prepare-your-packagejson\",\n    \"aria-label\": \"prepare your packagejson permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prepare Your \", mdx(\"inlineCode\", {\n    parentName: \"h2\"\n  }, \"package.json\")), mdx(\"p\", null, \"To start converting your starter to a library, get started by updating your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" to use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-theme-*\"), \" naming convention. If your starter is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-starter-awesome-blog\"), \" you can update the name key to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-theme-awesome-blog\"), \" (and double check that it\\u2019s available on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://npmjs.com\"\n  }), \"npm\"), \").\"), mdx(\"p\", null, \"Specify \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-dom\"), \" as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"devDependencies\"), \" . It\\u2019s preferable to add them as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"peerDependencies\"), \" as well. This is needed so that end users can determine which versions they want and npm/yarn will be able to resolve them properly.\"), mdx(\"p\", null, \"In addition to updating your dependencies you will need to create an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \" file in the root of your project. This is needed so that when Gatsby attempts to resolve the theme it can do so since Node automatically looks for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \".\"), mdx(\"h2\", {\n    \"id\": \"handling-path-resolution\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#handling-path-resolution\",\n    \"aria-label\": \"handling path resolution permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Handling Path Resolution\"), mdx(\"p\", null, \"One of the key differences between themes and starters is that a theme is no longer executed where the Gatsby CLI is being run since it\\u2019s now a dependency. This often results in errors sourcing content and finding templates since they will look in the end user\\u2019s directory.\"), mdx(\"p\", null, \"In order to fix this, consider the following code that works as a starter:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const createPosts = (createPage, createRedirect, edges) => {\\n  edges.forEach(({ node }, i) => {\\n    // ...\\n\\n    createPage({\\n      path: pagePath,\\n      component: path.resolve(`./src/templates/post.js`),\\n      context: {\\n        id: node.id,\\n        prev,\\n        next,\\n      },\\n    })\\n  })\\n}\\n\")), mdx(\"p\", null, \"Since \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"path.resolve\"), \" is being used we result in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/templates/post.js\"), \" rather than \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules/gatsby-theme-awesome-blog/src/templates/post.js\"), \". In order to fix this we can use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"require.resolve\"), \" which will look relative to the theme so the correct template is found.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const createPosts = (createPage, createRedirect, edges) => {\\n  edges.forEach(({ node }, i) => {\\n    // ...\\n\\n    createPage({\\n      path: pagePath,\\n      component: require.resolve(`./src/templates/post.js`), // highlight-line\\n      context: {\\n        id: node.id,\\n        prev,\\n        next,\\n      },\\n    })\\n  })\\n}\\n\")), mdx(\"p\", null, \"There may be other locations where you will need to update the path resolution like your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" as well.\"), mdx(\"h2\", {\n    \"id\": \"sourcing-pages\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#sourcing-pages\",\n    \"aria-label\": \"sourcing pages permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Sourcing Pages\"), mdx(\"p\", null, \"If your theme provides pages for things like the blog post index and a homepage, you will need to source them.\\nGatsby will only look in the relative \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages\"), \" directory when \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby develop\"), \" is run.\\nYou will need to use the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/packages/gatsby-plugin-page-creator/\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-plugin-page-creator\")), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm install --save gatsby-plugin-page-creator\\n\")), mdx(\"p\", null, \"Then, tell the plugin to look in your theme\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages\"), \" directory.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=gatsby-config.js\"\n  }), \"{\\n  resolve: `gatsby-plugin-page-creator`,\\n  options: {\\n    path: path.join(__dirname, `src`, `pages`),\\n  },\\n},\\n\")), mdx(\"h2\", {\n    \"id\": \"publishing-to-npm\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#publishing-to-npm\",\n    \"aria-label\": \"publishing to npm permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Publishing to NPM\"), mdx(\"p\", null, \"In order to allow others to install your theme you will need to publish it to npm. If you haven\\u2019t published to npm before, learn how \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.npmjs.com/packages-and-modules/contributing-packages-to-the-registry\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"From the root of your newly created theme run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm publish\"), \".\"), mdx(\"p\", null, \"Once you\\u2019ve published, you can install the theme in your starter.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm install --save gatsby-theme-NAME\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Gatsby themes are designed to be easy to create from an existing starter. Here we will walk you through the main steps of converting your…",
        "timeToRead": 1,
        "tableOfContents": {
          "items": [
            {
              "url": "#prepare-your-packagejson",
              "title": "Prepare Your package.json"
            },
            {
              "url": "#handling-path-resolution",
              "title": "Handling Path Resolution"
            },
            {
              "url": "#sourcing-pages",
              "title": "Sourcing Pages"
            },
            {
              "url": "#publishing-to-npm",
              "title": "Publishing to NPM"
            }
          ]
        },
        "fields": {
          "slug": "/docs/themes/converting-a-starter/",
          "anchor": "converting-a-starter"
        },
        "frontmatter": {
          "title": "Converting a Starter to a Theme",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "docs/themes/converting-a-starter.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/docs/themes/converting-a-starter/",
      "prev": {
        "title": "Building Themes",
        "link": "/docs/themes/building-themes/"
      },
      "next": {
        "title": "Theme Composition",
        "link": "/docs/themes/theme-composition/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}