{
  "path": "/packages/gatsby-source-c8db/",
  "result": {
    "data": {
      "markdownRemark": null,
      "npmPackage": {
        "name": "gatsby-source-c8db",
        "description": "Source plugin for pulling data into Gatsby from c8db collections",
        "keywords": [
          "c8db",
          "gatsby",
          "gatsby-plugin",
          "gatsby-transformer-plugin"
        ],
        "lastPublisher": {
          "name": "lohaniabhishek",
          "avatar": "https://gravatar.com/avatar/dd9e61820eb4ee85fb8247f299e8116a"
        },
        "repository": {
          "url": "https://github.com/Macrometacorp/gatsby-c8plugin"
        },
        "readme": {
          "childMarkdownRemark": {
            "html": "<h1 id=\"gatsby-source-c8db\"><a href=\"#gatsby-source-c8db\" aria-label=\"gatsby source c8db permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-source-c8db</h1>\n<p>Source plugin for pulling data into Gatsby from C8DB collections.</p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-label=\"how to use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// In your gatsby-config.js</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">/*\n     * Gatsby's data processing layer begins with “source” plugins. Here we\n     * setup the site to pull data from the \"pets\" collection in a\n     * C8 fedration\n     */</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-c8db\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        config<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://try.macrometa.io\"</span><span class=\"token punctuation\">,</span>\n        auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          tenant<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-tenant>\"</span><span class=\"token punctuation\">,</span>\n          user<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-user>\"</span><span class=\"token punctuation\">,</span>\n          password<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-password>\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        geoFabric<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-geofabric>\"</span><span class=\"token punctuation\">,</span>\n        collection<span class=\"token punctuation\">:</span> <span class=\"token string\">\"pets\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"multiple-collections\"><a href=\"#multiple-collections\" aria-label=\"multiple collections permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multiple Collections</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// In your gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-c8db</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        config<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://try.macrometa.io\"</span><span class=\"token punctuation\">,</span>\n        auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          tenant<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-tenant>\"</span><span class=\"token punctuation\">,</span>\n          user<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-user>\"</span><span class=\"token punctuation\">,</span>\n          password<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-password>\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        geoFabric<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-geofabric>\"</span><span class=\"token punctuation\">,</span>\n        collection<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"pets\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wild\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"plugin-options\"><a href=\"#plugin-options\" aria-label=\"plugin options permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin Options</h2>\n<ul>\n<li><strong>config</strong>: The config to pass to connect to the federation. If <code class=\"language-text\">config</code> is a string, it will be interpreted as <code class=\"language-text\">config.url</code>. A complete list of the config options can be found <a href=\"https://github.com/Macrometacorp/jsC8/tree/master/docs/Reference/Database#new-fabric\">here</a>.</li>\n<li><strong>auth</strong>: The credentials to login to the federtion. It will be an object with <code class=\"language-text\">tenant</code>, <code class=\"language-text\">user</code> and <code class=\"language-text\">password</code> keys.</li>\n<li><strong>geoFabric</strong>: The geo-fabric to be used for the logged-in user.</li>\n<li><strong>collection</strong>: The collection name within C8DB. It can also be an array for multiple collections.</li>\n<li><strong>map</strong>: Setup “mappings” for fields in your collections. You can tell Gatsby that a certain field is a given media type and with the correct transformer plugins installed, your data will be transformed automatically.</li>\n</ul>\n<h3 id=\"mapping-mediatype-feature\"><a href=\"#mapping-mediatype-feature\" aria-label=\"mapping mediatype feature permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mapping mediatype feature</h3>\n<p>Gatsby supports transformer plugins that know how to transform one data type to another e.g. markdown to html. In the plugin options you can setup “mappings” for fields in your collections. You can tell Gatsby that a certain field is a given media type and with the correct transformer plugins installed, your data will be transformed automatically.</p>\n<p>Let’s say we have a markdown field named <code class=\"language-text\">petName</code> in our C8DB collection <code class=\"language-text\">pets</code>. We want to author our content in markdown but want to transform the markdown to HTML for including in our React components.</p>\n<p>To do this, we modify the plugin configuration in gatsby-config.js like follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-c8db</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        config<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://try.macrometa.io\"</span><span class=\"token punctuation\">,</span>\n        auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          tenant<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-tenant>\"</span><span class=\"token punctuation\">,</span>\n          user<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-user>\"</span><span class=\"token punctuation\">,</span>\n          password<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-password>\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        geoFabric<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;my-geofabric>\"</span><span class=\"token punctuation\">,</span>\n        collection<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"pets\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wild\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        map<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            pets<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> petName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"text/markdown\"</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The GraphQL query to get the transformed markdown would look something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">query MyQuery <span class=\"token punctuation\">{</span>\n  allC8Document <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        collectionName\n        petName <span class=\"token punctuation\">{</span>\n          petName\n          childMarkdownRemark <span class=\"token punctuation\">{</span>\n            html\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>",
            "timeToRead": 2
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/packages/gatsby-source-c8db/",
      "id": "bab3ecd5-33af-569a-8090-1bb9aa94e3a4",
      "layout": "plugins"
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsRemotePackagesJs803499274(\n  $slug: String!\n) {\n  markdownRemark(fields: {slug: {eq: $slug}}) {\n    ...MarkdownPageFooter\n  }\n  npmPackage(slug: {eq: $slug}) {\n    name\n    description\n    keywords\n    lastPublisher {\n      name\n      avatar\n    }\n    repository {\n      url\n    }\n    readme {\n      childMarkdownRemark {\n        html\n        timeToRead\n      }\n    }\n  }\n}\n\nfragment MarkdownPageFooter on MarkdownRemark {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}