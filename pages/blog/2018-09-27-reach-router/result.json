{
  "path": "/blog/2018-09-27-reach-router/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How we improved Gatsby's accessibility in v2 by switching to @reach/router\",\n  \"date\": \"2018-09-27T00:00:00.000Z\",\n  \"author\": \"Amberley Romo\",\n  \"tags\": [\"v2\", \"accessibility\", \"client-side-routing\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Pullquote = makeShortcode(\"Pullquote\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We recently announced the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/blog/2018-09-17-gatsby-v2/\"\n  }), \"second major release of Gatsby\"), \" \\uD83D\\uDE80. One change we want to highlight is the switch to using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router\"\n  }), \"@reach/router\"), \" to improve the accessibility of routing in Gatsby sites. What is @reach/router, and what are the benefits of undertaking the switch?\"), mdx(\"h2\", {\n    \"id\": \"what-is-reachrouter\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-is-reachrouter\",\n    \"aria-label\": \"what is reachrouter permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What is @reach/router?\"), mdx(\"p\", null, \"@reach/router is a routing library for React written and maintained by one of the original creators of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/ReactTraining/react-router\"\n  }), \"react-router\"), \", \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/ryanflorence\"\n  }), \"Ryan Florence\"), \". After \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/issues/5656\"\n  }), \"investigating the tradeoffs\"), \", we made the leap to depending on @reach/router:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reach.tech/router/accessibility\"\n  }), \"Accessibility\"), \" is a first-class concern\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Smaller bundle size (~70% decrease, 18.4kb to 6kb gzipped)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Simplified API\")), mdx(\"h2\", {\n    \"id\": \"how-does-it-support-accessibility\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#how-does-it-support-accessibility\",\n    \"aria-label\": \"how does it support accessibility permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"How does it support accessibility?\"), mdx(\"p\", null, \"When you visit a Gatsby site, a static, server-rendered HTML page is loaded first, and then the JavaScript to hydrate the site into a web app is loaded. From there, internal routing is handled with the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/gatsby-link/\"\n  }), \"Gatsby Link component\"), \", which wraps \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reach.tech/router/api/Link\"\n  }), \"@reach/router\\u2019s Link component\"), \".\"), mdx(\"p\", null, \"Web apps rerender in the client \\u2014 without making a request to the server to fetch new HTML \\u2014 resulting in a faster, more seamless user experience. These performance benefits, however, can create a broken experience for users who rely on assistive technology like screen readers.\"), mdx(\"p\", null, \"When a user navigates between traditional server-rendered pages, the page is fully reloaded; In response, screen readers can announce the new content. When using most client-side routing solutions (out of the box), without the page reload, screen readers don\\u2019t know new content has been loaded to focus or announce.\"), mdx(\"p\", null, \"The video below demonstrates this challenge (Video by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/robdel12\"\n  }), \"Rob DeLuca\"), \", which accompanied his related article, \\u201C\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/@robdel12/single-page-apps-routers-are-broken-255daa310cf\"\n  }), \"Single page app routers are broken\"), \"\\u201D)\"), mdx(\"undefined\", null, \"\\n          \", mdx(\"div\", {\n    \"className\": \"gatsby-resp-iframe-wrapper\",\n    \"style\": {\n      \"paddingBottom\": \"56.25%\",\n      \"position\": \"relative\",\n      \"height\": \"0\",\n      \"overflow\": \"hidden\",\n      \"marginBottom\": \"1.5rem\"\n    }\n  }, \"\\n            \", mdx(\"iframe\", _extends({\n    parentName: \"div\"\n  }, {\n    \"src\": \"https://www.youtube.com/embed/NKTdNv8JpuM?rel=0\",\n    \"frameBorder\": \"0\",\n    \"allow\": \"autoplay; encrypted-media\",\n    \"allowFullScreen\": true,\n    \"title\": \"YouTube: (React) Disqus router\",\n    \"style\": {\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  })), \"\\n          \"), \"\\n          \"), mdx(\"p\", null, \"A primary focus (no pun intended) of @reach/router is to manage focus in client-side routing, out of the box, lifting the onus from devs to manage it from scratch. From the @reach/router documentation:\"), mdx(Pullquote, {\n    mdxType: \"Pullquote\"\n  }, \"Whenever the content of a page changes in response to a user interaction, the focus should be moved to that content; otherwise, users on assistive devices have to search around the page to find what changed\\u2013yuck! Without the help of a router, managing focus on route transitions requires a lot effort and knowledge on your part.\"), mdx(Pullquote, {\n    mdxType: \"Pullquote\"\n  }, \"Reach Router provides out-of-the-box focus management so your apps are significantly more accessible without you breaking a sweat.\"), mdx(Pullquote, {\n    mdxType: \"Pullquote\"\n  }, \"When the location changes, the top-most part of your application that changed is identified and focus is moved to it. Assistive devices then announce to the user the group of elements they are now focused on, similarly to how it works when they load up a page for the first time.\"), mdx(\"p\", null, \"The video below demonstrates this focus management:\"), mdx(\"blockquote\", {\n    className: \"twitter-tweet\",\n    \"data-conversation\": \"none\",\n    \"data-lang\": \"en\"\n  }, mdx(\"p\", {\n    lang: \"en\",\n    dir: \"ltr\"\n  }, \"Check out that focus management \\uD83D\\uDE0D\", mdx(\"br\", null), mdx(\"br\", null), \"The same code that makes this possible is what makes relative links and embedded routers possible too. \", mdx(\"a\", {\n    href: \"https://t.co/DjqveMfspA\"\n  }, \"pic.twitter.com/DjqveMfspA\")), \"\\u2014 Ryan Florence (@ryanflorence) \", mdx(\"a\", {\n    href: \"https://twitter.com/ryanflorence/status/1002219535921889281?ref_src=twsrc%5Etfw\"\n  }, \"May 31, 2018\")), mdx(\"p\", null, \"In terms of the development experience with Gatsby, this change is mostly under the hood, folded into the implementation of the Gatsby Link component. In terms of usability, accessibility by default is a win for everyone \\uD83D\\uDE4C\\uD83C\\uDFFB.\"), mdx(\"h2\", {\n    \"id\": \"migrating-from-v1-️-v2\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#migrating-from-v1-%EF%B8%8F-v2\",\n    \"aria-label\": \"migrating from v1 ️ v2 permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Migrating from v1 \\u27A1\\uFE0F v2\"), mdx(\"p\", null, \"For most sites, migrating from v1 to v2 shouldn\\u2019t be too painful, but there are a few instances you might want to be aware of. Check out the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/docs/migrating-from-v1-to-v2/#migrate-from-react-router-to-reachrouter\"\n  }), \"v2 migration guide\"), \" for details.\"), mdx(\"h2\", {\n    \"id\": \"tldr\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#tldr\",\n    \"aria-label\": \"tldr permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"TLDR;\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/pull/6918\"\n  }), \"Smaller package + better accessibility + simplified APIs\"), \" \\uD83D\\uDC4D\"), mdx(\"p\", null, \"We look forward to continuing to work actively with Ryan!\"), mdx(\"blockquote\", {\n    className: \"twitter-tweet\",\n    \"data-lang\": \"en\"\n  }, mdx(\"p\", {\n    lang: \"en\",\n    dir: \"ltr\"\n  }, \"Reach Router is hitting the big time with\", \" \", mdx(\"a\", {\n    href: \"https://twitter.com/gatsbyjs?ref_src=twsrc%5Etfw\"\n  }, \"@gatsbyjs\"), \" \", \"adopting it and Nike shipping a site with it\", \" \", mdx(\"a\", {\n    href: \"https://t.co/fthOUQ1lJh\"\n  }, \"https://t.co/fthOUQ1lJh\"), \" :D\", mdx(\"br\", null), mdx(\"br\", null), \"I'll be spending all day Thursday fixing/adding stuff Gatsby needs. AND! Gatsby is sponsoring my time.\", mdx(\"br\", null), mdx(\"br\", null), \"Thanks\", \" \", mdx(\"a\", {\n    href: \"https://twitter.com/kylemathews?ref_src=twsrc%5Etfw\"\n  }, \"@kylemathews\"), \" \", \"and the rest of the team \\uD83D\\uDE4F\\uD83C\\uDFFD\"), \"\\u2014 Ryan Florence (@ryanflorence) \", mdx(\"a\", {\n    href: \"https://twitter.com/ryanflorence/status/1042117992140554241?ref_src=twsrc%5Etfw\"\n  }, \"September 18, 2018\")), mdx(\"p\", null, \"Related Gatsby docs:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/migrating-from-v1-to-v2/#migrate-from-react-router-to-reachrouter\"\n  }), \"V2 Migration Guide\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/gatsby-link/\"\n  }), \"Gatsby Link API reference\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/blog/2018-09-17-gatsby-v2/\"\n  }), \"V2 announcement blog post\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"/docs/making-your-site-accessible\"\n  }), \"Making your site accessible\"))), mdx(\"p\", null, \"External references:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://medium.com/@robdel12/single-page-apps-routers-are-broken-255daa310cf\"\n  }), \"Single page app routers are broken\"), \" by Rob DeLuca\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reach.tech/router\"\n  }), \"@reach/router docs\"))));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "We recently announced the  second major release of Gatsby  🚀. One change we want to highlight is the switch to using  @reach/router  to…",
        "timeToRead": 2,
        "fields": {
          "slug": "/blog/2018-09-27-reach-router/",
          "publishedAt": null
        },
        "frontmatter": {
          "title": "How we improved Gatsby's accessibility in v2 by switching to @reach/router",
          "excerpt": null,
          "date": "September 27th 2018",
          "rawDate": "2018-09-27T00:00:00.000Z",
          "canonicalLink": null,
          "tags": [
            "v2",
            "accessibility",
            "client-side-routing"
          ],
          "image": null,
          "imageAuthor": null,
          "imageAuthorLink": null,
          "imageTitle": null,
          "showImageInArticle": null,
          "author": {
            "id": "Amberley Romo",
            "bio": "Developer based in Austin, TX.",
            "twitter": "@amberleyjohanna",
            "avatar": {
              "childImageSharp": {
                "fixed": {
                  "tracedSVG": "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%3e%3crect%20width='100%25'%20height='100%25'%20fill='%23f6f2f8'/%3e%3cpath%20d='M8%203L6%206c-2%207-2%209-1%209%202%200%201%202-1%203H1l-1%207v7h33v-8c0-6-1-8-2-7l-2-1c-1-2-2-2-3%200v1l1%202-1%201v-1l-1-1-3%201v1l1%202-2-1-4-3c-3-2-4-7-1-6%203%200%202-2%200-4s-2-2-1-4%201-2-2-2L8%203m17%2019c-2%200-3%202%200%202l1%201a5088%205088%200%20012%205c0-3%204-3%204%200%201%201%201-1%201-4%200-4%200-5-1-3l-1%203v-3c-1-2-1-2-2-1h-4'%20fill='%23e0d6eb'%20fill-rule='evenodd'/%3e%3c/svg%3e",
                  "width": 64,
                  "height": 64,
                  "src": "/static/3f69aece5f8d2389b47b4c83506b8201/88ae8/amberley-romo.jpg",
                  "srcSet": "/static/3f69aece5f8d2389b47b4c83506b8201/88ae8/amberley-romo.jpg 1x,\n/static/3f69aece5f8d2389b47b4c83506b8201/0740f/amberley-romo.jpg 1.5x,\n/static/3f69aece5f8d2389b47b4c83506b8201/c9264/amberley-romo.jpg 2x"
                }
              }
            },
            "fields": {
              "slug": "/contributors/amberley-romo/"
            }
          }
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/blog/2018-09-27-reach-router/",
      "prev": {
        "fields": {
          "slug": "/blog/2018-09-25-announcing-graphql-stitching-support/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "Announcing support for natively querying 3rd-party GraphQL APIs with Gatsby",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "graphql",
            "plugins",
            "content-mesh",
            "releases"
          ]
        }
      },
      "next": {
        "fields": {
          "slug": "/blog/2018-09-27-sendgrid-knowledge-center-cuts-page-load-times-in-half-with-gatsby/",
          "package": null,
          "released": true
        },
        "frontmatter": {
          "title": "SendGrid Knowledge Center cuts page load times in half with Gatsby",
          "draft": null,
          "canonicalLink": null,
          "publishedAt": null,
          "issue": null,
          "tags": [
            "case-studies"
          ]
        }
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateBlogPostJs2991924798(\n  $slug: String!\n) {\n  mdx(fields: {slug: {eq: $slug}}) {\n    body\n    excerpt\n    timeToRead\n    fields {\n      slug\n      publishedAt\n    }\n    frontmatter {\n      title\n      excerpt\n      date(formatString: \"MMMM Do YYYY\")\n      rawDate: date\n      canonicalLink\n      tags\n      image {\n        childImageSharp {\n          resize(width: 1500, height: 1500) {\n            src\n          }\n          fluid(maxWidth: 786) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n      imageAuthor\n      imageAuthorLink\n      imageTitle\n      showImageInArticle\n      author {\n        id\n        bio\n        twitter\n        avatar {\n          childImageSharp {\n            fixed(width: 64, height: 64, quality: 75, traceSVG: {turdSize: 10, background: \"#f6f2f8\", color: \"#e0d6eb\"}) {\n              ...GatsbyImageSharpFixed_tracedSVG\n            }\n          }\n        }\n        fields {\n          slug\n        }\n      }\n    }\n  }\n}\n\nfragment GatsbyImageSharpFluid on ImageSharpFluid {\n  base64\n  aspectRatio\n  src\n  srcSet\n  sizes\n}\n\nfragment GatsbyImageSharpFixed_tracedSVG on ImageSharpFixed {\n  tracedSVG\n  width\n  height\n  src\n  srcSet\n}\n"
}