{
  "path": "/tutorial/prismic-source-graphql-tutorial/",
  "result": {
    "data": {
      "mdx": {
        "body": "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Using Prismic with GraphQL Source Plugin\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"prismic--gatsby-features\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#prismic--gatsby-features\",\n    \"aria-label\": \"prismic  gatsby features permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prismic + Gatsby features\"), mdx(\"p\", null, \"Prismic is a headless CMS that provides a web application that allows content writers to focus on creating and updating the content of their website. Essentially, it differentiates itself thanks to its UX that allows a lot of flexibility without complicating it. The Slices feature plays a big role in this, they essentially correspond to components in the web application that non-technical people can use to assemble their page.\\nUsed alongside Gatsby it lets you create fast, editable sites.\"), mdx(\"p\", null, \"Note that the Gatsby Prismic source plugin you will use during this tutorial, as a main feature, allows for \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"real previews\"), \" of your pages so you can know how they will look like before publishing or building them. You can generate \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"shareable links\"), \" that can even be seen by non-Prismic users.\"), mdx(\"h2\", {\n    \"id\": \"whats-contained-in-this-tutorial\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#whats-contained-in-this-tutorial\",\n    \"aria-label\": \"whats contained in this tutorial permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What\\u2019s contained in this tutorial?\"), mdx(\"p\", null, \"By the end of this tutorial, you\\u2019ll have done the following:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Learned how to configure the latest version of the Prismic source plugin\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Fetch and render data from a Prismic repository\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create pages programmatically from a Prismic source\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Configure previews for unpublished and edited documents\")), mdx(\"h2\", {\n    \"id\": \"prerequisites\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#prerequisites\",\n    \"aria-label\": \"prerequisites permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prerequisites\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Familiarity with Gatsby\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A personal Prismic repository. You can follow \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/getting-started/create-repo-minimalist-blog\"\n  }), \"this 5 minute guide\"), \" for instructions to set up a barebones repository for a minimalistic blog\")), mdx(\"h2\", {\n    \"id\": \"preparing-your-environment\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#preparing-your-environment\",\n    \"aria-label\": \"preparing your environment permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Preparing your environment\"), mdx(\"p\", null, \"Start a new Gatsby project using the default starter.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"$ gatsby new gatsby-prismic-blog\\n$ cd gatsby-prismic-blog\\n\")), mdx(\"p\", null, \"Now, you will have to install missing packages. This command includes the Gatsby Prismic source plugin, and the Prismic kits for facilitating processes in React:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"$ npm i --save gatsby-source-prismic-graphql prismic-javascript prismic-reactjs\\n\")), mdx(\"p\", null, \"If you want to focus on learning how to fetch and render data from a Prismic repository, it\\u2019s safe to just use the sample repository \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-blog-scratch\"), \" but you should create your own so you can modify the content and test out previews. Otherwise, you can follow \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/getting-started/create-repo-minimalist-blog\"\n  }), \"this article\"), \" to create your own Prismic repository. You will want to write several blog posts to have some nice content to show off.\"), mdx(\"h2\", {\n    \"id\": \"configuring-the-plugin\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#configuring-the-plugin\",\n    \"aria-label\": \"configuring the plugin permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Configuring the plugin\"), mdx(\"p\", null, \"You will setup the Gatsby source plugin so it can fetch data from the Prismic repository. For this the only option you have to specify is the repository\\u2019s name.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=gatsby-config.js\"\n  }), \"{\\n  resolve: `gatsby-source-prismic-graphql`,\\n  options: {\\n    repositoryName: 'gatsby-blog-scratch'\\n  }\\n},\\n\")), mdx(\"p\", null, \"If you run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby develop\"), \" now, you should be able to access the data from Prismic through the GraphiQL interface in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000/___graphql\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"http://localhost:8000/___graphql\")), \". You can check this by trying a query that uses the Prismic source.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-graphql\"\n  }), \"{\\n  prismic {\\n    _allDocuments {\\n      edges {\\n        node {\\n          __typename\\n        }\\n      }\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"If your Prismic documents are being retrieved, then the configuration was successful!\"), mdx(\"h2\", {\n    \"id\": \"fetching-and-rendering-data\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#fetching-and-rendering-data\",\n    \"aria-label\": \"fetching and rendering data permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Fetching and rendering data\"), mdx(\"p\", null, \"Once you have verified on GraphiQL that you can retrieve the data from your previously created Prismic content repository, you can start on fetching and rendering that content.\"), mdx(\"p\", null, \"In GraphiQL experiment with the data and how it\\u2019s structured. You can use the autocomplete to help you navigate around how Gatsby interprets the Prismic repository. You will need a query that gets the Home information, as well as an array of blog posts sorted in descending order.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=src/pages/index.js\"\n  }), \"import React from \\\"react\\\"\\nimport { Link, graphql } from \\\"gatsby\\\" //highlight-line\\n\\nimport Layout from \\\"../components/layout\\\"\\nimport { RichText } from \\\"prismic-reactjs\\\" //highlight-line\\n\\n//highlight-start\\nexport const query = graphql`\\n  {\\n    prismic {\\n      allBlog_homes {\\n        edges {\\n          node {\\n            headline\\n            description\\n            image\\n          }\\n        }\\n      }\\n      allPosts(sortBy: date_DESC) {\\n        edges {\\n          node {\\n            _meta {\\n              id\\n              uid\\n              type\\n            }\\n            title\\n            date\\n          }\\n        }\\n      }\\n    }\\n  }\\n`\\n// highlight-end\\n\")), mdx(\"p\", null, \"In order to render this data, replace the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export default IndexPage\"), \" line in the original \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.js\"), \" file with the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=src/pages/index.js\"\n  }), \"export default ({ data }) => {\\n  const doc = data.prismic.allBlog_homes.edges.slice(0, 1).pop()\\n  const posts = data.prismic.allPosts.edges\\n\\n  if (!doc) return null\\n\\n  return (\\n    <Layout>\\n      <div>\\n        <img src={doc.node.image.url} alt={doc.node.image.alt} /> // Make sure\\n        to add an accessible alt attribute when adding images in Prismic:\\n        https://user-guides.prismic.io/articles/768849-add-metadata-to-an-asset\\n        <h1>{RichText.asText(doc.node.headline)}</h1>\\n        <p>{RichText.asText(doc.node.description)}</p>\\n      </div>\\n    </Layout>\\n  )\\n}\\n\")), mdx(\"p\", null, \"Save the file and check on your site running at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"http://localhost:8000\"))), mdx(\"p\", null, \"You can use the helper function \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RichText\"), \" to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/rendering/rich-text\"\n  }), \"render formatted text\"), \" and generally, this is the process you will use to query your Prismic repository and then render it. We can clean this up and include a function that will render the array of queried blog posts.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js:title=src/pages/index.js\"\n  }), \"//highlight-start\\nconst BlogPosts = ({ posts }) => {\\n  if (!posts) return null\\n  return (\\n    <div>\\n      {posts.map(post => {\\n        return (\\n          <div key={post.node._meta.id}>\\n            <h2>{RichText.asText(post.node.title)}</h2>\\n            <p>\\n              <time>{post.node.date}</time>\\n            </p>\\n          </div>\\n        )\\n      })}\\n    </div>\\n  )\\n}\\n//highlight-end\\n\\nexport default ({ data }) => {\\n  const doc = data.prismic.allBlog_homes.edges.slice(0, 1).pop()\\n  const posts = data.prismic.allPosts.edges\\n\\n  if (!doc) return null\\n\\n  return (\\n    <Layout>\\n      <div>\\n        <img src={doc.node.image.url} alt={doc.node.image.alt} />\\n        <h1>{RichText.asText(doc.node.headline)}</h1>\\n        <p>{RichText.asText(doc.node.description)}</p>\\n      </div>\\n      <BlogPosts posts={posts} /> //highlight-line\\n    </Layout>\\n  )\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"building-links-to-your-documents\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#building-links-to-your-documents\",\n    \"aria-label\": \"building links to your documents permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Building links to your documents\"), mdx(\"p\", null, \"Now things are really taking shape. We will turn these blog post titles into links by building a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/beyond-the-api/link-resolving\"\n  }), \"link resolver function\"), \", which will build the correct route for your posts.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=src/utils/linkResolver.js\"\n  }), \"exports.linkResolver = function linkResolver(doc) {\\n  // Route for blog posts\\n  if (doc.type === \\\"post\\\") {\\n    return \\\"/blog/\\\" + doc.uid\\n  }\\n  // Homepage route fallback\\n  return \\\"/\\\"\\n}\\n\")), mdx(\"p\", null, \"This function\\u2019s goal is to generate a navigation url that depends on the document type. In this case, it will be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/blog/{unique slug}\"), \" for documents of the type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"post\"), \" and the root folder \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/\"), \" for every other document type, including \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"blog_home\"), \". As you can see, the data required to generate a proper url with this helper function is the document\\u2019s type and unique identifier. These fields are always present as part of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"_meta\"), \" field, so make sure to retrieve it in your query.\"), mdx(\"p\", null, \"You will have to setup your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-browser.js\"), \" file to use the Link Resolver as well.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=gatsby-browser.js\"\n  }), \"const { registerLinkResolver } = require(\\\"gatsby-source-prismic-graphql\\\")\\nconst { linkResolver } = require(\\\"./src/utils/linkResolver\\\")\\n\\nregisterLinkResolver(linkResolver)\\n\")), mdx(\"p\", null, \"You can now use the proper url generated by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"linkResolver\"), \" function to build the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Link>\"), \" component for each blog post, so that post titles are links now.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=src/pages/index.js\"\n  }), \"const BlogPosts = ({ posts }) => {\\n  if (!posts) return null\\n  return (\\n    <ul>\\n      {posts.map(post => {\\n        return (\\n          <li key={post.node._meta.id}>\\n            // highlight-start\\n            <Link to={linkResolver(post.node._meta)}>\\n              {RichText.asText(post.node.title)}\\n            </Link>\\n            // highlight-end\\n            <p>\\n              <time>{post.node.date}</time>\\n            </p>\\n          </li>\\n        )\\n      })}\\n    </ul>\\n  )\\n}\\n\")), mdx(\"p\", null, \"At this point, if you try to use these links to navigate your site, you will notice that you\\u2019re faced with a 404 error on every page. That\\u2019s because even though you\\u2019re navigating to the pages correctly, there\\u2019s still the issue of actually creating the pages. For this, you will have to use a template file which will programmatically build a page for each blog post.\"), mdx(\"h2\", {\n    \"id\": \"creating-pages-programmatically-with-a-template\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-pages-programmatically-with-a-template\",\n    \"aria-label\": \"creating pages programmatically with a template permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating pages programmatically with a template\"), mdx(\"p\", null, \"The template you will build is very similar in concept to a regular page, with the addition of introducing a variable which will be used to query the different blog posts.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=/src/templates/post.js\"\n  }), \"import React from \\\"react\\\"\\nimport { graphql, Link } from \\\"gatsby\\\"\\nimport { RichText } from \\\"prismic-reactjs\\\"\\n\\nexport const query = graphql`\\n  query BlogPostQuery($uid: String) {\\n    prismic {\\n      allPosts(uid: $uid) {\\n        edges {\\n          node {\\n            title\\n            date\\n            post_body\\n          }\\n        }\\n      }\\n    }\\n  }\\n`\\n\\nexport default ({ data }) => {\\n  const doc = data.prismic.allPosts.edges.slice(0, 1).pop()\\n  if (!doc) return null\\n\\n  return (\\n    <div>\\n      <Link to=\\\"/\\\">\\n        <span>go back</span>\\n      </Link>\\n      <h1>{RichText.asText(doc.node.title)}</h1>\\n      <span>\\n        <em>{doc.node.date}</em>\\n      </span>\\n      <div>{RichText.render(doc.node.post_body)}</div>\\n    </div>\\n  )\\n}\\n\")), mdx(\"p\", null, \"We\\u2019re rendering a very minimalistic page for each blog post; consisting of:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A link back to the homepage.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The article\\u2019s title and page.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The rich text body which will contain formatted text and images.\")), mdx(\"p\", null, \"Having a template is not enough to generate the dynamic pages, you will need to configure the plugin in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" so that pages are created following the same pattern defined in the link resolver function.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=\\\"/gatsby-config.js\\\"\"\n  }), \"options: {\\n  repositoryName: 'gatsby-blog-scratch',\\n  //highlight-start\\n  pages: [{\\n    type: 'Post',          // Custom type of the document\\n    match: '/blog/:uid',   // Pages will be generated in this pattern\\n    path: '/blog-preview', // Placeholder route for previews\\n    component: require.resolve('./src/templates/post.js') // Template file\\n  }]\\n  //highlight-end\\n}\\n\")), mdx(\"p\", null, \"And with this last step you should be able to see all of your blog posts rendered on your site.\"), mdx(\"h2\", {\n    \"id\": \"setting-up-for-previews\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#setting-up-for-previews\",\n    \"aria-label\": \"setting up for previews permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Setting up for Previews\"), mdx(\"p\", null, \"One of the most exciting features that this Gatsby Prismic source plugin provides is the ability to preview changes to your documents without having to publish them or rebuild your Gatsby app. To activate this, you first need to setup an endpoint in your Prismic repository.\"), mdx(\"p\", null, \"In your repository, go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Settings > Previews > Create a New Preview\"), \" and fill in the fields for your setup. For a default local development environment, you should use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://localhost:8000\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"http://localhost:8000\")), \" as the Domain, with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/preview\"), \" as the optional Link Resolver. Don\\u2019t worry about including the toolbar script, the plugin will take care of it.\"), mdx(\"p\", null, \"Finally, return to your Gatsby configuration file to activate the feature.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript:title=\\\"/gatsby-config.js\\\"\"\n  }), \"\\n{\\n  resolve: `gatsby-source-prismic-graphql`,\\n  options: {\\n    repositoryName: 'gatsby-blog-scratch',\\n    //highlight-start\\n    previews: true,\\n    path: '/preview',\\n    //highlight-end\\n    pages: [{\\n      type: 'Post',\\n      match: '/blog/:uid',\\n      path: '/blog-preview',\\n      component: require.resolve('./src/templates/post.js')\\n    }]\\n  }\\n}\\n\")), mdx(\"p\", null, \"Your blog is ready to handle previews now. Just edit any of your blog posts in your Prismic repository and preview the changes you\\u2019ve made instead of publishing it. Previews are not limited to the development environment, you can adjust the endpoint configuration to work for the hosted version you deploy. Content writers can use it as a staging environment to preview their content changes without having to rebuild your site, and before publishing.\"), mdx(\"h2\", {\n    \"id\": \"what-did-you-just-build\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-did-you-just-build\",\n    \"aria-label\": \"what did you just build permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What did you just build?\"), mdx(\"p\", null, \"After following this tutorial you have a minimalist blog that uses a Prismic repository as a data source. You have learned:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to query the relevant data with GraphQL.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Render that data in your site.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create templates to generate pages programmatically.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Build links to navigate your site.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"And most importantly, how to setup previews so you can view changes to your documents without publishing them.\")), mdx(\"h2\", {\n    \"id\": \"where-to-go-from-here\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#where-to-go-from-here\",\n    \"aria-label\": \"where to go from here permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Where to go from here\"), mdx(\"p\", null, \"If you want to go further, here are some more advanced things you can do using Prismic:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Rendering \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.youtube.com/watch?v=N85Tw06e29Q\"\n  }), \"slice components\"), \" for modular page building.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Using \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://user-guides.prismic.io/webhooks/webhooks\"\n  }), \"webhooks\"), \" as a trigger to rebuild your site.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Using a \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/getting-started/prismic-gatsby#27_0-using-the-html-serializer\"\n  }), \"helper function\"), \" to change links inside rich text fields to Link components.\")), mdx(\"p\", null, \"You can read more about it in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://prismic.io/docs/reactjs/getting-started/prismic-gatsby\"\n  }), \"Prismic\\u2019s Gatsby documentation\"), \", build your \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://user-guides.prismic.io/examples/gatsby-js-samples/sample-blog-with-api-based-cms-gatsbyjs\"\n  }), \"own full featured blog\"), \" where you can try out Slices.\"));\n}\n;\nMDXContent.isMDXComponent = true;",
        "excerpt": "Prismic + Gatsby features Prismic is a headless CMS that provides a web application that allows content writers to focus on creating and…",
        "timeToRead": 5,
        "tableOfContents": {
          "items": [
            {
              "url": "#prismic--gatsby-features",
              "title": "Prismic + Gatsby features"
            },
            {
              "url": "#whats-contained-in-this-tutorial",
              "title": "What’s contained in this tutorial?"
            },
            {
              "url": "#prerequisites",
              "title": "Prerequisites"
            },
            {
              "url": "#preparing-your-environment",
              "title": "Preparing your environment"
            },
            {
              "url": "#configuring-the-plugin",
              "title": "Configuring the plugin"
            },
            {
              "url": "#fetching-and-rendering-data",
              "title": "Fetching and rendering data"
            },
            {
              "url": "#building-links-to-your-documents",
              "title": "Building links to your documents"
            },
            {
              "url": "#creating-pages-programmatically-with-a-template",
              "title": "Creating pages programmatically with a template"
            },
            {
              "url": "#setting-up-for-previews",
              "title": "Setting up for Previews"
            },
            {
              "url": "#what-did-you-just-build",
              "title": "What did you just build?"
            },
            {
              "url": "#where-to-go-from-here",
              "title": "Where to go from here"
            }
          ]
        },
        "fields": {
          "slug": "/tutorial/prismic-source-graphql-tutorial/",
          "anchor": "prismic-source-graphql-tutorial"
        },
        "frontmatter": {
          "title": "Using Prismic with GraphQL Source Plugin",
          "overview": null,
          "issue": null,
          "disableTableOfContents": null,
          "tableOfContentsDepth": null
        },
        "parent": {
          "__typename": "File",
          "relativePath": "tutorial/prismic-source-graphql-tutorial.md"
        }
      }
    },
    "pageContext": {
      "isCreatedByStatefulCreatePages": false,
      "slug": "/tutorial/prismic-source-graphql-tutorial/",
      "prev": {
        "title": "Adding Images to a WordPress Site",
        "link": "/tutorial/wordpress-image-tutorial/"
      },
      "next": {
        "title": "Writing Documentation with Docz",
        "link": "/tutorial/writing-documentation-with-docz/"
      }
    }
  },
  "query": "query usersMisiekDevGatsbyWwwSrcTemplatesTemplateDocsMarkdownJs2546709735(\n  $path: String!\n) {\n  mdx(fields: {slug: {eq: $path}}) {\n    body\n    excerpt\n    timeToRead\n    tableOfContents\n    fields {\n      slug\n      anchor\n    }\n    frontmatter {\n      title\n      overview\n      issue\n      disableTableOfContents\n      tableOfContentsDepth\n    }\n    ...MarkdownPageFooterMdx\n  }\n}\n\nfragment MarkdownPageFooterMdx on Mdx {\n  parent {\n    __typename\n    ... on File {\n      relativePath\n    }\n  }\n}\n"
}